<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: dill.source Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacedill_1_1source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">dill.source Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a69b1cba87095125a00838a280f8f66ae" id="r_a69b1cba87095125a00838a280f8f66ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69b1cba87095125a00838a280f8f66ae">isfrommain</a> (obj)</td></tr>
<tr class="separator:a69b1cba87095125a00838a280f8f66ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c0a2c9dfdab08a62ae67554ee6ebcc" id="r_a43c0a2c9dfdab08a62ae67554ee6ebcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43c0a2c9dfdab08a62ae67554ee6ebcc">isdynamic</a> (obj)</td></tr>
<tr class="separator:a43c0a2c9dfdab08a62ae67554ee6ebcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af811bb4f35f2d889da88a5b79e2ea655" id="r_af811bb4f35f2d889da88a5b79e2ea655"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af811bb4f35f2d889da88a5b79e2ea655">_matchlambda</a> (func, line)</td></tr>
<tr class="separator:af811bb4f35f2d889da88a5b79e2ea655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0aee7aa0a20c897785cc81405ed98f8" id="r_ab0aee7aa0a20c897785cc81405ed98f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0aee7aa0a20c897785cc81405ed98f8">findsource</a> (object)</td></tr>
<tr class="separator:ab0aee7aa0a20c897785cc81405ed98f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2cef3a3b7b20f7f5dee8bea05c22b3d" id="r_ac2cef3a3b7b20f7f5dee8bea05c22b3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2cef3a3b7b20f7f5dee8bea05c22b3d">getblocks</a> (object, lstrip=False, enclosing=False, locate=False)</td></tr>
<tr class="separator:ac2cef3a3b7b20f7f5dee8bea05c22b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d0fbc5e80efb3cad138bab9a09f595" id="r_ab4d0fbc5e80efb3cad138bab9a09f595"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4d0fbc5e80efb3cad138bab9a09f595">getsourcelines</a> (object, lstrip=False, enclosing=False)</td></tr>
<tr class="separator:ab4d0fbc5e80efb3cad138bab9a09f595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62c4b1237ef73de6ad028639ebb823d" id="r_ae62c4b1237ef73de6ad028639ebb823d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae62c4b1237ef73de6ad028639ebb823d">getsource</a> (object, alias='', lstrip=False, enclosing=False, force=False, builtin=False)</td></tr>
<tr class="separator:ae62c4b1237ef73de6ad028639ebb823d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee32b00f768a89018e4816f6d54aca4" id="r_a5ee32b00f768a89018e4816f6d54aca4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ee32b00f768a89018e4816f6d54aca4">_hascode</a> (object)</td></tr>
<tr class="separator:a5ee32b00f768a89018e4816f6d54aca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32af5c664f80056b5e0120928bba356f" id="r_a32af5c664f80056b5e0120928bba356f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32af5c664f80056b5e0120928bba356f">_isinstance</a> (object)</td></tr>
<tr class="separator:a32af5c664f80056b5e0120928bba356f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc754ac9eed4c2404cf433c8ce1345c" id="r_aafc754ac9eed4c2404cf433c8ce1345c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafc754ac9eed4c2404cf433c8ce1345c">_intypes</a> (object)</td></tr>
<tr class="separator:aafc754ac9eed4c2404cf433c8ce1345c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad539ad43979132c43cda17e5fb051446" id="r_ad539ad43979132c43cda17e5fb051446"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad539ad43979132c43cda17e5fb051446">_isstring</a> (object)</td></tr>
<tr class="separator:ad539ad43979132c43cda17e5fb051446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fccdaaf0566246140b855195e651989" id="r_a2fccdaaf0566246140b855195e651989"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fccdaaf0566246140b855195e651989">indent</a> (code, spaces=4)</td></tr>
<tr class="separator:a2fccdaaf0566246140b855195e651989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4791b80e530ab9bd8103c8a88ffeb9" id="r_a7c4791b80e530ab9bd8103c8a88ffeb9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c4791b80e530ab9bd8103c8a88ffeb9">_outdent</a> (lines, spaces=None, all=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>)</td></tr>
<tr class="separator:a7c4791b80e530ab9bd8103c8a88ffeb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c428ef72222bb8e43bbc18570eece2" id="r_a65c428ef72222bb8e43bbc18570eece2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65c428ef72222bb8e43bbc18570eece2">outdent</a> (code, spaces=None, all=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>)</td></tr>
<tr class="separator:a65c428ef72222bb8e43bbc18570eece2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cae6c5d2250e93f8968bfa4a884806" id="r_ae3cae6c5d2250e93f8968bfa4a884806"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3cae6c5d2250e93f8968bfa4a884806">_wrap</a> (f)</td></tr>
<tr class="separator:ae3cae6c5d2250e93f8968bfa4a884806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d76457d22936ad430388ee26f14e701" id="r_a9d76457d22936ad430388ee26f14e701"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d76457d22936ad430388ee26f14e701">_enclose</a> (object, alias='')</td></tr>
<tr class="separator:a9d76457d22936ad430388ee26f14e701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a125b487df4011490978854261be40587" id="r_a125b487df4011490978854261be40587"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a125b487df4011490978854261be40587">dumpsource</a> (object, alias='', new=False, enclose=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>)</td></tr>
<tr class="separator:a125b487df4011490978854261be40587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c280c07c7a4b83db1699900076eda9" id="r_ab8c280c07c7a4b83db1699900076eda9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8c280c07c7a4b83db1699900076eda9">getname</a> (obj, force=False, fqn=False)</td></tr>
<tr class="separator:ab8c280c07c7a4b83db1699900076eda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d6aab3da80af9abfb8f23d644c46fd" id="r_a64d6aab3da80af9abfb8f23d644c46fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64d6aab3da80af9abfb8f23d644c46fd">_namespace</a> (obj)</td></tr>
<tr class="separator:a64d6aab3da80af9abfb8f23d644c46fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21adc5acb1cab0b12b73c4d73ebfaa5d" id="r_a21adc5acb1cab0b12b73c4d73ebfaa5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21adc5acb1cab0b12b73c4d73ebfaa5d">_getimport</a> (head, tail, alias='', verify=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>, builtin=False)</td></tr>
<tr class="separator:a21adc5acb1cab0b12b73c4d73ebfaa5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db0e35a485d0a8b42ce1ef8a6d4829e" id="r_a5db0e35a485d0a8b42ce1ef8a6d4829e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5db0e35a485d0a8b42ce1ef8a6d4829e">getimport</a> (obj, alias='', verify=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>, builtin=False, enclosing=False)</td></tr>
<tr class="separator:a5db0e35a485d0a8b42ce1ef8a6d4829e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eca2f4eb5dfd1cc7ea158e09c3f6549" id="r_a9eca2f4eb5dfd1cc7ea158e09c3f6549"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9eca2f4eb5dfd1cc7ea158e09c3f6549">_importable</a> (obj, alias='', source=None, enclosing=False, force=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>, builtin=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>, lstrip=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>)</td></tr>
<tr class="separator:a9eca2f4eb5dfd1cc7ea158e09c3f6549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ddf4e1ee1234819a2007a093d79cba" id="r_a29ddf4e1ee1234819a2007a093d79cba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29ddf4e1ee1234819a2007a093d79cba">_closuredimport</a> (func, alias='', builtin=False)</td></tr>
<tr class="separator:a29ddf4e1ee1234819a2007a093d79cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a787a31ae3f7f8eaa39dc4b8a81fee9aa" id="r_a787a31ae3f7f8eaa39dc4b8a81fee9aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a787a31ae3f7f8eaa39dc4b8a81fee9aa">_closuredsource</a> (func, alias='')</td></tr>
<tr class="separator:a787a31ae3f7f8eaa39dc4b8a81fee9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b793b3bb3df5645e858166d4272b63e" id="r_a9b793b3bb3df5645e858166d4272b63e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b793b3bb3df5645e858166d4272b63e">importable</a> (obj, alias='', source=None, builtin=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>)</td></tr>
<tr class="separator:a9b793b3bb3df5645e858166d4272b63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6eb4588d87915a12a1de69257ea4e8" id="r_a6c6eb4588d87915a12a1de69257ea4e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c6eb4588d87915a12a1de69257ea4e8">getimportable</a> (obj, alias='', byname=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>, explicit=False)</td></tr>
<tr class="separator:a6c6eb4588d87915a12a1de69257ea4e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd917b8d2cce7351d649c516afeb9fc" id="r_a7fd917b8d2cce7351d649c516afeb9fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fd917b8d2cce7351d649c516afeb9fc">likely_import</a> (obj, passive=False, explicit=False)</td></tr>
<tr class="separator:a7fd917b8d2cce7351d649c516afeb9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36b1e7f67b526db4811a92a2e4d8086" id="r_ab36b1e7f67b526db4811a92a2e4d8086"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab36b1e7f67b526db4811a92a2e4d8086">_likely_import</a> (first, last, passive=False, explicit=<a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a>)</td></tr>
<tr class="separator:ab36b1e7f67b526db4811a92a2e4d8086"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaee3bc68dd3a6cbeb836cf375869a04d" id="r_aaee3bc68dd3a6cbeb836cf375869a04d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaee3bc68dd3a6cbeb836cf375869a04d">_indent</a> = indentsize(lines[i])</td></tr>
<tr class="memdesc:aaee3bc68dd3a6cbeb836cf375869a04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">stq = "'''"; dtq = '"""' in_stq = in_dtq = False  <br /></td></tr>
<tr class="separator:aaee3bc68dd3a6cbeb836cf375869a04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cd1f5fd64c1f2e833aa677c17ec211" id="r_a56cd1f5fd64c1f2e833aa677c17ec211"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56cd1f5fd64c1f2e833aa677c17ec211">_get_name</a> = <a class="el" href="#ab8c280c07c7a4b83db1699900076eda9">getname</a></td></tr>
<tr class="separator:a56cd1f5fd64c1f2e833aa677c17ec211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecae5d1ffba87ab2c6cfa3fd8f919388" id="r_aecae5d1ffba87ab2c6cfa3fd8f919388"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aecae5d1ffba87ab2c6cfa3fd8f919388">getblocks_from_history</a> = <a class="el" href="#ac2cef3a3b7b20f7f5dee8bea05c22b3d">getblocks</a></td></tr>
<tr class="separator:aecae5d1ffba87ab2c6cfa3fd8f919388"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Extensions to python's 'inspect' module, which can be used
to retrieve information from live python objects. The methods
defined in this module are augmented to facilitate access to
source code of interactively defined functions and classes,
as well as provide access to source code for objects defined
in a file.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a29ddf4e1ee1234819a2007a093d79cba" name="a29ddf4e1ee1234819a2007a093d79cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29ddf4e1ee1234819a2007a093d79cba">&#9670;&#160;</a></span>_closuredimport()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._closuredimport </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>builtin</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">get import for closured objects; return a dict of 'name' and 'import'</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00837">837</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  837</span><span class="keyword">def </span>_closuredimport(func, alias=&#39;&#39;, builtin=False):</div>
<div class="line"><span class="lineno">  838</span>    <span class="stringliteral">&quot;&quot;&quot;get import for closured objects; return a dict of &#39;name&#39; and &#39;import&#39;&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  839</span>    <span class="keyword">import</span> re</div>
<div class="line"><span class="lineno">  840</span>    <span class="keyword">from</span> .detect <span class="keyword">import</span> freevars, outermost</div>
<div class="line"><span class="lineno">  841</span>    free_vars = freevars(func)</div>
<div class="line"><span class="lineno">  842</span>    func_vars = {}</div>
<div class="line"><span class="lineno">  843</span>    <span class="comment"># split into &#39;funcs&#39; and &#39;non-funcs&#39;</span></div>
<div class="line"><span class="lineno">  844</span>    <span class="keywordflow">for</span> name,obj <span class="keywordflow">in</span> list(free_vars.items()):</div>
<div class="line"><span class="lineno">  845</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isfunction(obj): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  846</span>        <span class="comment"># get import for &#39;funcs&#39;</span></div>
<div class="line"><span class="lineno">  847</span>        fobj = free_vars.pop(name)</div>
<div class="line"><span class="lineno">  848</span>        src = getsource(fobj)</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">if</span> src.lstrip().startswith(<span class="stringliteral">&#39;@&#39;</span>): <span class="comment"># we have a decorator</span></div>
<div class="line"><span class="lineno">  850</span>            src = getimport(fobj, alias=alias, builtin=builtin)</div>
<div class="line"><span class="lineno">  851</span>        <span class="keywordflow">else</span>: <span class="comment"># we have to &quot;hack&quot; a bit... and maybe be lucky</span></div>
<div class="line"><span class="lineno">  852</span>            encl = outermost(func)</div>
<div class="line"><span class="lineno">  853</span>            <span class="comment"># pattern: &#39;func = enclosing(fobj&#39;</span></div>
<div class="line"><span class="lineno">  854</span>            pat = <span class="stringliteral">r&#39;.*[\w\s]=\s*&#39;</span>+getname(encl)+<span class="stringliteral">r&#39;\&zwj;(&#39;</span>+getname(fobj)</div>
<div class="line"><span class="lineno">  855</span>            mod = getname(getmodule(encl))</div>
<div class="line"><span class="lineno">  856</span>            <span class="comment">#HACK: get file containing &#39;outer&#39; function; is func there?</span></div>
<div class="line"><span class="lineno">  857</span>            lines,_ = findsource(encl)</div>
<div class="line"><span class="lineno">  858</span>            candidate = [line <span class="keywordflow">for</span> line <span class="keywordflow">in</span> lines <span class="keywordflow">if</span> getname(encl) <span class="keywordflow">in</span> line <span class="keywordflow">and</span> \</div>
<div class="line"><span class="lineno">  859</span>                         re.match(pat, line)]</div>
<div class="line"><span class="lineno">  860</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> candidate:</div>
<div class="line"><span class="lineno">  861</span>                mod = getname(getmodule(fobj))</div>
<div class="line"><span class="lineno">  862</span>                <span class="comment">#HACK: get file containing &#39;inner&#39; function; is func there?</span></div>
<div class="line"><span class="lineno">  863</span>                lines,_ = findsource(fobj)</div>
<div class="line"><span class="lineno">  864</span>                candidate = [line <span class="keywordflow">for</span> line <span class="keywordflow">in</span> lines \</div>
<div class="line"><span class="lineno">  865</span>                             <span class="keywordflow">if</span> getname(fobj) <span class="keywordflow">in</span> line <span class="keywordflow">and</span> re.match(pat, line)]</div>
<div class="line"><span class="lineno">  866</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(candidate): <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;import could not be found&#39;</span>)</div>
<div class="line"><span class="lineno">  867</span>            candidate = candidate[-1]</div>
<div class="line"><span class="lineno">  868</span>            name = candidate.split(<span class="stringliteral">&#39;=&#39;</span>,1)[0].split()[-1].strip()</div>
<div class="line"><span class="lineno">  869</span>            src = _getimport(mod, name, alias=alias, builtin=builtin)</div>
<div class="line"><span class="lineno">  870</span>        func_vars[name] = src</div>
<div class="line"><span class="lineno">  871</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> func_vars:</div>
<div class="line"><span class="lineno">  872</span>        name = outermost(func)</div>
<div class="line"><span class="lineno">  873</span>        mod = getname(getmodule(name))</div>
<div class="line"><span class="lineno">  874</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> mod <span class="keywordflow">or</span> name <span class="keywordflow">is</span> func: <span class="comment"># then it can be handled by getimport</span></div>
<div class="line"><span class="lineno">  875</span>            name = getname(func, force=<span class="keyword">True</span>) <span class="comment">#XXX: better key?</span></div>
<div class="line"><span class="lineno">  876</span>            src = getimport(func, alias=alias, builtin=builtin)</div>
<div class="line"><span class="lineno">  877</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  878</span>            lines,_ = findsource(name)</div>
<div class="line"><span class="lineno">  879</span>            <span class="comment"># pattern: &#39;func = enclosing(&#39;</span></div>
<div class="line"><span class="lineno">  880</span>            candidate = [line <span class="keywordflow">for</span> line <span class="keywordflow">in</span> lines <span class="keywordflow">if</span> getname(name) <span class="keywordflow">in</span> line <span class="keywordflow">and</span> \</div>
<div class="line"><span class="lineno">  881</span>                         re.match(<span class="stringliteral">r&#39;.*[\w\s]=\s*&#39;</span>+getname(name)+<span class="stringliteral">r&#39;\&zwj;(&#39;</span>, line)]</div>
<div class="line"><span class="lineno">  882</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(candidate): <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;import could not be found&#39;</span>)</div>
<div class="line"><span class="lineno">  883</span>            candidate = candidate[-1]</div>
<div class="line"><span class="lineno">  884</span>            name = candidate.split(<span class="stringliteral">&#39;=&#39;</span>,1)[0].split()[-1].strip()</div>
<div class="line"><span class="lineno">  885</span>            src = _getimport(mod, name, alias=alias, builtin=builtin)</div>
<div class="line"><span class="lineno">  886</span>        func_vars[name] = src</div>
<div class="line"><span class="lineno">  887</span>    <span class="keywordflow">return</span> func_vars</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span><span class="comment">#XXX: should be able to use __qualname__</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00674">_getimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00105">findsource()</a>, <a class="el" href="dill_2source_8py_source.html#l00722">getimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>, and <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00929">importable()</a>.</p>

</div>
</div>
<a id="a787a31ae3f7f8eaa39dc4b8a81fee9aa" name="a787a31ae3f7f8eaa39dc4b8a81fee9aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a787a31ae3f7f8eaa39dc4b8a81fee9aa">&#9670;&#160;</a></span>_closuredsource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._closuredsource </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">get source code for closured objects; return a dict of 'name'
and 'code blocks'</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00890">890</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  890</span><span class="keyword">def </span>_closuredsource(func, alias=&#39;&#39;):</div>
<div class="line"><span class="lineno">  891</span>    <span class="stringliteral">&quot;&quot;&quot;get source code for closured objects; return a dict of &#39;name&#39;</span></div>
<div class="line"><span class="lineno">  892</span><span class="stringliteral">    and &#39;code blocks&#39;&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  893</span>    <span class="comment">#FIXME: this entire function is a messy messy HACK</span></div>
<div class="line"><span class="lineno">  894</span>    <span class="comment">#      - pollutes global namespace</span></div>
<div class="line"><span class="lineno">  895</span>    <span class="comment">#      - fails if name of freevars are reused</span></div>
<div class="line"><span class="lineno">  896</span>    <span class="comment">#      - can unnecessarily duplicate function code</span></div>
<div class="line"><span class="lineno">  897</span>    <span class="keyword">from</span> .detect <span class="keyword">import</span> freevars</div>
<div class="line"><span class="lineno">  898</span>    free_vars = freevars(func)</div>
<div class="line"><span class="lineno">  899</span>    func_vars = {}</div>
<div class="line"><span class="lineno">  900</span>    <span class="comment"># split into &#39;funcs&#39; and &#39;non-funcs&#39;</span></div>
<div class="line"><span class="lineno">  901</span>    <span class="keywordflow">for</span> name,obj <span class="keywordflow">in</span> list(free_vars.items()):</div>
<div class="line"><span class="lineno">  902</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isfunction(obj):</div>
<div class="line"><span class="lineno">  903</span>            <span class="comment"># get source for &#39;non-funcs&#39;</span></div>
<div class="line"><span class="lineno">  904</span>            free_vars[name] = getsource(obj, force=<span class="keyword">True</span>, alias=name)</div>
<div class="line"><span class="lineno">  905</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  906</span>        <span class="comment"># get source for &#39;funcs&#39;</span></div>
<div class="line"><span class="lineno">  907</span>        fobj = free_vars.pop(name)</div>
<div class="line"><span class="lineno">  908</span>        src = getsource(fobj, alias) <span class="comment"># DO NOT include dependencies</span></div>
<div class="line"><span class="lineno">  909</span>        <span class="comment"># if source doesn&#39;t start with &#39;@&#39;, use name as the alias</span></div>
<div class="line"><span class="lineno">  910</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> src.lstrip().startswith(<span class="stringliteral">&#39;@&#39;</span>): <span class="comment">#FIXME: &#39;enclose&#39; in dummy;</span></div>
<div class="line"><span class="lineno">  911</span>            src = importable(fobj,alias=name)<span class="comment">#        wrong ref &#39;name&#39;</span></div>
<div class="line"><span class="lineno">  912</span>            org = getsource(func, alias, enclosing=<span class="keyword">False</span>, lstrip=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  913</span>            src = (src, org) <span class="comment"># undecorated first, then target</span></div>
<div class="line"><span class="lineno">  914</span>        <span class="keywordflow">else</span>: <span class="comment">#NOTE: reproduces the code!</span></div>
<div class="line"><span class="lineno">  915</span>            org = getsource(func, enclosing=<span class="keyword">True</span>, lstrip=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  916</span>            src = importable(fobj, alias, source=<span class="keyword">True</span>) <span class="comment"># include dependencies</span></div>
<div class="line"><span class="lineno">  917</span>            src = (org, src) <span class="comment"># target first, then decorated</span></div>
<div class="line"><span class="lineno">  918</span>        func_vars[name] = src</div>
<div class="line"><span class="lineno">  919</span>    src = <span class="stringliteral">&#39;&#39;</span>.join(free_vars.values())</div>
<div class="line"><span class="lineno">  920</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> func_vars: <span class="comment">#FIXME: &#39;enclose&#39; in dummy; wrong ref &#39;name&#39;</span></div>
<div class="line"><span class="lineno">  921</span>        org = getsource(func, alias, force=<span class="keyword">True</span>, enclosing=<span class="keyword">False</span>, lstrip=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  922</span>        src = (src, org) <span class="comment"># variables first, then target</span></div>
<div class="line"><span class="lineno">  923</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  924</span>        src = (src, <span class="keywordtype">None</span>) <span class="comment"># just variables        (better &#39;&#39; instead of None?)</span></div>
<div class="line"><span class="lineno">  925</span>    func_vars[<span class="keywordtype">None</span>] = src</div>
<div class="line"><span class="lineno">  926</span>    <span class="comment"># FIXME: remove duplicates (however, order is important...)</span></div>
<div class="line"><span class="lineno">  927</span>    <span class="keywordflow">return</span> func_vars</div>
<div class="line"><span class="lineno">  928</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l00929">importable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00929">importable()</a>.</p>

</div>
</div>
<a id="a9d76457d22936ad430388ee26f14e701" name="a9d76457d22936ad430388ee26f14e701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d76457d22936ad430388ee26f14e701">&#9670;&#160;</a></span>_enclose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._enclose </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">create a function enclosure around the source of some object</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00550">550</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  550</span><span class="keyword">def </span>_enclose(object, alias=&#39;&#39;): <span class="comment">#FIXME: needs alias to hold returned object</span></div>
<div class="line"><span class="lineno">  551</span>    <span class="stringliteral">&quot;&quot;&quot;create a function enclosure around the source of some object&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  552</span>    <span class="comment">#XXX: dummy and stub should append a random string</span></div>
<div class="line"><span class="lineno">  553</span>    dummy = <span class="stringliteral">&#39;__this_is_a_big_dummy_enclosing_function__&#39;</span></div>
<div class="line"><span class="lineno">  554</span>    stub = <span class="stringliteral">&#39;__this_is_a_stub_variable__&#39;</span></div>
<div class="line"><span class="lineno">  555</span>    code = <span class="stringliteral">&#39;def %s():\n&#39;</span> % dummy</div>
<div class="line"><span class="lineno">  556</span>    code += indent(getsource(object, alias=stub, lstrip=<span class="keyword">True</span>, force=<span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">  557</span>    code += indent(<span class="stringliteral">&#39;return %s\n&#39;</span> % stub)</div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordflow">if</span> alias: code += <span class="stringliteral">&#39;%s = &#39;</span> % alias</div>
<div class="line"><span class="lineno">  559</span>    code += <span class="stringliteral">&#39;%s(); del %s\n&#39;</span> % (dummy, dummy)</div>
<div class="line"><span class="lineno">  560</span>   <span class="comment">#code += &quot;globals().pop(&#39;%s&#39;,lambda :None)()\n&quot; % dummy</span></div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">return</span> code</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l00481">indent()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00564">dumpsource()</a>.</p>

</div>
</div>
<a id="a21adc5acb1cab0b12b73c4d73ebfaa5d" name="a21adc5acb1cab0b12b73c4d73ebfaa5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21adc5acb1cab0b12b73c4d73ebfaa5d">&#9670;&#160;</a></span>_getimport()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._getimport </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>head</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tail</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verify</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>builtin</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">helper to build a likely import string from head and tail of namespace.
('head','tail') are used in the following context: "from head import tail"

If verify=True, then test the import string before returning it.
If builtin=True, then force an import for builtins where possible.
If alias is provided, then rename the object on import.
</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00674">674</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  674</span><span class="keyword">def </span>_getimport(head, tail, alias=&#39;&#39;, verify=True, builtin=False):</div>
<div class="line"><span class="lineno">  675</span>    <span class="stringliteral">&quot;&quot;&quot;helper to build a likely import string from head and tail of namespace.</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral">    (&#39;head&#39;,&#39;tail&#39;) are used in the following context: &quot;from head import tail&quot;</span></div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">    If verify=True, then test the import string before returning it.</span></div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral">    If builtin=True, then force an import for builtins where possible.</span></div>
<div class="line"><span class="lineno">  680</span><span class="stringliteral">    If alias is provided, then rename the object on import.</span></div>
<div class="line"><span class="lineno">  681</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  682</span>    <span class="comment"># special handling for a few common types</span></div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> tail <span class="keywordflow">in</span> [<span class="stringliteral">&#39;Ellipsis&#39;</span>, <span class="stringliteral">&#39;NotImplemented&#39;</span>] <span class="keywordflow">and</span> head <span class="keywordflow">in</span> [<span class="stringliteral">&#39;types&#39;</span>]:</div>
<div class="line"><span class="lineno">  684</span>        head = len.__module__</div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">elif</span> tail <span class="keywordflow">in</span> [<span class="stringliteral">&#39;None&#39;</span>] <span class="keywordflow">and</span> head <span class="keywordflow">in</span> [<span class="stringliteral">&#39;types&#39;</span>]:</div>
<div class="line"><span class="lineno">  686</span>        _alias = <span class="stringliteral">&#39;%s = &#39;</span> % alias <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  687</span>        <span class="keywordflow">if</span> alias == tail: _alias = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  688</span>        <span class="keywordflow">return</span> _alias+<span class="stringliteral">&#39;%s\n&#39;</span> % tail</div>
<div class="line"><span class="lineno">  689</span>    <span class="comment"># we don&#39;t need to import from builtins, so return &#39;&#39;</span></div>
<div class="line"><span class="lineno">  690</span><span class="comment">#   elif tail in [&#39;NoneType&#39;,&#39;int&#39;,&#39;float&#39;,&#39;long&#39;,&#39;complex&#39;]: return &#39;&#39; #XXX: ?</span></div>
<div class="line"><span class="lineno">  691</span>    <span class="keywordflow">if</span> head <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>]:</div>
<div class="line"><span class="lineno">  692</span>        <span class="comment"># special cases (NoneType, Ellipsis, ...) #XXX: BuiltinFunctionType</span></div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordflow">if</span> tail == <span class="stringliteral">&#39;ellipsis&#39;</span>: tail = <span class="stringliteral">&#39;EllipsisType&#39;</span></div>
<div class="line"><span class="lineno">  694</span>        <span class="keywordflow">if</span> _intypes(tail): head = <span class="stringliteral">&#39;types&#39;</span></div>
<div class="line"><span class="lineno">  695</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> builtin:</div>
<div class="line"><span class="lineno">  696</span>            _alias = <span class="stringliteral">&#39;%s = &#39;</span> % alias <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  697</span>            <span class="keywordflow">if</span> alias == tail: _alias = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  698</span>            <span class="keywordflow">return</span> _alias+<span class="stringliteral">&#39;%s\n&#39;</span> % tail</div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordflow">else</span>: <span class="keywordflow">pass</span> <span class="comment"># handle builtins below</span></div>
<div class="line"><span class="lineno">  700</span>    <span class="comment"># get likely import string</span></div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> head: _str = <span class="stringliteral">&quot;import %s&quot;</span> % tail</div>
<div class="line"><span class="lineno">  702</span>    <span class="keywordflow">else</span>: _str = <span class="stringliteral">&quot;from %s import %s&quot;</span> % (head, tail)</div>
<div class="line"><span class="lineno">  703</span>    _alias = <span class="stringliteral">&quot; as %s\n&quot;</span> % alias <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><span class="lineno">  704</span>    <span class="keywordflow">if</span> alias == tail: _alias = <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><span class="lineno">  705</span>    _str += _alias</div>
<div class="line"><span class="lineno">  706</span>    <span class="comment"># FIXME: fails on most decorators, currying, and such...</span></div>
<div class="line"><span class="lineno">  707</span>    <span class="comment">#        (could look for magic __wrapped__ or __func__ attr)</span></div>
<div class="line"><span class="lineno">  708</span>    <span class="comment">#        (could fix in &#39;namespace&#39; to check obj for closure)</span></div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">if</span> verify <span class="keywordflow">and</span> <span class="keywordflow">not</span> head.startswith(<span class="stringliteral">&#39;dill.&#39;</span>):<span class="comment"># weird behavior for dill</span></div>
<div class="line"><span class="lineno">  710</span>       <span class="comment">#print(_str)</span></div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordflow">try</span>: exec(_str) <span class="comment">#XXX: check if == obj? (name collision)</span></div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">except</span> ImportError: <span class="comment">#XXX: better top-down or bottom-up recursion?</span></div>
<div class="line"><span class="lineno">  713</span>            _head = head.rsplit(<span class="stringliteral">&quot;.&quot;</span>,1)[0] <span class="comment">#(or get all, then compare == obj?)</span></div>
<div class="line"><span class="lineno">  714</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> _head: <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  715</span>            <span class="keywordflow">if</span> _head != head:</div>
<div class="line"><span class="lineno">  716</span>                _str = _getimport(_head, tail, alias, verify)</div>
<div class="line"><span class="lineno">  717</span>    <span class="keywordflow">return</span> _str</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span><span class="comment">#XXX: rename builtin to force? vice versa? verify to force? (as in getsource)</span></div>
<div class="line"><span class="lineno">  721</span><span class="comment">#NOTE: 05/25/14 broke backward compatibility: added &#39;alias&#39; as 2nd argument</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00674">_getimport()</a>, and <a class="el" href="dill_2source_8py_source.html#l00466">_intypes()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00837">_closuredimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00674">_getimport()</a>, <a class="el" href="dill_2source_8py_source.html#l01016">_likely_import()</a>, and <a class="el" href="dill_2source_8py_source.html#l00722">getimport()</a>.</p>

</div>
</div>
<a id="a5ee32b00f768a89018e4816f6d54aca4" name="a5ee32b00f768a89018e4816f6d54aca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ee32b00f768a89018e4816f6d54aca4">&#9670;&#160;</a></span>_hascode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._hascode </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">True if object has an attribute that stores it's __code__</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00442">442</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  442</span><span class="keyword">def </span>_hascode(object):</div>
<div class="line"><span class="lineno">  443</span>    <span class="stringliteral">&#39;&#39;&#39;True if object has an attribute that stores it&#39;s __code__&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordflow">return</span> getattr(object,<span class="stringliteral">&#39;__code__&#39;</span>,<span class="keywordtype">None</span>) <span class="keywordflow">or</span> getattr(object,<span class="stringliteral">&#39;func_code&#39;</span>,<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  445</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00446">_isinstance()</a>, and <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>.</p>

</div>
</div>
<a id="a9eca2f4eb5dfd1cc7ea158e09c3f6549" name="a9eca2f4eb5dfd1cc7ea158e09c3f6549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eca2f4eb5dfd1cc7ea158e09c3f6549">&#9670;&#160;</a></span>_importable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._importable </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>source</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>enclosing</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>force</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>builtin</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lstrip</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">get an import string (or the source code) for the given object

This function will attempt to discover the name of the object, or the repr
of the object, or the source code for the object. To attempt to force
discovery of the source code, use source=True, to attempt to force the
use of an import, use source=False; otherwise an import will be sought
for objects not defined in __main__. The intent is to build a string
that can be imported from a python file. obj is the object to inspect.
If alias is provided, then rename the object with the given alias.

If source=True, use these options:
  If enclosing=True, then also return any enclosing code.
  If force=True, catch (TypeError,IOError) and try to use import hooks.
  If lstrip=True, ensure there is no indentation in the first line of code.

If source=False, use these options:
  If enclosing=True, get the import for the outermost enclosing callable.
  If force=True, then don't test the import string before returning it.
  If builtin=True, then force an import for builtins where possible.
</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00775">775</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  776</span>                                              builtin=<span class="keyword">True</span>, lstrip=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno">  777</span>    <span class="stringliteral">&quot;&quot;&quot;get an import string (or the source code) for the given object</span></div>
<div class="line"><span class="lineno">  778</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  779</span><span class="stringliteral">    This function will attempt to discover the name of the object, or the repr</span></div>
<div class="line"><span class="lineno">  780</span><span class="stringliteral">    of the object, or the source code for the object. To attempt to force</span></div>
<div class="line"><span class="lineno">  781</span><span class="stringliteral">    discovery of the source code, use source=True, to attempt to force the</span></div>
<div class="line"><span class="lineno">  782</span><span class="stringliteral">    use of an import, use source=False; otherwise an import will be sought</span></div>
<div class="line"><span class="lineno">  783</span><span class="stringliteral">    for objects not defined in __main__. The intent is to build a string</span></div>
<div class="line"><span class="lineno">  784</span><span class="stringliteral">    that can be imported from a python file. obj is the object to inspect.</span></div>
<div class="line"><span class="lineno">  785</span><span class="stringliteral">    If alias is provided, then rename the object with the given alias.</span></div>
<div class="line"><span class="lineno">  786</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  787</span><span class="stringliteral">    If source=True, use these options:</span></div>
<div class="line"><span class="lineno">  788</span><span class="stringliteral">      If enclosing=True, then also return any enclosing code.</span></div>
<div class="line"><span class="lineno">  789</span><span class="stringliteral">      If force=True, catch (TypeError,IOError) and try to use import hooks.</span></div>
<div class="line"><span class="lineno">  790</span><span class="stringliteral">      If lstrip=True, ensure there is no indentation in the first line of code.</span></div>
<div class="line"><span class="lineno">  791</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  792</span><span class="stringliteral">    If source=False, use these options:</span></div>
<div class="line"><span class="lineno">  793</span><span class="stringliteral">      If enclosing=True, get the import for the outermost enclosing callable.</span></div>
<div class="line"><span class="lineno">  794</span><span class="stringliteral">      If force=True, then don&#39;t test the import string before returning it.</span></div>
<div class="line"><span class="lineno">  795</span><span class="stringliteral">      If builtin=True, then force an import for builtins where possible.</span></div>
<div class="line"><span class="lineno">  796</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  797</span>    <span class="keywordflow">if</span> source <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  798</span>        source = <span class="keyword">True</span> <span class="keywordflow">if</span> isfrommain(obj) <span class="keywordflow">else</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordflow">if</span> source: <span class="comment"># first try to get the source</span></div>
<div class="line"><span class="lineno">  800</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  801</span>            <span class="keywordflow">return</span> getsource(obj, alias, enclosing=enclosing, \</div>
<div class="line"><span class="lineno">  802</span>                             force=force, lstrip=lstrip, builtin=builtin)</div>
<div class="line"><span class="lineno">  803</span>        <span class="keywordflow">except</span> Exception: <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  805</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> _isinstance(obj):</div>
<div class="line"><span class="lineno">  806</span>            <span class="keywordflow">return</span> getimport(obj, alias, enclosing=enclosing, \</div>
<div class="line"><span class="lineno">  807</span>                                  verify=(<span class="keywordflow">not</span> force), builtin=builtin)</div>
<div class="line"><span class="lineno">  808</span>        <span class="comment"># first &#39;get the import&#39;, then &#39;get the instance&#39;</span></div>
<div class="line"><span class="lineno">  809</span>        _import = getimport(obj, enclosing=enclosing, \</div>
<div class="line"><span class="lineno">  810</span>                                 verify=(<span class="keywordflow">not</span> force), builtin=builtin)</div>
<div class="line"><span class="lineno">  811</span>        name = getname(obj, force=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> name:</div>
<div class="line"><span class="lineno">  813</span>            <span class="keywordflow">raise</span> AttributeError(<span class="stringliteral">&quot;object has no atribute &#39;__name__&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  814</span>        _alias = <span class="stringliteral">&quot;%s = &quot;</span> % alias <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  815</span>        <span class="keywordflow">if</span> alias == name: _alias = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  816</span>        <span class="keywordflow">return</span> _import+_alias+<span class="stringliteral">&quot;%s\n&quot;</span> % name</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>    <span class="keywordflow">except</span> Exception: <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  819</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> source: <span class="comment"># try getsource, only if it hasn&#39;t been tried yet</span></div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  821</span>            <span class="keywordflow">return</span> getsource(obj, alias, enclosing=enclosing, \</div>
<div class="line"><span class="lineno">  822</span>                             force=force, lstrip=lstrip, builtin=builtin)</div>
<div class="line"><span class="lineno">  823</span>        <span class="keywordflow">except</span> Exception: <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  824</span>    <span class="comment"># get the name (of functions, lambdas, and classes)</span></div>
<div class="line"><span class="lineno">  825</span>    <span class="comment"># or hope that obj can be built from the __repr__</span></div>
<div class="line"><span class="lineno">  826</span>    <span class="comment">#XXX: what to do about class instances and such?</span></div>
<div class="line"><span class="lineno">  827</span>    obj = getname(obj, force=force)</div>
<div class="line"><span class="lineno">  828</span>    <span class="comment"># we either have __repr__ or __name__ (or None)</span></div>
<div class="line"><span class="lineno">  829</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> obj <span class="keywordflow">or</span> obj.startswith(<span class="stringliteral">&#39;&lt;&#39;</span>):</div>
<div class="line"><span class="lineno">  830</span>        <span class="keywordflow">raise</span> AttributeError(<span class="stringliteral">&quot;object has no atribute &#39;__name__&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  831</span>    _alias = <span class="stringliteral">&#39;%s = &#39;</span> % alias <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">if</span> alias == obj: _alias = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  833</span>    <span class="keywordflow">return</span> _alias+<span class="stringliteral">&#39;%s\n&#39;</span> % obj</div>
<div class="line"><span class="lineno">  834</span>    <span class="comment">#XXX: possible failsafe... (for example, for instances when source=False)</span></div>
<div class="line"><span class="lineno">  835</span>    <span class="comment">#     &quot;import dill; result = dill.loads(&lt;pickled_object&gt;); # repr(&lt;object&gt;)&quot;</span></div>
<div class="line"><span class="lineno">  836</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00446">_isinstance()</a>, <a class="el" href="dill_2source_8py_source.html#l00722">getimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>, <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l00035">isfrommain()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00929">importable()</a>.</p>

</div>
</div>
<a id="aafc754ac9eed4c2404cf433c8ce1345c" name="aafc754ac9eed4c2404cf433c8ce1345c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc754ac9eed4c2404cf433c8ce1345c">&#9670;&#160;</a></span>_intypes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._intypes </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">check if object is in the 'types' module</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00466">466</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  466</span><span class="keyword">def </span>_intypes(object):</div>
<div class="line"><span class="lineno">  467</span>    <span class="stringliteral">&#39;&#39;&#39;check if object is in the &#39;types&#39; module&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  468</span>    <span class="keyword">import</span> types</div>
<div class="line"><span class="lineno">  469</span>    <span class="comment"># allow user to pass in object or object.__name__</span></div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> type(object) <span class="keywordflow">is</span> <span class="keywordflow">not</span> type(<span class="stringliteral">&#39;&#39;</span>):</div>
<div class="line"><span class="lineno">  471</span>        object = getname(object, force=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">if</span> object == <span class="stringliteral">&#39;ellipsis&#39;</span>: object = <span class="stringliteral">&#39;EllipsisType&#39;</span></div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">return</span> <span class="keyword">True</span> <span class="keywordflow">if</span> hasattr(types, object) <span class="keywordflow">else</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00674">_getimport()</a>, and <a class="el" href="dill_2source_8py_source.html#l00631">_namespace()</a>.</p>

</div>
</div>
<a id="a32af5c664f80056b5e0120928bba356f" name="a32af5c664f80056b5e0120928bba356f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32af5c664f80056b5e0120928bba356f">&#9670;&#160;</a></span>_isinstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._isinstance </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">True if object is a class instance type (and is not a builtin)</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00446">446</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  446</span><span class="keyword">def </span>_isinstance(object):</div>
<div class="line"><span class="lineno">  447</span>    <span class="stringliteral">&#39;&#39;&#39;True if object is a class instance type (and is not a builtin)&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">if</span> _hascode(object) <span class="keywordflow">or</span> isclass(object) <span class="keywordflow">or</span> ismodule(object):</div>
<div class="line"><span class="lineno">  449</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  450</span>    <span class="keywordflow">if</span> istraceback(object) <span class="keywordflow">or</span> isframe(object) <span class="keywordflow">or</span> iscode(object):</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  452</span>    <span class="comment"># special handling (numpy arrays, ...)</span></div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> getmodule(object) <span class="keywordflow">and</span> getmodule(type(object)).__name__ <span class="keywordflow">in</span> [<span class="stringliteral">&#39;numpy&#39;</span>]:</div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  455</span><span class="comment">#   # check if is instance of a builtin</span></div>
<div class="line"><span class="lineno">  456</span><span class="comment">#   if not getmodule(object) and getmodule(type(object)).__name__ in [&#39;__builtin__&#39;,&#39;builtins&#39;]:</span></div>
<div class="line"><span class="lineno">  457</span><span class="comment">#       return False</span></div>
<div class="line"><span class="lineno">  458</span>    _types = (<span class="stringliteral">&#39;&lt;class &#39;</span>,<span class="stringliteral">&quot;&lt;type &#39;instance&#39;&gt;&quot;</span>)</div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> repr(type(object)).startswith(_types): <span class="comment">#FIXME: weak hack</span></div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> getmodule(object) <span class="keywordflow">or</span> object.__module__ <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>] <span class="keywordflow">or</span> getname(object, force=<span class="keyword">True</span>) <span class="keywordflow">in</span> [<span class="stringliteral">&#39;array&#39;</span>]:</div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">return</span> <span class="keyword">True</span> <span class="comment"># by process of elimination... it&#39;s what we want</span></div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00442">_hascode()</a>, and <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00776">_importable()</a>, <a class="el" href="dill_2source_8py_source.html#l00564">dumpsource()</a>, <a class="el" href="dill_2source_8py_source.html#l00722">getimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l00929">importable()</a>.</p>

</div>
</div>
<a id="ad539ad43979132c43cda17e5fb051446" name="ad539ad43979132c43cda17e5fb051446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad539ad43979132c43cda17e5fb051446">&#9670;&#160;</a></span>_isstring()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._isstring </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">check if object is a string-like type</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00476">476</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  476</span><span class="keyword">def </span>_isstring(object): <span class="comment">#XXX: isstringlike better?</span></div>
<div class="line"><span class="lineno">  477</span>    <span class="stringliteral">&#39;&#39;&#39;check if object is a string-like type&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">return</span> isinstance(object, (str, bytes))</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab36b1e7f67b526db4811a92a2e4d8086" name="ab36b1e7f67b526db4811a92a2e4d8086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36b1e7f67b526db4811a92a2e4d8086">&#9670;&#160;</a></span>_likely_import()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._likely_import </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>first</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>last</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>passive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>explicit</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l01016">1016</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1016</span><span class="keyword">def </span>_likely_import(first, last, passive=False, explicit=True):</div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">return</span> _getimport(first, last, verify=(<span class="keywordflow">not</span> passive), builtin=explicit)</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00674">_getimport()</a>.</p>

</div>
</div>
<a id="af811bb4f35f2d889da88a5b79e2ea655" name="af811bb4f35f2d889da88a5b79e2ea655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af811bb4f35f2d889da88a5b79e2ea655">&#9670;&#160;</a></span>_matchlambda()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._matchlambda </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>line</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">check if lambda object 'func' matches raw line of code 'line'</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00052">52</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   52</span><span class="keyword">def </span>_matchlambda(func, line):</div>
<div class="line"><span class="lineno">   53</span>    <span class="stringliteral">&quot;&quot;&quot;check if lambda object &#39;func&#39; matches raw line of code &#39;line&#39;&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   54</span>    <span class="keyword">from</span> .detect <span class="keyword">import</span> code <span class="keyword">as</span> getcode</div>
<div class="line"><span class="lineno">   55</span>    <span class="keyword">from</span> .detect <span class="keyword">import</span> freevars, globalvars, varnames</div>
<div class="line"><span class="lineno">   56</span>    dummy = <span class="keyword">lambda</span> : <span class="stringliteral">&#39;__this_is_a_big_dummy_function__&#39;</span></div>
<div class="line"><span class="lineno">   57</span>    <span class="comment"># process the line (removing leading whitespace, etc)</span></div>
<div class="line"><span class="lineno">   58</span>    lhs,rhs = line.split(<span class="stringliteral">&#39;lambda &#39;</span>,1)[-1].split(<span class="stringliteral">&quot;:&quot;</span>, 1) <span class="comment">#FIXME: if !1 inputs</span></div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">try</span>: <span class="comment">#FIXME: unsafe</span></div>
<div class="line"><span class="lineno">   60</span>        _ = eval(<span class="stringliteral">&quot;lambda %s : %s&quot;</span> % (lhs,rhs), globals(),locals())</div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">except</span> Exception: _ = dummy</div>
<div class="line"><span class="lineno">   62</span>    <span class="comment"># get code objects, for comparison</span></div>
<div class="line"><span class="lineno">   63</span>    _, code = getcode(_).co_code, getcode(func).co_code</div>
<div class="line"><span class="lineno">   64</span>    <span class="comment"># check if func is in closure</span></div>
<div class="line"><span class="lineno">   65</span>    _f = [line.count(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> freevars(func).keys()]</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> _f: <span class="comment"># not in closure</span></div>
<div class="line"><span class="lineno">   67</span>        <span class="comment"># check if code matches</span></div>
<div class="line"><span class="lineno">   68</span>        <span class="keywordflow">if</span> _ == code: <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   69</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   70</span>    <span class="comment"># weak check on freevars</span></div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all(_f): <span class="keywordflow">return</span> <span class="keyword">False</span>  <span class="comment">#XXX: VERY WEAK</span></div>
<div class="line"><span class="lineno">   72</span>    <span class="comment"># weak check on varnames and globalvars</span></div>
<div class="line"><span class="lineno">   73</span>    _f = varnames(func)</div>
<div class="line"><span class="lineno">   74</span>    _f = [line.count(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> _f[0]+_f[1]]</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">if</span> _f <span class="keywordflow">and</span> <span class="keywordflow">not</span> all(_f): <span class="keywordflow">return</span> <span class="keyword">False</span>  <span class="comment">#XXX: VERY WEAK</span></div>
<div class="line"><span class="lineno">   76</span>    _f = [line.count(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> globalvars(func).keys()]</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">if</span> _f <span class="keywordflow">and</span> <span class="keywordflow">not</span> all(_f): <span class="keywordflow">return</span> <span class="keyword">False</span>  <span class="comment">#XXX: VERY WEAK</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="comment"># check if func is a double lambda</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">if</span> (line.count(<span class="stringliteral">&#39;lambda &#39;</span>) &gt; 1) <span class="keywordflow">and</span> (lhs <span class="keywordflow">in</span> freevars(func).keys()):</div>
<div class="line"><span class="lineno">   80</span>        _lhs,_rhs = rhs.split(<span class="stringliteral">&#39;lambda &#39;</span>,1)[-1].split(<span class="stringliteral">&quot;:&quot;</span>,1) <span class="comment">#FIXME: if !1 inputs</span></div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">try</span>: <span class="comment">#FIXME: unsafe</span></div>
<div class="line"><span class="lineno">   82</span>            _f = eval(<span class="stringliteral">&quot;lambda %s : %s&quot;</span> % (_lhs,_rhs), globals(),locals())</div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">except</span> Exception: _f = dummy</div>
<div class="line"><span class="lineno">   84</span>        <span class="comment"># get code objects, for comparison</span></div>
<div class="line"><span class="lineno">   85</span>        _, code = getcode(_f).co_code, getcode(func).co_code</div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">if</span> len(_) != len(code): <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   87</span>        <span class="comment">#NOTE: should be same code same order, but except for &#39;t&#39; and &#39;\x88&#39;</span></div>
<div class="line"><span class="lineno">   88</span>        _ = set((i,j) <span class="keywordflow">for</span> (i,j) <span class="keywordflow">in</span> zip(_,code) <span class="keywordflow">if</span> i != j)</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">if</span> len(_) != 1: <span class="keywordflow">return</span> <span class="keyword">False</span> <span class="comment">#(&#39;t&#39;,&#39;\x88&#39;)</span></div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   91</span>    <span class="comment"># check indentsize</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> indentsize(line): <span class="keywordflow">return</span> <span class="keyword">False</span> <span class="comment">#FIXME: is this a good check???</span></div>
<div class="line"><span class="lineno">   93</span>    <span class="comment"># check if code &#39;pattern&#39; matches</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="comment">#XXX: or pattern match against dis.dis(code)? (or use uncompyle2?)</span></div>
<div class="line"><span class="lineno">   95</span>    _ = _.split(_[0])  <span class="comment"># &#39;t&#39; #XXX: remove matching values if starts the same?</span></div>
<div class="line"><span class="lineno">   96</span>    _f = code.split(code[0])  <span class="comment"># &#39;\x88&#39;</span></div>
<div class="line"><span class="lineno">   97</span>    <span class="comment">#NOTE: should be same code different order, with different first element</span></div>
<div class="line"><span class="lineno">   98</span>    _ = dict(re.match(<span class="stringliteral">r&#39;([\W\D\S])(.*)&#39;</span>, _[i]).groups() <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1,len(_)))</div>
<div class="line"><span class="lineno">   99</span>    _f = dict(re.match(<span class="stringliteral">r&#39;([\W\D\S])(.*)&#39;</span>, _f[i]).groups() <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1,len(_f)))</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">if</span> (_.keys() == _f.keys()) <span class="keywordflow">and</span> (sorted(_.values()) == sorted(_f.values())):</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00105">findsource()</a>.</p>

</div>
</div>
<a id="a64d6aab3da80af9abfb8f23d644c46fd" name="a64d6aab3da80af9abfb8f23d644c46fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d6aab3da80af9abfb8f23d644c46fd">&#9670;&#160;</a></span>_namespace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._namespace </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">_namespace(obj); return namespace hierarchy (as a list of names)
for the given object.  For an instance, find the class hierarchy.

For example:

&gt;&gt;&gt; from functools import partial
&gt;&gt;&gt; p = partial(int, base=2)
&gt;&gt;&gt; _namespace(p)
[\'functools\', \'partial\']
</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00631">631</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  631</span><span class="keyword">def </span>_namespace(obj):</div>
<div class="line"><span class="lineno">  632</span>    <span class="stringliteral">&quot;&quot;&quot;_namespace(obj); return namespace hierarchy (as a list of names)</span></div>
<div class="line"><span class="lineno">  633</span><span class="stringliteral">    for the given object.  For an instance, find the class hierarchy.</span></div>
<div class="line"><span class="lineno">  634</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  635</span><span class="stringliteral">    For example:</span></div>
<div class="line"><span class="lineno">  636</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  637</span><span class="stringliteral">    &gt;&gt;&gt; from functools import partial</span></div>
<div class="line"><span class="lineno">  638</span><span class="stringliteral">    &gt;&gt;&gt; p = partial(int, base=2)</span></div>
<div class="line"><span class="lineno">  639</span><span class="stringliteral">    &gt;&gt;&gt; _namespace(p)</span></div>
<div class="line"><span class="lineno">  640</span><span class="stringliteral">    [\&#39;functools\&#39;, \&#39;partial\&#39;]</span></div>
<div class="line"><span class="lineno">  641</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  642</span>    <span class="comment"># mostly for functions and modules and such</span></div>
<div class="line"><span class="lineno">  643</span>    <span class="comment">#FIXME: &#39;wrong&#39; for decorators and curried functions</span></div>
<div class="line"><span class="lineno">  644</span>    <span class="keywordflow">try</span>: <span class="comment">#XXX: needs some work and testing on different types</span></div>
<div class="line"><span class="lineno">  645</span>        module = qual = str(getmodule(obj)).split()[1].strip(<span class="stringliteral">&#39;&gt;&#39;</span>).strip(<span class="stringliteral">&#39;&quot;&#39;</span>).strip(<span class="stringliteral">&quot;&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  646</span>        qual = qual.split(<span class="stringliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno">  647</span>        <span class="keywordflow">if</span> ismodule(obj):</div>
<div class="line"><span class="lineno">  648</span>            <span class="keywordflow">return</span> qual</div>
<div class="line"><span class="lineno">  649</span>        <span class="comment"># get name of a lambda, function, etc</span></div>
<div class="line"><span class="lineno">  650</span>        name = getname(obj) <span class="keywordflow">or</span> obj.__name__ <span class="comment"># failing, raise AttributeError</span></div>
<div class="line"><span class="lineno">  651</span>        <span class="comment"># check special cases (NoneType, ...)</span></div>
<div class="line"><span class="lineno">  652</span>        <span class="keywordflow">if</span> module <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>]: <span class="comment"># BuiltinFunctionType</span></div>
<div class="line"><span class="lineno">  653</span>            <span class="keywordflow">if</span> _intypes(name): <span class="keywordflow">return</span> [<span class="stringliteral">&#39;types&#39;</span>] + [name]</div>
<div class="line"><span class="lineno">  654</span>        <span class="keywordflow">return</span> qual + [name] <span class="comment">#XXX: can be wrong for some aliased objects</span></div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">except</span> Exception: <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  656</span>    <span class="comment"># special case: numpy.inf and numpy.nan (we don&#39;t want them as floats)</span></div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordflow">if</span> str(obj) <span class="keywordflow">in</span> [<span class="stringliteral">&#39;inf&#39;</span>,<span class="stringliteral">&#39;nan&#39;</span>,<span class="stringliteral">&#39;Inf&#39;</span>,<span class="stringliteral">&#39;NaN&#39;</span>]: <span class="comment"># is more, but are they needed?</span></div>
<div class="line"><span class="lineno">  658</span>        <span class="keywordflow">return</span> [<span class="stringliteral">&#39;numpy&#39;</span>] + [str(obj)]</div>
<div class="line"><span class="lineno">  659</span>    <span class="comment"># mostly for classes and class instances and such</span></div>
<div class="line"><span class="lineno">  660</span>    module = getattr(obj.__class__, <span class="stringliteral">&#39;__module__&#39;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  661</span>    qual = str(obj.__class__)</div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordflow">try</span>: qual = qual[qual.index(<span class="stringliteral">&quot;&#39;&quot;</span>)+1:-2]</div>
<div class="line"><span class="lineno">  663</span>    <span class="keywordflow">except</span> ValueError: <span class="keywordflow">pass</span> <span class="comment"># str(obj.__class__) made the &#39;try&#39; unnecessary</span></div>
<div class="line"><span class="lineno">  664</span>    qual = qual.split(<span class="stringliteral">&quot;.&quot;</span>)</div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">if</span> module <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>]:</div>
<div class="line"><span class="lineno">  666</span>        <span class="comment"># check special cases (NoneType, Ellipsis, ...)</span></div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">if</span> qual[-1] == <span class="stringliteral">&#39;ellipsis&#39;</span>: qual[-1] = <span class="stringliteral">&#39;EllipsisType&#39;</span></div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordflow">if</span> _intypes(qual[-1]): module = <span class="stringliteral">&#39;types&#39;</span> <span class="comment">#XXX: BuiltinFunctionType</span></div>
<div class="line"><span class="lineno">  669</span>        qual = [module] + qual</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">return</span> qual</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span><span class="comment">#NOTE: 05/25/14 broke backward compatibility: added &#39;alias&#39; as 3rd argument</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00466">_intypes()</a>, and <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00722">getimport()</a>, and <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>.</p>

</div>
</div>
<a id="a7c4791b80e530ab9bd8103c8a88ffeb9" name="a7c4791b80e530ab9bd8103c8a88ffeb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c4791b80e530ab9bd8103c8a88ffeb9">&#9670;&#160;</a></span>_outdent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._outdent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lines</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>spaces</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>all</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">outdent lines of code, accounting for docs and line continuations</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00512">512</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  512</span><span class="keyword">def </span>_outdent(lines, spaces=None, all=True):</div>
<div class="line"><span class="lineno">  513</span>    <span class="stringliteral">&#39;&#39;&#39;outdent lines of code, accounting for docs and line continuations&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  514</span>    indent = indentsize(lines[0])</div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">if</span> spaces <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> spaces &gt; indent <span class="keywordflow">or</span> spaces &lt; 0: spaces = indent</div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(lines) <span class="keywordflow">if</span> all <span class="keywordflow">else</span> 1):</div>
<div class="line"><span class="lineno">  517</span>        <span class="comment">#FIXME: works... but shouldn&#39;t outdent 2nd+ lines of multiline doc</span></div>
<div class="line"><span class="lineno">  518</span>        _indent = indentsize(lines[i])</div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">if</span> spaces &gt; _indent: _spaces = _indent</div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">else</span>: _spaces = spaces</div>
<div class="line"><span class="lineno">  521</span>        lines[i] = lines[i][_spaces:]</div>
<div class="line"><span class="lineno">  522</span>    <span class="keywordflow">return</span> lines</div>
<div class="line"><span class="lineno">  523</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00261">getblocks()</a>, <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l00524">outdent()</a>.</p>

</div>
</div>
<a id="ae3cae6c5d2250e93f8968bfa4a884806" name="ae3cae6c5d2250e93f8968bfa4a884806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cae6c5d2250e93f8968bfa4a884806">&#9670;&#160;</a></span>_wrap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._wrap </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>f</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment"> encapsulate a function and it's __import__ </pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00536">536</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  536</span><span class="keyword">def </span>_wrap(f):</div>
<div class="line"><span class="lineno">  537</span>    <span class="stringliteral">&quot;&quot;&quot; encapsulate a function and it&#39;s __import__ &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  538</span>    <span class="keyword">def </span>func(*args, **kwds):</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  540</span>            <span class="comment"># _ = eval(getsource(f, force=True)) #XXX: safer but less robust</span></div>
<div class="line"><span class="lineno">  541</span>            exec(getimportable(f, alias=<span class="stringliteral">&#39;_&#39;</span>), __globals__, __locals__)</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordflow">raise</span> ImportError(<span class="stringliteral">&#39;cannot import name &#39;</span> + f.__name__)</div>
<div class="line"><span class="lineno">  544</span>        <span class="keywordflow">return</span> _(*args, **kwds)</div>
<div class="line"><span class="lineno">  545</span>    func.__name__ = f.__name__</div>
<div class="line"><span class="lineno">  546</span>    func.__doc__ = f.__doc__</div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">return</span> func</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l01011">getimportable()</a>.</p>

</div>
</div>
<a id="a125b487df4011490978854261be40587" name="a125b487df4011490978854261be40587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a125b487df4011490978854261be40587">&#9670;&#160;</a></span>dumpsource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.dumpsource </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>new</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>enclose</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">'dump to source', where the code includes a pickled object.

If new=True and object is a class instance, then create a new
instance using the unpacked class source code. If enclose, then
create the object inside a function enclosure (thus minimizing
any global namespace pollution).
</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00564">564</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  564</span><span class="keyword">def </span>dumpsource(object, alias=&#39;&#39;, new=False, enclose=True):</div>
<div class="line"><span class="lineno">  565</span>    <span class="stringliteral">&quot;&quot;&quot;&#39;dump to source&#39;, where the code includes a pickled object.</span></div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  567</span><span class="stringliteral">    If new=True and object is a class instance, then create a new</span></div>
<div class="line"><span class="lineno">  568</span><span class="stringliteral">    instance using the unpacked class source code. If enclose, then</span></div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">    create the object inside a function enclosure (thus minimizing</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral">    any global namespace pollution).</span></div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  572</span>    <span class="keyword">from</span> dill <span class="keyword">import</span> dumps</div>
<div class="line"><span class="lineno">  573</span>    pik = repr(dumps(object))</div>
<div class="line"><span class="lineno">  574</span>    code = <span class="stringliteral">&#39;import dill\n&#39;</span></div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordflow">if</span> enclose:</div>
<div class="line"><span class="lineno">  576</span>        stub = <span class="stringliteral">&#39;__this_is_a_stub_variable__&#39;</span> <span class="comment">#XXX: *must* be same _enclose.stub</span></div>
<div class="line"><span class="lineno">  577</span>        pre = <span class="stringliteral">&#39;%s = &#39;</span> % stub</div>
<div class="line"><span class="lineno">  578</span>        new = <span class="keyword">False</span> <span class="comment">#FIXME: new=True doesn&#39;t work with enclose=True</span></div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  580</span>        stub = alias</div>
<div class="line"><span class="lineno">  581</span>        pre = <span class="stringliteral">&#39;%s = &#39;</span> % stub <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> alias</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>    <span class="comment"># if a &#39;new&#39; instance is not needed, then just dump and load</span></div>
<div class="line"><span class="lineno">  584</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> new <span class="keywordflow">or</span> <span class="keywordflow">not</span> _isinstance(object):</div>
<div class="line"><span class="lineno">  585</span>        code += pre + <span class="stringliteral">&#39;dill.loads(%s)\n&#39;</span> % pik</div>
<div class="line"><span class="lineno">  586</span>    <span class="keywordflow">else</span>: <span class="comment">#XXX: other cases where source code is needed???</span></div>
<div class="line"><span class="lineno">  587</span>        code += getsource(object.__class__, alias=<span class="stringliteral">&#39;&#39;</span>, lstrip=<span class="keyword">True</span>, force=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  588</span>        mod = repr(object.__module__) <span class="comment"># should have a module (no builtins here)</span></div>
<div class="line"><span class="lineno">  589</span>        code += pre + <span class="stringliteral">&#39;dill.loads(%s.replace(b%s,bytes(__name__,&quot;UTF-8&quot;)))\n&#39;</span> % (pik,mod)</div>
<div class="line"><span class="lineno">  590</span>       <span class="comment">#code += &#39;del %s&#39; % object.__class__.__name__ #NOTE: kills any existing!</span></div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">if</span> enclose:</div>
<div class="line"><span class="lineno">  593</span>        <span class="comment"># generation of the &#39;enclosure&#39;</span></div>
<div class="line"><span class="lineno">  594</span>        dummy = <span class="stringliteral">&#39;__this_is_a_big_dummy_object__&#39;</span></div>
<div class="line"><span class="lineno">  595</span>        dummy = _enclose(dummy, alias=alias)</div>
<div class="line"><span class="lineno">  596</span>        <span class="comment"># hack to replace the &#39;dummy&#39; with the &#39;real&#39; code</span></div>
<div class="line"><span class="lineno">  597</span>        dummy = dummy.split(<span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno">  598</span>        code = dummy[0]+<span class="stringliteral">&#39;\n&#39;</span> + indent(code) + <span class="stringliteral">&#39;\n&#39;</span>.join(dummy[-3:])</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">return</span> code <span class="comment">#XXX: better &#39;dumpsourcelines&#39;, returning list of lines?</span></div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00550">_enclose()</a>, <a class="el" href="dill_2source_8py_source.html#l00446">_isinstance()</a>, <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l00481">indent()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>.</p>

</div>
</div>
<a id="ab0aee7aa0a20c897785cc81405ed98f8" name="ab0aee7aa0a20c897785cc81405ed98f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0aee7aa0a20c897785cc81405ed98f8">&#9670;&#160;</a></span>findsource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.findsource </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the entire source file and starting line number for an object.
For interactively-defined objects, the 'file' is the interpreter's history.

The argument may be a module, class, method, function, traceback, frame,
or code object.  The source code is returned as a list of all the lines
in the file and the line number indexes a line in that list.  An IOError
is raised if the source code cannot be retrieved, while a TypeError is
raised for objects where the source code is unavailable (e.g. builtins).</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00105">105</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span><span class="keyword">def </span>findsource(object):</div>
<div class="line"><span class="lineno">  106</span>    <span class="stringliteral">&quot;&quot;&quot;Return the entire source file and starting line number for an object.</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">    For interactively-defined objects, the &#39;file&#39; is the interpreter&#39;s history.</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    The argument may be a module, class, method, function, traceback, frame,</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    or code object.  The source code is returned as a list of all the lines</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">    in the file and the line number indexes a line in that list.  An IOError</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    is raised if the source code cannot be retrieved, while a TypeError is</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    raised for objects where the source code is unavailable (e.g. builtins).&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    module = getmodule(object)</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">try</span>: file = getfile(module)</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">except</span> TypeError: file = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  118</span>    is_module_main = (module <span class="keywordflow">and</span> module.__name__ == <span class="stringliteral">&#39;__main__&#39;</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> file)</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span> IS_IPYTHON <span class="keywordflow">and</span> is_module_main:</div>
<div class="line"><span class="lineno">  120</span>        <span class="comment">#FIXME: quick fix for functions and classes in IPython interpreter</span></div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  122</span>            file = getfile(object)</div>
<div class="line"><span class="lineno">  123</span>            sourcefile = getsourcefile(object)</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">if</span> isclass(object):</div>
<div class="line"><span class="lineno">  126</span>                <span class="keywordflow">for</span> object_method <span class="keywordflow">in</span> filter(isfunction, object.__dict__.values()):</div>
<div class="line"><span class="lineno">  127</span>                    <span class="comment"># look for a method of the class</span></div>
<div class="line"><span class="lineno">  128</span>                    file_candidate = getfile(object_method)</div>
<div class="line"><span class="lineno">  129</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> file_candidate.startswith(<span class="stringliteral">&#39;&lt;ipython-input-&#39;</span>):</div>
<div class="line"><span class="lineno">  130</span>                        <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  131</span>                    file = file_candidate</div>
<div class="line"><span class="lineno">  132</span>                    sourcefile = getsourcefile(object_method)</div>
<div class="line"><span class="lineno">  133</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">if</span> file:</div>
<div class="line"><span class="lineno">  135</span>            lines = linecache.getlines(file)</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  137</span>            <span class="comment"># fallback to use history</span></div>
<div class="line"><span class="lineno">  138</span>            history = <span class="stringliteral">&#39;\n&#39;</span>.join(get_ipython().history_manager.input_hist_parsed)</div>
<div class="line"><span class="lineno">  139</span>            lines = [line + <span class="stringliteral">&#39;\n&#39;</span> <span class="keywordflow">for</span> line <span class="keywordflow">in</span> history.splitlines()]</div>
<div class="line"><span class="lineno">  140</span>    <span class="comment"># use readline when working in interpreter (i.e. __main__ and not file)</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">elif</span> is_module_main:</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  143</span>            <span class="keyword">import</span> readline</div>
<div class="line"><span class="lineno">  144</span>            err = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  146</span>            <span class="keyword">import</span> sys</div>
<div class="line"><span class="lineno">  147</span>            err = sys.exc_info()[1].args[0]</div>
<div class="line"><span class="lineno">  148</span>            <span class="keywordflow">if</span> sys.platform[:3] == <span class="stringliteral">&#39;win&#39;</span>:</div>
<div class="line"><span class="lineno">  149</span>                err += <span class="stringliteral">&quot;, please install &#39;pyreadline&#39;&quot;</span></div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">if</span> err:</div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordflow">raise</span> IOError(err)</div>
<div class="line"><span class="lineno">  152</span>        lbuf = readline.get_current_history_length()</div>
<div class="line"><span class="lineno">  153</span>        lines = [readline.get_history_item(i)+<span class="stringliteral">&#39;\n&#39;</span> <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1,lbuf+1)]</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">try</span>: <span class="comment"># special handling for class instances</span></div>
<div class="line"><span class="lineno">  156</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isclass(object) <span class="keywordflow">and</span> isclass(type(object)): <span class="comment"># __class__</span></div>
<div class="line"><span class="lineno">  157</span>                file = getfile(module)</div>
<div class="line"><span class="lineno">  158</span>                sourcefile = getsourcefile(module)</div>
<div class="line"><span class="lineno">  159</span>            <span class="keywordflow">else</span>: <span class="comment"># builtins fail with a TypeError</span></div>
<div class="line"><span class="lineno">  160</span>                file = getfile(object)</div>
<div class="line"><span class="lineno">  161</span>                sourcefile = getsourcefile(object)</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">except</span> (TypeError, AttributeError): <span class="comment"># fail with better error</span></div>
<div class="line"><span class="lineno">  163</span>            file = getfile(object)</div>
<div class="line"><span class="lineno">  164</span>            sourcefile = getsourcefile(object)</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> sourcefile <span class="keywordflow">and</span> file[:1] + file[-1:] != <span class="stringliteral">&#39;&lt;&gt;&#39;</span>:</div>
<div class="line"><span class="lineno">  166</span>            <span class="keywordflow">raise</span> IOError(<span class="stringliteral">&#39;source code not available&#39;</span>)</div>
<div class="line"><span class="lineno">  167</span>        file = sourcefile <span class="keywordflow">if</span> sourcefile <span class="keywordflow">else</span> file</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>        module = getmodule(object, file)</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">if</span> module:</div>
<div class="line"><span class="lineno">  171</span>            lines = linecache.getlines(file, module.__dict__)</div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  173</span>            lines = linecache.getlines(file)</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> lines:</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">raise</span> IOError(<span class="stringliteral">&#39;could not extract source code&#39;</span>)</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <span class="comment">#FIXME: all below may fail if exec used (i.e. exec(&#39;f = lambda x:x&#39;) )</span></div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> ismodule(object):</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">return</span> lines, 0</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">#NOTE: beneficial if search goes from end to start of buffer history</span></div>
<div class="line"><span class="lineno">  183</span>    name = pat1 = obj = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  184</span>    pat2 = <span class="stringliteral">r&#39;^(\s*@)&#39;</span></div>
<div class="line"><span class="lineno">  185</span><span class="comment">#   pat1b = r&#39;^(\s*%s\W*=)&#39; % name #FIXME: finds &#39;f = decorate(f)&#39;, not exec</span></div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> ismethod(object):</div>
<div class="line"><span class="lineno">  187</span>        name = object.__name__</div>
<div class="line"><span class="lineno">  188</span>        <span class="keywordflow">if</span> name == <span class="stringliteral">&#39;&lt;lambda&gt;&#39;</span>: pat1 = <span class="stringliteral">r&#39;(.*(?&lt;!\w)lambda(:|\s))&#39;</span></div>
<div class="line"><span class="lineno">  189</span>        <span class="keywordflow">else</span>: pat1 = <span class="stringliteral">r&#39;^(\s*def\s)&#39;</span></div>
<div class="line"><span class="lineno">  190</span>        object = object.__func__</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">if</span> isfunction(object):</div>
<div class="line"><span class="lineno">  192</span>        name = object.__name__</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">if</span> name == <span class="stringliteral">&#39;&lt;lambda&gt;&#39;</span>:</div>
<div class="line"><span class="lineno">  194</span>            pat1 = <span class="stringliteral">r&#39;(.*(?&lt;!\w)lambda(:|\s))&#39;</span></div>
<div class="line"><span class="lineno">  195</span>            obj = object <span class="comment">#XXX: better a copy?</span></div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">else</span>: pat1 = <span class="stringliteral">r&#39;^(\s*def\s)&#39;</span></div>
<div class="line"><span class="lineno">  197</span>        object = object.__code__</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">if</span> istraceback(object):</div>
<div class="line"><span class="lineno">  199</span>        object = object.tb_frame</div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">if</span> isframe(object):</div>
<div class="line"><span class="lineno">  201</span>        object = object.f_code</div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">if</span> iscode(object):</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(object, <span class="stringliteral">&#39;co_firstlineno&#39;</span>):</div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">raise</span> IOError(<span class="stringliteral">&#39;could not find function definition&#39;</span>)</div>
<div class="line"><span class="lineno">  205</span>        stdin = object.co_filename == <span class="stringliteral">&#39;&lt;stdin&gt;&#39;</span></div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">if</span> stdin:</div>
<div class="line"><span class="lineno">  207</span>            lnum = len(lines) - 1 <span class="comment"># can&#39;t get lnum easily, so leverage pat</span></div>
<div class="line"><span class="lineno">  208</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> pat1: pat1 = <span class="stringliteral">r&#39;^(\s*def\s)|(.*(?&lt;!\w)lambda(:|\s))|^(\s*@)&#39;</span></div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  210</span>            lnum = object.co_firstlineno - 1</div>
<div class="line"><span class="lineno">  211</span>            pat1 = <span class="stringliteral">r&#39;^(\s*def\s)|(.*(?&lt;!\w)lambda(:|\s))|^(\s*@)&#39;</span></div>
<div class="line"><span class="lineno">  212</span>        pat1 = re.compile(pat1); pat2 = re.compile(pat2)</div>
<div class="line"><span class="lineno">  213</span>       <span class="comment">#XXX: candidate_lnum = [n for n in range(lnum) if pat1.match(lines[n])]</span></div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">while</span> lnum &gt; 0: <span class="comment">#XXX: won&#39;t find decorators in &lt;stdin&gt; ?</span></div>
<div class="line"><span class="lineno">  215</span>            line = lines[lnum]</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">if</span> pat1.match(line):</div>
<div class="line"><span class="lineno">  217</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> stdin: <span class="keywordflow">break</span> <span class="comment"># co_firstlineno does the job</span></div>
<div class="line"><span class="lineno">  218</span>                <span class="keywordflow">if</span> name == <span class="stringliteral">&#39;&lt;lambda&gt;&#39;</span>: <span class="comment"># hackery needed to confirm a match</span></div>
<div class="line"><span class="lineno">  219</span>                    <span class="keywordflow">if</span> _matchlambda(obj, line): <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  220</span>                <span class="keywordflow">else</span>: <span class="comment"># not a lambda, just look for the name</span></div>
<div class="line"><span class="lineno">  221</span>                    <span class="keywordflow">if</span> name <span class="keywordflow">in</span> line: <span class="comment"># need to check for decorator...</span></div>
<div class="line"><span class="lineno">  222</span>                        hats = 0</div>
<div class="line"><span class="lineno">  223</span>                        <span class="keywordflow">for</span> _lnum <span class="keywordflow">in</span> range(lnum-1,-1,-1):</div>
<div class="line"><span class="lineno">  224</span>                            <span class="keywordflow">if</span> pat2.match(lines[_lnum]): hats += 1</div>
<div class="line"><span class="lineno">  225</span>                            <span class="keywordflow">else</span>: <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  226</span>                        lnum = lnum - hats</div>
<div class="line"><span class="lineno">  227</span>                        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  228</span>            lnum = lnum - 1</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">return</span> lines, lnum</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">try</span>: <span class="comment"># turn instances into classes</span></div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isclass(object) <span class="keywordflow">and</span> isclass(type(object)): <span class="comment"># __class__</span></div>
<div class="line"><span class="lineno">  233</span>            object = object.__class__ <span class="comment">#XXX: sometimes type(class) is better?</span></div>
<div class="line"><span class="lineno">  234</span>            <span class="comment">#XXX: we don&#39;t find how the instance was built</span></div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">except</span> AttributeError: <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> isclass(object):</div>
<div class="line"><span class="lineno">  237</span>        name = object.__name__</div>
<div class="line"><span class="lineno">  238</span>        pat = re.compile(<span class="stringliteral">r&#39;^(\s*)class\s*&#39;</span> + name + <span class="stringliteral">r&#39;\b&#39;</span>)</div>
<div class="line"><span class="lineno">  239</span>        <span class="comment"># make some effort to find the best matching class definition:</span></div>
<div class="line"><span class="lineno">  240</span>        <span class="comment"># use the one with the least indentation, which is the one</span></div>
<div class="line"><span class="lineno">  241</span>        <span class="comment"># that&#39;s most probably not inside a function definition.</span></div>
<div class="line"><span class="lineno">  242</span>        candidates = []</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(lines)-1,-1,-1):</div>
<div class="line"><span class="lineno">  244</span>            match = pat.match(lines[i])</div>
<div class="line"><span class="lineno">  245</span>            <span class="keywordflow">if</span> match:</div>
<div class="line"><span class="lineno">  246</span>                <span class="comment"># if it&#39;s at toplevel, it&#39;s already the best one</span></div>
<div class="line"><span class="lineno">  247</span>                <span class="keywordflow">if</span> lines[i][0] == <span class="stringliteral">&#39;c&#39;</span>:</div>
<div class="line"><span class="lineno">  248</span>                    <span class="keywordflow">return</span> lines, i</div>
<div class="line"><span class="lineno">  249</span>                <span class="comment"># else add whitespace to candidate list</span></div>
<div class="line"><span class="lineno">  250</span>                candidates.append((match.group(1), i))</div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">if</span> candidates:</div>
<div class="line"><span class="lineno">  252</span>            <span class="comment"># this will sort by whitespace, and by line number,</span></div>
<div class="line"><span class="lineno">  253</span>            <span class="comment"># less whitespace first  #XXX: should sort high lnum before low</span></div>
<div class="line"><span class="lineno">  254</span>            candidates.sort()</div>
<div class="line"><span class="lineno">  255</span>            <span class="keywordflow">return</span> lines, candidates[0][1]</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  257</span>            <span class="keywordflow">raise</span> IOError(<span class="stringliteral">&#39;could not find class definition&#39;</span>)</div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">raise</span> IOError(<span class="stringliteral">&#39;could not find code object&#39;</span>)</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00052">_matchlambda()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00837">_closuredimport()</a>, and <a class="el" href="dill_2source_8py_source.html#l00261">getblocks()</a>.</p>

</div>
</div>
<a id="ac2cef3a3b7b20f7f5dee8bea05c22b3d" name="ac2cef3a3b7b20f7f5dee8bea05c22b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2cef3a3b7b20f7f5dee8bea05c22b3d">&#9670;&#160;</a></span>getblocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.getblocks </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lstrip</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>enclosing</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>locate</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a list of source lines and starting line number for an object.
Interactively-defined objects refer to lines in the interpreter's history.

If enclosing=True, then also return any enclosing code.
If lstrip=True, ensure there is no indentation in the first line of code.
If locate=True, then also return the line number for the block of code.

DEPRECATED: use 'getsourcelines' instead
</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00261">261</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span><span class="keyword">def </span>getblocks(object, lstrip=False, enclosing=False, locate=False):</div>
<div class="line"><span class="lineno">  262</span>    <span class="stringliteral">&quot;&quot;&quot;Return a list of source lines and starting line number for an object.</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">    Interactively-defined objects refer to lines in the interpreter&#39;s history.</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    If enclosing=True, then also return any enclosing code.</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">    If lstrip=True, ensure there is no indentation in the first line of code.</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">    If locate=True, then also return the line number for the block of code.</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">    DEPRECATED: use &#39;getsourcelines&#39; instead</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  271</span>    lines, lnum = findsource(object)</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">if</span> ismodule(object):</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">if</span> lstrip: lines = _outdent(lines)</div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">return</span> ([lines], [0]) <span class="keywordflow">if</span> locate <span class="keywordflow">is</span> <span class="keyword">True</span> <span class="keywordflow">else</span> [lines]</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    <span class="comment">#XXX: &#39;enclosing&#39; means: closures only? or classes and files?</span></div>
<div class="line"><span class="lineno">  278</span>    indent = indentsize(lines[lnum])</div>
<div class="line"><span class="lineno">  279</span>    block = getblock(lines[lnum:]) <span class="comment">#XXX: catch any TokenError here?</span></div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> enclosing <span class="keywordflow">or</span> <span class="keywordflow">not</span> indent:</div>
<div class="line"><span class="lineno">  282</span>        <span class="keywordflow">if</span> lstrip: block = _outdent(block)</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">return</span> ([block], [lnum]) <span class="keywordflow">if</span> locate <span class="keywordflow">is</span> <span class="keyword">True</span> <span class="keywordflow">else</span> [block]</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>    pat1 = <span class="stringliteral">r&#39;^(\s*def\s)|(.*(?&lt;!\w)lambda(:|\s))&#39;</span>; pat1 = re.compile(pat1)</div>
<div class="line"><span class="lineno">  286</span>    pat2 = <span class="stringliteral">r&#39;^(\s*@)&#39;</span>; pat2 = re.compile(pat2)</div>
<div class="line"><span class="lineno">  287</span>   <span class="comment">#pat3 = r&#39;^(\s*class\s)&#39;; pat3 = re.compile(pat3) #XXX: enclosing class?</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="comment">#FIXME: bound methods need enclosing class (and then instantiation)</span></div>
<div class="line"><span class="lineno">  289</span>    <span class="comment">#       *or* somehow apply a partial using the instance</span></div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    skip = 0</div>
<div class="line"><span class="lineno">  292</span>    line = 0</div>
<div class="line"><span class="lineno">  293</span>    blocks = []; _lnum = []</div>
<div class="line"><span class="lineno">  294</span>    target = <span class="stringliteral">&#39;&#39;</span>.join(block)</div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordflow">while</span> line &lt;= lnum: <span class="comment">#XXX: repeat lnum? or until line &lt; lnum?</span></div>
<div class="line"><span class="lineno">  296</span>        <span class="comment"># see if starts with (&#39;def&#39;,&#39;lambda&#39;) and contains our target block</span></div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">if</span> pat1.match(lines[line]):</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> skip:</div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordflow">try</span>: code = getblock(lines[line:])</div>
<div class="line"><span class="lineno">  300</span>                <span class="keywordflow">except</span> TokenError: code = [lines[line]]</div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordflow">if</span> indentsize(lines[line]) &gt; indent: <span class="comment">#XXX: should be &gt;= ?</span></div>
<div class="line"><span class="lineno">  302</span>                line += len(code) - skip</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">elif</span> target <span class="keywordflow">in</span> <span class="stringliteral">&#39;&#39;</span>.join(code):</div>
<div class="line"><span class="lineno">  304</span>                blocks.append(code) <span class="comment"># save code block as the potential winner</span></div>
<div class="line"><span class="lineno">  305</span>                _lnum.append(line - skip) <span class="comment"># save the line number for the match</span></div>
<div class="line"><span class="lineno">  306</span>                line += len(code) - skip</div>
<div class="line"><span class="lineno">  307</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  308</span>                line += 1</div>
<div class="line"><span class="lineno">  309</span>            skip = 0</div>
<div class="line"><span class="lineno">  310</span>        <span class="comment"># find skip: the number of consecutive decorators</span></div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">elif</span> pat2.match(lines[line]):</div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">try</span>: code = getblock(lines[line:])</div>
<div class="line"><span class="lineno">  313</span>            <span class="keywordflow">except</span> TokenError: code = [lines[line]]</div>
<div class="line"><span class="lineno">  314</span>            skip = 1</div>
<div class="line"><span class="lineno">  315</span>            <span class="keywordflow">for</span> _line <span class="keywordflow">in</span> code[1:]: <span class="comment"># skip lines that are decorators</span></div>
<div class="line"><span class="lineno">  316</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> pat2.match(_line): <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  317</span>                skip += 1</div>
<div class="line"><span class="lineno">  318</span>            line += skip</div>
<div class="line"><span class="lineno">  319</span>        <span class="comment"># no match: reset skip and go to the next line</span></div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  321</span>            line +=1</div>
<div class="line"><span class="lineno">  322</span>            skip = 0</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> blocks:</div>
<div class="line"><span class="lineno">  325</span>        blocks = [block]</div>
<div class="line"><span class="lineno">  326</span>        _lnum = [lnum]</div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">if</span> lstrip: blocks = [_outdent(block) <span class="keywordflow">for</span> block <span class="keywordflow">in</span> blocks]</div>
<div class="line"><span class="lineno">  328</span>    <span class="comment"># return last match</span></div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">return</span> (blocks, _lnum) <span class="keywordflow">if</span> locate <span class="keywordflow">is</span> <span class="keyword">True</span> <span class="keywordflow">else</span> blocks</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00512">_outdent()</a>, and <a class="el" href="dill_2source_8py_source.html#l00105">findsource()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00332">getsourcelines()</a>.</p>

</div>
</div>
<a id="a5db0e35a485d0a8b42ce1ef8a6d4829e" name="a5db0e35a485d0a8b42ce1ef8a6d4829e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5db0e35a485d0a8b42ce1ef8a6d4829e">&#9670;&#160;</a></span>getimport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.getimport </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verify</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>builtin</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>enclosing</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">get the likely import string for the given object

obj is the object to inspect
If verify=True, then test the import string before returning it.
If builtin=True, then force an import for builtins where possible.
If enclosing=True, get the import for the outermost enclosing callable.
If alias is provided, then rename the object on import.
</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00722">722</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  722</span><span class="keyword">def </span>getimport(obj, alias=&#39;&#39;, verify=True, builtin=False, enclosing=False):</div>
<div class="line"><span class="lineno">  723</span>    <span class="stringliteral">&quot;&quot;&quot;get the likely import string for the given object</span></div>
<div class="line"><span class="lineno">  724</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  725</span><span class="stringliteral">    obj is the object to inspect</span></div>
<div class="line"><span class="lineno">  726</span><span class="stringliteral">    If verify=True, then test the import string before returning it.</span></div>
<div class="line"><span class="lineno">  727</span><span class="stringliteral">    If builtin=True, then force an import for builtins where possible.</span></div>
<div class="line"><span class="lineno">  728</span><span class="stringliteral">    If enclosing=True, get the import for the outermost enclosing callable.</span></div>
<div class="line"><span class="lineno">  729</span><span class="stringliteral">    If alias is provided, then rename the object on import.</span></div>
<div class="line"><span class="lineno">  730</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordflow">if</span> enclosing:</div>
<div class="line"><span class="lineno">  732</span>        <span class="keyword">from</span> .detect <span class="keyword">import</span> outermost</div>
<div class="line"><span class="lineno">  733</span>        _obj = outermost(obj)</div>
<div class="line"><span class="lineno">  734</span>        obj = _obj <span class="keywordflow">if</span> _obj <span class="keywordflow">else</span> obj</div>
<div class="line"><span class="lineno">  735</span>    <span class="comment"># get the namespace</span></div>
<div class="line"><span class="lineno">  736</span>    qual = _namespace(obj)</div>
<div class="line"><span class="lineno">  737</span>    head = <span class="stringliteral">&#39;.&#39;</span>.join(qual[:-1])</div>
<div class="line"><span class="lineno">  738</span>    tail = qual[-1]</div>
<div class="line"><span class="lineno">  739</span>    <span class="comment"># for named things... with a nice repr #XXX: move into _namespace?</span></div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordflow">try</span>: <span class="comment"># look for &#39;&lt;...&gt;&#39; and be mindful it might be in lists, dicts, etc...</span></div>
<div class="line"><span class="lineno">  741</span>        name = repr(obj).split(<span class="stringliteral">&#39;&lt;&#39;</span>,1)[1].split(<span class="stringliteral">&#39;&gt;&#39;</span>,1)[1]</div>
<div class="line"><span class="lineno">  742</span>        name = <span class="keywordtype">None</span> <span class="comment"># we have a &#39;object&#39;-style repr</span></div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">except</span> Exception: <span class="comment"># it&#39;s probably something &#39;importable&#39;</span></div>
<div class="line"><span class="lineno">  744</span>        <span class="keywordflow">if</span> head <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>]:</div>
<div class="line"><span class="lineno">  745</span>            name = repr(obj) <span class="comment">#XXX: catch [1,2], (1,2), set([1,2])... others?</span></div>
<div class="line"><span class="lineno">  746</span>        <span class="keywordflow">elif</span> _isinstance(obj):</div>
<div class="line"><span class="lineno">  747</span>            name = getname(obj, force=<span class="keyword">True</span>).split(<span class="stringliteral">&#39;(&#39;</span>)[0]</div>
<div class="line"><span class="lineno">  748</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  749</span>            name = repr(obj).split(<span class="stringliteral">&#39;(&#39;</span>)[0]</div>
<div class="line"><span class="lineno">  750</span>   <span class="comment">#if not repr(obj).startswith(&#39;&lt;&#39;): name = repr(obj).split(&#39;(&#39;)[0]</span></div>
<div class="line"><span class="lineno">  751</span>   <span class="comment">#else: name = None</span></div>
<div class="line"><span class="lineno">  752</span>    <span class="keywordflow">if</span> name: <span class="comment"># try using name instead of tail</span></div>
<div class="line"><span class="lineno">  753</span>        <span class="keywordflow">try</span>: <span class="keywordflow">return</span> _getimport(head, name, alias, verify, builtin)</div>
<div class="line"><span class="lineno">  754</span>        <span class="keywordflow">except</span> ImportError: <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  755</span>        <span class="keywordflow">except</span> SyntaxError:</div>
<div class="line"><span class="lineno">  756</span>            <span class="keywordflow">if</span> head <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>]:</div>
<div class="line"><span class="lineno">  757</span>                _alias = <span class="stringliteral">&#39;%s = &#39;</span> % alias <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  758</span>                <span class="keywordflow">if</span> alias == name: _alias = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  759</span>                <span class="keywordflow">return</span> _alias+<span class="stringliteral">&#39;%s\n&#39;</span> % name</div>
<div class="line"><span class="lineno">  760</span>            <span class="keywordflow">else</span>: <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  762</span>       <span class="comment">#if type(obj) is type(abs): _builtin = builtin # BuiltinFunctionType</span></div>
<div class="line"><span class="lineno">  763</span>       <span class="comment">#else: _builtin = False</span></div>
<div class="line"><span class="lineno">  764</span>        <span class="keywordflow">return</span> _getimport(head, tail, alias, verify, builtin)</div>
<div class="line"><span class="lineno">  765</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">raise</span> <span class="comment"># could do some checking against obj</span></div>
<div class="line"><span class="lineno">  767</span>    <span class="keywordflow">except</span> SyntaxError:</div>
<div class="line"><span class="lineno">  768</span>        <span class="keywordflow">if</span> head <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>]:</div>
<div class="line"><span class="lineno">  769</span>            _alias = <span class="stringliteral">&#39;%s = &#39;</span> % alias <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  770</span>            <span class="keywordflow">if</span> alias == tail: _alias = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  771</span>            <span class="keywordflow">return</span> _alias+<span class="stringliteral">&#39;%s\n&#39;</span> % tail</div>
<div class="line"><span class="lineno">  772</span>        <span class="keywordflow">raise</span> <span class="comment"># could do some checking against obj</span></div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00674">_getimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00446">_isinstance()</a>, <a class="el" href="dill_2source_8py_source.html#l00631">_namespace()</a>, and <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00837">_closuredimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00776">_importable()</a>, <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l01014">likely_import()</a>.</p>

</div>
</div>
<a id="a6c6eb4588d87915a12a1de69257ea4e8" name="a6c6eb4588d87915a12a1de69257ea4e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c6eb4588d87915a12a1de69257ea4e8">&#9670;&#160;</a></span>getimportable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.getimportable </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>byname</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>explicit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l01011">1011</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1011</span><span class="keyword">def </span>getimportable(obj, alias=&#39;&#39;, byname=True, explicit=False):</div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">return</span> importable(obj,alias,source=(<span class="keywordflow">not</span> byname),builtin=explicit)</div>
<div class="line"><span class="lineno"> 1013</span>   <span class="comment">#return outdent(_importable(obj,alias,source=(not byname),builtin=explicit))</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00929">importable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00536">_wrap()</a>.</p>

</div>
</div>
<a id="ab8c280c07c7a4b83db1699900076eda9" name="ab8c280c07c7a4b83db1699900076eda9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c280c07c7a4b83db1699900076eda9">&#9670;&#160;</a></span>getname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.getname </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>force</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fqn</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">get the name of the object. for lambdas, get the name of the pointer </pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00603">603</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  603</span><span class="keyword">def </span>getname(obj, force=False, fqn=False): <span class="comment">#XXX: throw(?) to raise error on fail?</span></div>
<div class="line"><span class="lineno">  604</span>    <span class="stringliteral">&quot;&quot;&quot;get the name of the object. for lambdas, get the name of the pointer &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">if</span> fqn: <span class="keywordflow">return</span> <span class="stringliteral">&#39;.&#39;</span>.join(_namespace(obj)) <span class="comment">#NOTE: returns &#39;type&#39;</span></div>
<div class="line"><span class="lineno">  606</span>    module = getmodule(obj)</div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> module: <span class="comment"># things like &quot;None&quot; and &quot;1&quot;</span></div>
<div class="line"><span class="lineno">  608</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> force: <span class="keywordflow">return</span> <span class="keywordtype">None</span> <span class="comment">#NOTE: returns &#39;instance&#39; NOT &#39;type&#39; #FIXME?</span></div>
<div class="line"><span class="lineno">  609</span>        <span class="comment"># handle some special cases</span></div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">if</span> hasattr(obj, <span class="stringliteral">&#39;dtype&#39;</span>) <span class="keywordflow">and</span> <span class="keywordflow">not</span> obj.shape:</div>
<div class="line"><span class="lineno">  611</span>            <span class="keywordflow">return</span> getname(obj.__class__) + <span class="stringliteral">&quot;(&quot;</span> + repr(obj.tolist()) + <span class="stringliteral">&quot;)&quot;</span> </div>
<div class="line"><span class="lineno">  612</span>        <span class="keywordflow">return</span> repr(obj)</div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  614</span>        <span class="comment">#XXX: &#39;wrong&#39; for decorators and curried functions ?</span></div>
<div class="line"><span class="lineno">  615</span>        <span class="comment">#       if obj.func_closure: ...use logic from getimportable, etc ?</span></div>
<div class="line"><span class="lineno">  616</span>        name = obj.__name__</div>
<div class="line"><span class="lineno">  617</span>        <span class="keywordflow">if</span> name == <span class="stringliteral">&#39;&lt;lambda&gt;&#39;</span>:</div>
<div class="line"><span class="lineno">  618</span>            <span class="keywordflow">return</span> getsource(obj).split(<span class="stringliteral">&#39;=&#39;</span>,1)[0].strip()</div>
<div class="line"><span class="lineno">  619</span>        <span class="comment"># handle some special cases</span></div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">if</span> module.__name__ <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>]:</div>
<div class="line"><span class="lineno">  621</span>            <span class="keywordflow">if</span> name == <span class="stringliteral">&#39;ellipsis&#39;</span>: name = <span class="stringliteral">&#39;EllipsisType&#39;</span></div>
<div class="line"><span class="lineno">  622</span>        <span class="keywordflow">return</span> name</div>
<div class="line"><span class="lineno">  623</span>    <span class="keywordflow">except</span> AttributeError: <span class="comment">#XXX: better to just throw AttributeError ?</span></div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> force: <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  625</span>        name = repr(obj)</div>
<div class="line"><span class="lineno">  626</span>        <span class="keywordflow">if</span> name.startswith(<span class="stringliteral">&#39;&lt;&#39;</span>): <span class="comment"># or name.split(&#39;(&#39;):</span></div>
<div class="line"><span class="lineno">  627</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  628</span>        <span class="keywordflow">return</span> name</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00631">_namespace()</a>, <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>, and <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00837">_closuredimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00776">_importable()</a>, <a class="el" href="dill_2source_8py_source.html#l00466">_intypes()</a>, <a class="el" href="dill_2source_8py_source.html#l00446">_isinstance()</a>, <a class="el" href="dill_2source_8py_source.html#l00631">_namespace()</a>, <a class="el" href="dill_2source_8py_source.html#l00722">getimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>, and <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>.</p>

</div>
</div>
<a id="ae62c4b1237ef73de6ad028639ebb823d" name="ae62c4b1237ef73de6ad028639ebb823d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae62c4b1237ef73de6ad028639ebb823d">&#9670;&#160;</a></span>getsource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.getsource </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lstrip</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>enclosing</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>force</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>builtin</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the text of the source code for an object. The source code for
interactively-defined objects are extracted from the interpreter's history.

The argument may be a module, class, method, function, traceback, frame,
or code object.  The source code is returned as a single string.  An
IOError is raised if the source code cannot be retrieved, while a
TypeError is raised for objects where the source code is unavailable
(e.g. builtins).

If alias is provided, then add a line of code that renames the object.
If lstrip=True, ensure there is no indentation in the first line of code.
If enclosing=True, then also return any enclosing code.
If force=True, catch (TypeError,IOError) and try to use import hooks.
If builtin=True, force an import for any builtins
</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00350">350</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  351</span>                                              force=<span class="keyword">False</span>, builtin=<span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  352</span>    <span class="stringliteral">&quot;&quot;&quot;Return the text of the source code for an object. The source code for</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral">    interactively-defined objects are extracted from the interpreter&#39;s history.</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">    The argument may be a module, class, method, function, traceback, frame,</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">    or code object.  The source code is returned as a single string.  An</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">    IOError is raised if the source code cannot be retrieved, while a</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">    TypeError is raised for objects where the source code is unavailable</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">    (e.g. builtins).</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">    If alias is provided, then add a line of code that renames the object.</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">    If lstrip=True, ensure there is no indentation in the first line of code.</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">    If enclosing=True, then also return any enclosing code.</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">    If force=True, catch (TypeError,IOError) and try to use import hooks.</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">    If builtin=True, force an import for any builtins</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  367</span>    <span class="comment"># hascode denotes a callable</span></div>
<div class="line"><span class="lineno">  368</span>    hascode = _hascode(object)</div>
<div class="line"><span class="lineno">  369</span>    <span class="comment"># is a class instance type (and not in builtins)</span></div>
<div class="line"><span class="lineno">  370</span>    instance = _isinstance(object)</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    <span class="comment"># get source lines; if fail, try to &#39;force&#39; an import</span></div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">try</span>: <span class="comment"># fails for builtins, and other assorted object types</span></div>
<div class="line"><span class="lineno">  374</span>        lines, lnum = getsourcelines(object, enclosing=enclosing)</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">except</span> (TypeError, IOError): <span class="comment"># failed to get source, resort to import hooks</span></div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> force: <span class="comment"># don&#39;t try to get types that findsource can&#39;t get</span></div>
<div class="line"><span class="lineno">  377</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> getmodule(object): <span class="comment"># get things like &#39;None&#39; and &#39;1&#39;</span></div>
<div class="line"><span class="lineno">  379</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> instance: <span class="keywordflow">return</span> getimport(object, alias, builtin=builtin)</div>
<div class="line"><span class="lineno">  380</span>            <span class="comment"># special handling (numpy arrays, ...)</span></div>
<div class="line"><span class="lineno">  381</span>            _import = getimport(object, builtin=builtin)</div>
<div class="line"><span class="lineno">  382</span>            name = getname(object, force=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  383</span>            _alias = <span class="stringliteral">&quot;%s = &quot;</span> % alias <span class="keywordflow">if</span> alias <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  384</span>            <span class="keywordflow">if</span> alias == name: _alias = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  385</span>            <span class="keywordflow">return</span> _import+_alias+<span class="stringliteral">&quot;%s\n&quot;</span> % name</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">else</span>: <span class="comment">#FIXME: could use a good bit of cleanup, since using getimport...</span></div>
<div class="line"><span class="lineno">  387</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> instance: <span class="keywordflow">return</span> getimport(object, alias, builtin=builtin)</div>
<div class="line"><span class="lineno">  388</span>            <span class="comment"># now we are dealing with an instance...</span></div>
<div class="line"><span class="lineno">  389</span>            name = object.__class__.__name__</div>
<div class="line"><span class="lineno">  390</span>            module = object.__module__</div>
<div class="line"><span class="lineno">  391</span>            <span class="keywordflow">if</span> module <span class="keywordflow">in</span> [<span class="stringliteral">&#39;builtins&#39;</span>,<span class="stringliteral">&#39;__builtin__&#39;</span>]:</div>
<div class="line"><span class="lineno">  392</span>                <span class="keywordflow">return</span> getimport(object, alias, builtin=builtin)</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">else</span>: <span class="comment">#FIXME: leverage getimport? use &#39;from module import name&#39;?</span></div>
<div class="line"><span class="lineno">  394</span>                lines, lnum = [<span class="stringliteral">&quot;%s = __import__(&#39;%s&#39;, fromlist=[&#39;%s&#39;]).%s\n&quot;</span> % (name,module,name,name)], 0</div>
<div class="line"><span class="lineno">  395</span>                obj = eval(lines[0].lstrip(name + <span class="stringliteral">&#39; = &#39;</span>))</div>
<div class="line"><span class="lineno">  396</span>                lines, lnum = getsourcelines(obj, enclosing=enclosing)</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>    <span class="comment"># strip leading indent (helps ensure can be imported)</span></div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">if</span> lstrip <span class="keywordflow">or</span> alias:</div>
<div class="line"><span class="lineno">  400</span>        lines = _outdent(lines)</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <span class="comment"># instantiate, if there&#39;s a nice repr  #XXX: BAD IDEA???</span></div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">if</span> instance: <span class="comment">#and force: #XXX: move into findsource or getsourcelines ?</span></div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;(&#39;</span> <span class="keywordflow">in</span> repr(object): lines.append(<span class="stringliteral">&#39;%r\n&#39;</span> % object)</div>
<div class="line"><span class="lineno">  405</span>       <span class="comment">#else: #XXX: better to somehow to leverage __reduce__ ?</span></div>
<div class="line"><span class="lineno">  406</span>       <span class="comment">#    reconstructor,args = object.__reduce__()</span></div>
<div class="line"><span class="lineno">  407</span>       <span class="comment">#    _ = reconstructor(*args)</span></div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">else</span>: <span class="comment"># fall back to serialization #XXX: bad idea?</span></div>
<div class="line"><span class="lineno">  409</span>            <span class="comment">#XXX: better not duplicate work? #XXX: better new/enclose=True?</span></div>
<div class="line"><span class="lineno">  410</span>            lines = dumpsource(object, alias=<span class="stringliteral">&#39;&#39;</span>, new=force, enclose=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  411</span>            lines, lnum = [line+<span class="stringliteral">&#39;\n&#39;</span> <span class="keywordflow">for</span> line <span class="keywordflow">in</span> lines.split(<span class="stringliteral">&#39;\n&#39;</span>)][:-1], 0</div>
<div class="line"><span class="lineno">  412</span>       <span class="comment">#else: object.__code__ # raise AttributeError</span></div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>    <span class="comment"># add an alias to the source code</span></div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> alias:</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">if</span> hascode:</div>
<div class="line"><span class="lineno">  417</span>            skip = 0</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">for</span> line <span class="keywordflow">in</span> lines: <span class="comment"># skip lines that are decorators</span></div>
<div class="line"><span class="lineno">  419</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> line.startswith(<span class="stringliteral">&#39;@&#39;</span>): <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  420</span>                skip += 1</div>
<div class="line"><span class="lineno">  421</span>            <span class="comment">#XXX: use regex from findsource / getsourcelines ?</span></div>
<div class="line"><span class="lineno">  422</span>            <span class="keywordflow">if</span> lines[skip].lstrip().startswith(<span class="stringliteral">&#39;def &#39;</span>): <span class="comment"># we have a function</span></div>
<div class="line"><span class="lineno">  423</span>                <span class="keywordflow">if</span> alias != object.__name__:</div>
<div class="line"><span class="lineno">  424</span>                    lines.append(<span class="stringliteral">&#39;\n%s = %s\n&#39;</span> % (alias, object.__name__))</div>
<div class="line"><span class="lineno">  425</span>            <span class="keywordflow">elif</span> <span class="stringliteral">&#39;lambda &#39;</span> <span class="keywordflow">in</span> lines[skip]: <span class="comment"># we have a lambda</span></div>
<div class="line"><span class="lineno">  426</span>                <span class="keywordflow">if</span> alias != lines[skip].split(<span class="stringliteral">&#39;=&#39;</span>)[0].strip():</div>
<div class="line"><span class="lineno">  427</span>                    lines[skip] = <span class="stringliteral">&#39;%s = %s&#39;</span> % (alias, lines[skip])</div>
<div class="line"><span class="lineno">  428</span>            <span class="keywordflow">else</span>: <span class="comment"># ...try to use the object&#39;s name</span></div>
<div class="line"><span class="lineno">  429</span>                <span class="keywordflow">if</span> alias != object.__name__:</div>
<div class="line"><span class="lineno">  430</span>                    lines.append(<span class="stringliteral">&#39;\n%s = %s\n&#39;</span> % (alias, object.__name__))</div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">else</span>: <span class="comment"># class or class instance</span></div>
<div class="line"><span class="lineno">  432</span>            <span class="keywordflow">if</span> instance:</div>
<div class="line"><span class="lineno">  433</span>                <span class="keywordflow">if</span> alias != lines[-1].split(<span class="stringliteral">&#39;=&#39;</span>)[0].strip():</div>
<div class="line"><span class="lineno">  434</span>                    lines[-1] = (<span class="stringliteral">&#39;%s = &#39;</span> % alias) + lines[-1]</div>
<div class="line"><span class="lineno">  435</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  436</span>                name = getname(object, force=<span class="keyword">True</span>) <span class="keywordflow">or</span> object.__name__</div>
<div class="line"><span class="lineno">  437</span>                <span class="keywordflow">if</span> alias != name:</div>
<div class="line"><span class="lineno">  438</span>                    lines.append(<span class="stringliteral">&#39;\n%s = %s\n&#39;</span> % (alias, name))</div>
<div class="line"><span class="lineno">  439</span>    <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>.join(lines)</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00442">_hascode()</a>, <a class="el" href="dill_2source_8py_source.html#l00446">_isinstance()</a>, <a class="el" href="dill_2source_8py_source.html#l00512">_outdent()</a>, <a class="el" href="dill_2source_8py_source.html#l00564">dumpsource()</a>, <a class="el" href="dill_2source_8py_source.html#l00722">getimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>, and <a class="el" href="dill_2source_8py_source.html#l00332">getsourcelines()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00837">_closuredimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00890">_closuredsource()</a>, <a class="el" href="dill_2source_8py_source.html#l00550">_enclose()</a>, <a class="el" href="dill_2source_8py_source.html#l00776">_importable()</a>, <a class="el" href="dill_2source_8py_source.html#l00564">dumpsource()</a>, <a class="el" href="dill_2source_8py_source.html#l00603">getname()</a>, and <a class="el" href="dill_2source_8py_source.html#l00929">importable()</a>.</p>

</div>
</div>
<a id="ab4d0fbc5e80efb3cad138bab9a09f595" name="ab4d0fbc5e80efb3cad138bab9a09f595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d0fbc5e80efb3cad138bab9a09f595">&#9670;&#160;</a></span>getsourcelines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.getsourcelines </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lstrip</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>enclosing</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a list of source lines and starting line number for an object.
Interactively-defined objects refer to lines in the interpreter's history.

The argument may be a module, class, method, function, traceback, frame,
or code object.  The source code is returned as a list of the lines
corresponding to the object and the line number indicates where in the
original source file the first line of code was found.  An IOError is
raised if the source code cannot be retrieved, while a TypeError is
raised for objects where the source code is unavailable (e.g. builtins).

If lstrip=True, ensure there is no indentation in the first line of code.
If enclosing=True, then also return any enclosing code.</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00332">332</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  332</span><span class="keyword">def </span>getsourcelines(object, lstrip=False, enclosing=False):</div>
<div class="line"><span class="lineno">  333</span>    <span class="stringliteral">&quot;&quot;&quot;Return a list of source lines and starting line number for an object.</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">    Interactively-defined objects refer to lines in the interpreter&#39;s history.</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">    The argument may be a module, class, method, function, traceback, frame,</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">    or code object.  The source code is returned as a list of the lines</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">    corresponding to the object and the line number indicates where in the</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">    original source file the first line of code was found.  An IOError is</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">    raised if the source code cannot be retrieved, while a TypeError is</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">    raised for objects where the source code is unavailable (e.g. builtins).</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">    If lstrip=True, ensure there is no indentation in the first line of code.</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">    If enclosing=True, then also return any enclosing code.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  345</span>    code, n = getblocks(object, lstrip=lstrip, enclosing=enclosing, locate=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">return</span> code[-1], n[-1]</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span><span class="comment">#NOTE: broke backward compatibility 4/16/14 (was lstrip=True, force=True)</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00261">getblocks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>.</p>

</div>
</div>
<a id="a9b793b3bb3df5645e858166d4272b63e" name="a9b793b3bb3df5645e858166d4272b63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b793b3bb3df5645e858166d4272b63e">&#9670;&#160;</a></span>importable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.importable </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alias</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>source</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>builtin</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">get an importable string (i.e. source code or the import string)
for the given object, including any required objects from the enclosing
and global scope

This function will attempt to discover the name of the object, or the repr
of the object, or the source code for the object. To attempt to force
discovery of the source code, use source=True, to attempt to force the
use of an import, use source=False; otherwise an import will be sought
for objects not defined in __main__. The intent is to build a string
that can be imported from a python file.

obj is the object to inspect. If alias is provided, then rename the
object with the given alias. If builtin=True, then force an import for
builtins where possible.
</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00929">929</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  929</span><span class="keyword">def </span>importable(obj, alias=&#39;&#39;, source=None, builtin=True):</div>
<div class="line"><span class="lineno">  930</span>    <span class="stringliteral">&quot;&quot;&quot;get an importable string (i.e. source code or the import string)</span></div>
<div class="line"><span class="lineno">  931</span><span class="stringliteral">    for the given object, including any required objects from the enclosing</span></div>
<div class="line"><span class="lineno">  932</span><span class="stringliteral">    and global scope</span></div>
<div class="line"><span class="lineno">  933</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  934</span><span class="stringliteral">    This function will attempt to discover the name of the object, or the repr</span></div>
<div class="line"><span class="lineno">  935</span><span class="stringliteral">    of the object, or the source code for the object. To attempt to force</span></div>
<div class="line"><span class="lineno">  936</span><span class="stringliteral">    discovery of the source code, use source=True, to attempt to force the</span></div>
<div class="line"><span class="lineno">  937</span><span class="stringliteral">    use of an import, use source=False; otherwise an import will be sought</span></div>
<div class="line"><span class="lineno">  938</span><span class="stringliteral">    for objects not defined in __main__. The intent is to build a string</span></div>
<div class="line"><span class="lineno">  939</span><span class="stringliteral">    that can be imported from a python file.</span></div>
<div class="line"><span class="lineno">  940</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  941</span><span class="stringliteral">    obj is the object to inspect. If alias is provided, then rename the</span></div>
<div class="line"><span class="lineno">  942</span><span class="stringliteral">    object with the given alias. If builtin=True, then force an import for</span></div>
<div class="line"><span class="lineno">  943</span><span class="stringliteral">    builtins where possible.</span></div>
<div class="line"><span class="lineno">  944</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  945</span>    <span class="comment">#NOTE: we always &#39;force&#39;, and &#39;lstrip&#39; as necessary</span></div>
<div class="line"><span class="lineno">  946</span>    <span class="comment">#NOTE: for &#39;enclosing&#39;, use importable(outermost(obj))</span></div>
<div class="line"><span class="lineno">  947</span>    <span class="keywordflow">if</span> source <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  948</span>        source = <span class="keyword">True</span> <span class="keywordflow">if</span> isfrommain(obj) <span class="keywordflow">else</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  949</span>    <span class="keywordflow">elif</span> builtin <span class="keywordflow">and</span> isbuiltin(obj):</div>
<div class="line"><span class="lineno">  950</span>        source = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  951</span>    tried_source = tried_import = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  952</span>    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  953</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> source: <span class="comment"># we want an import</span></div>
<div class="line"><span class="lineno">  954</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  955</span>                <span class="keywordflow">if</span> _isinstance(obj): <span class="comment"># for instances, punt to _importable</span></div>
<div class="line"><span class="lineno">  956</span>                    <span class="keywordflow">return</span> _importable(obj, alias, source=<span class="keyword">False</span>, builtin=builtin)</div>
<div class="line"><span class="lineno">  957</span>                src = _closuredimport(obj, alias=alias, builtin=builtin)</div>
<div class="line"><span class="lineno">  958</span>                <span class="keywordflow">if</span> len(src) == 0:</div>
<div class="line"><span class="lineno">  959</span>                    <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&#39;not implemented&#39;</span>)</div>
<div class="line"><span class="lineno">  960</span>                <span class="keywordflow">if</span> len(src) &gt; 1:</div>
<div class="line"><span class="lineno">  961</span>                    <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&#39;not implemented&#39;</span>)</div>
<div class="line"><span class="lineno">  962</span>                <span class="keywordflow">return</span> list(src.values())[0]</div>
<div class="line"><span class="lineno">  963</span>            <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  964</span>                <span class="keywordflow">if</span> tried_source: <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  965</span>                tried_import = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  966</span>        <span class="comment"># we want the source</span></div>
<div class="line"><span class="lineno">  967</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  968</span>            src = _closuredsource(obj, alias=alias)</div>
<div class="line"><span class="lineno">  969</span>            <span class="keywordflow">if</span> len(src) == 0:</div>
<div class="line"><span class="lineno">  970</span>                <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&#39;not implemented&#39;</span>)</div>
<div class="line"><span class="lineno">  971</span>            <span class="comment"># groan... an inline code stitcher</span></div>
<div class="line"><span class="lineno">  972</span>            <span class="keyword">def </span>_code_stitcher(block):</div>
<div class="line"><span class="lineno">  973</span>                <span class="stringliteral">&quot;stitch together the strings in tuple &#39;block&#39;&quot;</span></div>
<div class="line"><span class="lineno">  974</span>                <span class="keywordflow">if</span> block[0] <span class="keywordflow">and</span> block[-1]: block = <span class="stringliteral">&#39;\n&#39;</span>.join(block)</div>
<div class="line"><span class="lineno">  975</span>                <span class="keywordflow">elif</span> block[0]: block = block[0]</div>
<div class="line"><span class="lineno">  976</span>                <span class="keywordflow">elif</span> block[-1]: block = block[-1]</div>
<div class="line"><span class="lineno">  977</span>                <span class="keywordflow">else</span>: block = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  978</span>                <span class="keywordflow">return</span> block</div>
<div class="line"><span class="lineno">  979</span>            <span class="comment"># get free_vars first</span></div>
<div class="line"><span class="lineno">  980</span>            _src = _code_stitcher(src.pop(<span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  981</span>            _src = [_src] <span class="keywordflow">if</span> _src <span class="keywordflow">else</span> []</div>
<div class="line"><span class="lineno">  982</span>            <span class="comment"># get func_vars</span></div>
<div class="line"><span class="lineno">  983</span>            <span class="keywordflow">for</span> xxx <span class="keywordflow">in</span> src.values():</div>
<div class="line"><span class="lineno">  984</span>                xxx = _code_stitcher(xxx)</div>
<div class="line"><span class="lineno">  985</span>                <span class="keywordflow">if</span> xxx: _src.append(xxx)</div>
<div class="line"><span class="lineno">  986</span>            <span class="comment"># make a single source string</span></div>
<div class="line"><span class="lineno">  987</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(_src):</div>
<div class="line"><span class="lineno">  988</span>                src = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  989</span>            <span class="keywordflow">elif</span> len(_src) == 1:</div>
<div class="line"><span class="lineno">  990</span>                src = _src[0]</div>
<div class="line"><span class="lineno">  991</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  992</span>                src = <span class="stringliteral">&#39;\n&#39;</span>.join(_src)</div>
<div class="line"><span class="lineno">  993</span>            <span class="comment"># get source code of objects referred to by obj in global scope</span></div>
<div class="line"><span class="lineno">  994</span>            <span class="keyword">from</span> .detect <span class="keyword">import</span> globalvars</div>
<div class="line"><span class="lineno">  995</span>            obj = globalvars(obj) <span class="comment">#XXX: don&#39;t worry about alias? recurse? etc?</span></div>
<div class="line"><span class="lineno">  996</span>            obj = list(getsource(_obj,name,force=<span class="keyword">True</span>) <span class="keywordflow">for</span> (name,_obj) <span class="keywordflow">in</span> obj.items() <span class="keywordflow">if</span> <span class="keywordflow">not</span> isbuiltin(_obj))</div>
<div class="line"><span class="lineno">  997</span>            obj = <span class="stringliteral">&#39;\n&#39;</span>.join(obj) <span class="keywordflow">if</span> obj <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  998</span>            <span class="comment"># combine all referred-to source (global then enclosing)</span></div>
<div class="line"><span class="lineno">  999</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> obj: <span class="keywordflow">return</span> src</div>
<div class="line"><span class="lineno"> 1000</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> src: <span class="keywordflow">return</span> obj</div>
<div class="line"><span class="lineno"> 1001</span>            <span class="keywordflow">return</span> obj + src</div>
<div class="line"><span class="lineno"> 1002</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno"> 1003</span>            <span class="keywordflow">if</span> tried_import: <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno"> 1004</span>            tried_source = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1005</span>            source = <span class="keywordflow">not</span> source</div>
<div class="line"><span class="lineno"> 1006</span>    <span class="comment"># should never get here</span></div>
<div class="line"><span class="lineno"> 1007</span>    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span><span class="comment"># backward compatibility</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00837">_closuredimport()</a>, <a class="el" href="dill_2source_8py_source.html#l00890">_closuredsource()</a>, <a class="el" href="dill_2source_8py_source.html#l00776">_importable()</a>, <a class="el" href="dill_2source_8py_source.html#l00446">_isinstance()</a>, <a class="el" href="dill_2source_8py_source.html#l00351">getsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l00035">isfrommain()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00890">_closuredsource()</a>, and <a class="el" href="dill_2source_8py_source.html#l01011">getimportable()</a>.</p>

</div>
</div>
<a id="a2fccdaaf0566246140b855195e651989" name="a2fccdaaf0566246140b855195e651989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fccdaaf0566246140b855195e651989">&#9670;&#160;</a></span>indent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.indent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>code</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>spaces</em></span><span class="paramdefsep"> = </span><span class="paramdefval">4</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">indent a block of code with whitespace (default is 4 spaces)</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00481">481</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  481</span><span class="keyword">def </span>indent(code, spaces=4):</div>
<div class="line"><span class="lineno">  482</span>    <span class="stringliteral">&#39;&#39;&#39;indent a block of code with whitespace (default is 4 spaces)&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  483</span>    indent = indentsize(code)</div>
<div class="line"><span class="lineno">  484</span>    <span class="keyword">from</span> numbers <span class="keyword">import</span> Integral</div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">if</span> isinstance(spaces, Integral): spaces = <span class="stringliteral">&#39; &#39;</span>*spaces</div>
<div class="line"><span class="lineno">  486</span>    <span class="comment"># if &#39;\t&#39; is provided, will indent with a tab</span></div>
<div class="line"><span class="lineno">  487</span>    nspaces = indentsize(spaces)</div>
<div class="line"><span class="lineno">  488</span>    <span class="comment"># blank lines (etc) need to be ignored</span></div>
<div class="line"><span class="lineno">  489</span>    lines = code.split(<span class="stringliteral">&#39;\n&#39;</span>)</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00550">_enclose()</a>, and <a class="el" href="dill_2source_8py_source.html#l00564">dumpsource()</a>.</p>

</div>
</div>
<a id="a43c0a2c9dfdab08a62ae67554ee6ebcc" name="a43c0a2c9dfdab08a62ae67554ee6ebcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c0a2c9dfdab08a62ae67554ee6ebcc">&#9670;&#160;</a></span>isdynamic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.isdynamic </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00043">43</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span><span class="keyword">def </span>isdynamic(obj):</div>
<div class="line"><span class="lineno">   44</span>    <span class="stringliteral">&quot;check if object was built in the interpreter&quot;</span></div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">try</span>: file = getfile(obj)</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">except</span> TypeError: file = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">if</span> file == <span class="stringliteral">&#39;&lt;stdin&gt;&#39;</span> <span class="keywordflow">and</span> isfrommain(obj):</div>
<div class="line"><span class="lineno">   48</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00035">isfrommain()</a>.</p>

</div>
</div>
<a id="a69b1cba87095125a00838a280f8f66ae" name="a69b1cba87095125a00838a280f8f66ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b1cba87095125a00838a280f8f66ae">&#9670;&#160;</a></span>isfrommain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.isfrommain </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00035">35</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span><span class="keyword">def </span>isfrommain(obj):</div>
<div class="line"><span class="lineno">   36</span>    <span class="stringliteral">&quot;check if object was built in __main__&quot;</span></div>
<div class="line"><span class="lineno">   37</span>    module = getmodule(obj)</div>
<div class="line"><span class="lineno">   38</span>    <span class="keywordflow">if</span> module <span class="keywordflow">and</span> module.__name__ == <span class="stringliteral">&#39;__main__&#39;</span>:</div>
<div class="line"><span class="lineno">   39</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="dill_2source_8py_source.html#l00776">_importable()</a>, <a class="el" href="dill_2source_8py_source.html#l00929">importable()</a>, and <a class="el" href="dill_2source_8py_source.html#l00043">isdynamic()</a>.</p>

</div>
</div>
<a id="a7fd917b8d2cce7351d649c516afeb9fc" name="a7fd917b8d2cce7351d649c516afeb9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd917b8d2cce7351d649c516afeb9fc">&#9670;&#160;</a></span>likely_import()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.likely_import </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>passive</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>explicit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l01014">1014</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1014</span><span class="keyword">def </span>likely_import(obj, passive=False, explicit=False):</div>
<div class="line"><span class="lineno"> 1015</span>    <span class="keywordflow">return</span> getimport(obj, verify=(<span class="keywordflow">not</span> passive), builtin=explicit)</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00722">getimport()</a>.</p>

</div>
</div>
<a id="a65c428ef72222bb8e43bbc18570eece2" name="a65c428ef72222bb8e43bbc18570eece2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c428ef72222bb8e43bbc18570eece2">&#9670;&#160;</a></span>outdent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.outdent </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>code</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>spaces</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>all</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacedill.html#a63d6fa0ec4813753b7565ccec22b188a">True</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">outdent a block of code (default is to strip all leading whitespace)</pre> 
<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00524">524</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  524</span><span class="keyword">def </span>outdent(code, spaces=None, all=True):</div>
<div class="line"><span class="lineno">  525</span>    <span class="stringliteral">&#39;&#39;&#39;outdent a block of code (default is to strip all leading whitespace)&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  526</span>    indent = indentsize(code)</div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">if</span> spaces <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> spaces &gt; indent <span class="keywordflow">or</span> spaces &lt; 0: spaces = indent</div>
<div class="line"><span class="lineno">  528</span>    <span class="comment">#XXX: will this delete &#39;\n&#39; in some cases?</span></div>
<div class="line"><span class="lineno">  529</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all: <span class="keywordflow">return</span> code[spaces:]</div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">return</span> <span class="stringliteral">&#39;\n&#39;</span>.join(_outdent(code.split(<span class="stringliteral">&#39;\n&#39;</span>), spaces=spaces, all=all))</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span><span class="comment"># _wrap provides an wrapper to correctly exec and load into locals</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dill_2source_8py_source.html#l00512">_outdent()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a56cd1f5fd64c1f2e833aa677c17ec211" name="a56cd1f5fd64c1f2e833aa677c17ec211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56cd1f5fd64c1f2e833aa677c17ec211">&#9670;&#160;</a></span>_get_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._get_name = <a class="el" href="#ab8c280c07c7a4b83db1699900076eda9">getname</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l01018">1018</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>

</div>
</div>
<a id="aaee3bc68dd3a6cbeb836cf375869a04d" name="aaee3bc68dd3a6cbeb836cf375869a04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee3bc68dd3a6cbeb836cf375869a04d">&#9670;&#160;</a></span>_indent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dill.source._indent = indentsize(lines[i])</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>stq = "'''"; dtq = '"""' in_stq = in_dtq = False </p>

<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l00494">494</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>

</div>
</div>
<a id="aecae5d1ffba87ab2c6cfa3fd8f919388" name="aecae5d1ffba87ab2c6cfa3fd8f919388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecae5d1ffba87ab2c6cfa3fd8f919388">&#9670;&#160;</a></span>getblocks_from_history</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dill.source.getblocks_from_history = <a class="el" href="#ac2cef3a3b7b20f7f5dee8bea05c22b3d">getblocks</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dill_2source_8py_source.html#l01019">1019</a> of file <a class="el" href="dill_2source_8py_source.html">source.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedill.html">dill</a></li><li class="navelem"><a class="el" href="namespacedill_1_1source.html">source</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
