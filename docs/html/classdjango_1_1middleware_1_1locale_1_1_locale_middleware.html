<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: django.middleware.locale.LocaleMiddleware Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classdjango_1_1middleware_1_1locale_1_1_locale_middleware.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classdjango_1_1middleware_1_1locale_1_1_locale_middleware-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">django.middleware.locale.LocaleMiddleware Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for django.middleware.locale.LocaleMiddleware:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdjango_1_1middleware_1_1locale_1_1_locale_middleware.png" usemap="#django.middleware.locale.LocaleMiddleware_map" alt=""/>
  <map id="django.middleware.locale.LocaleMiddleware_map" name="django.middleware.locale.LocaleMiddleware_map">
<area href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html" alt="django.utils.deprecation.MiddlewareMixin" shape="rect" coords="0,0,264,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a97a106a0dae44c7569604d95ef52ff82" id="r_a97a106a0dae44c7569604d95ef52ff82"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97a106a0dae44c7569604d95ef52ff82">process_request</a> (self, request)</td></tr>
<tr class="separator:a97a106a0dae44c7569604d95ef52ff82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf119bda93ddd06098b9d70732946602" id="r_abf119bda93ddd06098b9d70732946602"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf119bda93ddd06098b9d70732946602">process_response</a> (self, request, response)</td></tr>
<tr class="separator:abf119bda93ddd06098b9d70732946602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html">django.utils.deprecation.MiddlewareMixin</a></td></tr>
<tr class="memitem:af9a244ed255c796c1c58a80dc67e4885 inherit pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin" id="r_af9a244ed255c796c1c58a80dc67e4885"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#af9a244ed255c796c1c58a80dc67e4885">__init__</a> (self, <a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#a9db25d7bd5bb8bfb109abf6dca82c9d6">get_response</a>)</td></tr>
<tr class="separator:af9a244ed255c796c1c58a80dc67e4885 inherit pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64f13ae6e5dd3d9df63d75d994b729ae inherit pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin" id="r_a64f13ae6e5dd3d9df63d75d994b729ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#a64f13ae6e5dd3d9df63d75d994b729ae">__repr__</a> (self)</td></tr>
<tr class="separator:a64f13ae6e5dd3d9df63d75d994b729ae inherit pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9fe62fd0c073a7c43189eede078db5 inherit pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin" id="r_a7d9fe62fd0c073a7c43189eede078db5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#a7d9fe62fd0c073a7c43189eede078db5">__call__</a> (self, request)</td></tr>
<tr class="separator:a7d9fe62fd0c073a7c43189eede078db5 inherit pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b3ff600ff2b1e403a5b25fc6d1bbd7 inherit pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin" id="r_a42b3ff600ff2b1e403a5b25fc6d1bbd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#a42b3ff600ff2b1e403a5b25fc6d1bbd7">__acall__</a> (self, request)</td></tr>
<tr class="separator:a42b3ff600ff2b1e403a5b25fc6d1bbd7 inherit pub_methods_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a1b5fdcd0c7256221051597546b181edf" id="r_a1b5fdcd0c7256221051597546b181edf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b5fdcd0c7256221051597546b181edf">response_redirect_class</a> = <a class="el" href="classdjango_1_1http_1_1response_1_1_http_response_redirect.html">HttpResponseRedirect</a></td></tr>
<tr class="separator:a1b5fdcd0c7256221051597546b181edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html">django.utils.deprecation.MiddlewareMixin</a></td></tr>
<tr class="memitem:a94f14adc0a9ab43e39794903fd0ce8d8 inherit pub_static_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin" id="r_a94f14adc0a9ab43e39794903fd0ce8d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#a94f14adc0a9ab43e39794903fd0ce8d8">sync_capable</a> = True</td></tr>
<tr class="separator:a94f14adc0a9ab43e39794903fd0ce8d8 inherit pub_static_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0f1eb2f91f83acdf0655a20e0f277af inherit pub_static_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin" id="r_ab0f1eb2f91f83acdf0655a20e0f277af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#ab0f1eb2f91f83acdf0655a20e0f277af">async_capable</a> = True</td></tr>
<tr class="separator:ab0f1eb2f91f83acdf0655a20e0f277af inherit pub_static_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html">django.utils.deprecation.MiddlewareMixin</a></td></tr>
<tr class="memitem:a9db25d7bd5bb8bfb109abf6dca82c9d6 inherit pub_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin" id="r_a9db25d7bd5bb8bfb109abf6dca82c9d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#a9db25d7bd5bb8bfb109abf6dca82c9d6">get_response</a> = get_response</td></tr>
<tr class="separator:a9db25d7bd5bb8bfb109abf6dca82c9d6 inherit pub_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc62ec82889232ae5413c3b9c919c03b inherit pub_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin" id="r_acc62ec82889232ae5413c3b9c919c03b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin.html#acc62ec82889232ae5413c3b9c919c03b">async_mode</a> = iscoroutinefunction(self.get_response)</td></tr>
<tr class="separator:acc62ec82889232ae5413c3b9c919c03b inherit pub_attribs_classdjango_1_1utils_1_1deprecation_1_1_middleware_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Parse a request and decide what translation object to install in the
current thread context. This allows pages to be dynamically translated to
the language the user desires (if the language is available).
</pre> 
<p class="definition">Definition at line <a class="el" href="locale_8py_source.html#l00010">10</a> of file <a class="el" href="locale_8py_source.html">locale.py</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a97a106a0dae44c7569604d95ef52ff82" name="a97a106a0dae44c7569604d95ef52ff82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a106a0dae44c7569604d95ef52ff82">&#9670;&#160;</a></span>process_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.middleware.locale.LocaleMiddleware.process_request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="locale_8py_source.html#l00019">19</a> of file <a class="el" href="locale_8py_source.html">locale.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   19</span>    <span class="keyword">def </span>process_request(self, request):</div>
<div class="line"><span class="lineno">   20</span>        urlconf = getattr(request, <span class="stringliteral">&quot;urlconf&quot;</span>, settings.ROOT_URLCONF)</div>
<div class="line"><span class="lineno">   21</span>        (</div>
<div class="line"><span class="lineno">   22</span>            i18n_patterns_used,</div>
<div class="line"><span class="lineno">   23</span>            prefixed_default_language,</div>
<div class="line"><span class="lineno">   24</span>        ) = is_language_prefix_patterns_used(urlconf)</div>
<div class="line"><span class="lineno">   25</span>        language = translation.get_language_from_request(</div>
<div class="line"><span class="lineno">   26</span>            request, check_path=i18n_patterns_used</div>
<div class="line"><span class="lineno">   27</span>        )</div>
<div class="line"><span class="lineno">   28</span>        language_from_path = translation.get_language_from_path(request.path_info)</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">   30</span>            <span class="keywordflow">not</span> language_from_path</div>
<div class="line"><span class="lineno">   31</span>            <span class="keywordflow">and</span> i18n_patterns_used</div>
<div class="line"><span class="lineno">   32</span>            <span class="keywordflow">and</span> <span class="keywordflow">not</span> prefixed_default_language</div>
<div class="line"><span class="lineno">   33</span>        ):</div>
<div class="line"><span class="lineno">   34</span>            language = settings.LANGUAGE_CODE</div>
<div class="line"><span class="lineno">   35</span>        translation.activate(language)</div>
<div class="line"><span class="lineno">   36</span>        request.LANGUAGE_CODE = translation.get_language()</div>
<div class="line"><span class="lineno">   37</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="django_2utils_2deprecation_8py_source.html#l00134">django.utils.deprecation.MiddlewareMixin.__acall__()</a>, and <a class="el" href="django_2utils_2deprecation_8py_source.html#l00122">django.utils.deprecation.MiddlewareMixin.__call__()</a>.</p>

</div>
</div>
<a id="abf119bda93ddd06098b9d70732946602" name="abf119bda93ddd06098b9d70732946602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf119bda93ddd06098b9d70732946602">&#9670;&#160;</a></span>process_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.middleware.locale.LocaleMiddleware.process_response </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>request</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>response</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="locale_8py_source.html#l00038">38</a> of file <a class="el" href="locale_8py_source.html">locale.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>    <span class="keyword">def </span>process_response(self, request, response):</div>
<div class="line"><span class="lineno">   39</span>        language = translation.get_language()</div>
<div class="line"><span class="lineno">   40</span>        language_from_path = translation.get_language_from_path(request.path_info)</div>
<div class="line"><span class="lineno">   41</span>        urlconf = getattr(request, <span class="stringliteral">&quot;urlconf&quot;</span>, settings.ROOT_URLCONF)</div>
<div class="line"><span class="lineno">   42</span>        (</div>
<div class="line"><span class="lineno">   43</span>            i18n_patterns_used,</div>
<div class="line"><span class="lineno">   44</span>            prefixed_default_language,</div>
<div class="line"><span class="lineno">   45</span>        ) = is_language_prefix_patterns_used(urlconf)</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">   48</span>            response.status_code == 404</div>
<div class="line"><span class="lineno">   49</span>            <span class="keywordflow">and</span> <span class="keywordflow">not</span> language_from_path</div>
<div class="line"><span class="lineno">   50</span>            <span class="keywordflow">and</span> i18n_patterns_used</div>
<div class="line"><span class="lineno">   51</span>            <span class="keywordflow">and</span> prefixed_default_language</div>
<div class="line"><span class="lineno">   52</span>        ):</div>
<div class="line"><span class="lineno">   53</span>            <span class="comment"># Maybe the language code is missing in the URL? Try adding the</span></div>
<div class="line"><span class="lineno">   54</span>            <span class="comment"># language prefix and redirecting to that URL.</span></div>
<div class="line"><span class="lineno">   55</span>            language_path = <span class="stringliteral">&quot;/%s%s&quot;</span> % (language, request.path_info)</div>
<div class="line"><span class="lineno">   56</span>            path_valid = is_valid_path(language_path, urlconf)</div>
<div class="line"><span class="lineno">   57</span>            path_needs_slash = <span class="keywordflow">not</span> path_valid <span class="keywordflow">and</span> (</div>
<div class="line"><span class="lineno">   58</span>                settings.APPEND_SLASH</div>
<div class="line"><span class="lineno">   59</span>                <span class="keywordflow">and</span> <span class="keywordflow">not</span> language_path.endswith(<span class="stringliteral">&quot;/&quot;</span>)</div>
<div class="line"><span class="lineno">   60</span>                <span class="keywordflow">and</span> is_valid_path(<span class="stringliteral">&quot;%s/&quot;</span> % language_path, urlconf)</div>
<div class="line"><span class="lineno">   61</span>            )</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">if</span> path_valid <span class="keywordflow">or</span> path_needs_slash:</div>
<div class="line"><span class="lineno">   64</span>                script_prefix = get_script_prefix()</div>
<div class="line"><span class="lineno">   65</span>                <span class="comment"># Insert language after the script prefix and before the</span></div>
<div class="line"><span class="lineno">   66</span>                <span class="comment"># rest of the URL</span></div>
<div class="line"><span class="lineno">   67</span>                language_url = request.get_full_path(</div>
<div class="line"><span class="lineno">   68</span>                    force_append_slash=path_needs_slash</div>
<div class="line"><span class="lineno">   69</span>                ).replace(script_prefix, <span class="stringliteral">&quot;%s%s/&quot;</span> % (script_prefix, language), 1)</div>
<div class="line"><span class="lineno">   70</span>                <span class="comment"># Redirect to the language-specific URL as detected by</span></div>
<div class="line"><span class="lineno">   71</span>                <span class="comment"># get_language_from_request(). HTTP caches may cache this</span></div>
<div class="line"><span class="lineno">   72</span>                <span class="comment"># redirect, so add the Vary header.</span></div>
<div class="line"><span class="lineno">   73</span>                redirect = self.response_redirect_class(language_url)</div>
<div class="line"><span class="lineno">   74</span>                patch_vary_headers(redirect, (<span class="stringliteral">&quot;Accept-Language&quot;</span>, <span class="stringliteral">&quot;Cookie&quot;</span>))</div>
<div class="line"><span class="lineno">   75</span>                <span class="keywordflow">return</span> redirect</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> (i18n_patterns_used <span class="keywordflow">and</span> language_from_path):</div>
<div class="line"><span class="lineno">   78</span>            patch_vary_headers(response, (<span class="stringliteral">&quot;Accept-Language&quot;</span>,))</div>
<div class="line"><span class="lineno">   79</span>        response.headers.setdefault(<span class="stringliteral">&quot;Content-Language&quot;</span>, language)</div>
<div class="line"><span class="lineno">   80</span>        <span class="keywordflow">return</span> response</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="redirects_2middleware_8py_source.html#l00013">django.contrib.redirects.middleware.RedirectFallbackMiddleware.response_redirect_class</a>, <a class="el" href="middleware_2common_8py_source.html#l00032">django.middleware.common.CommonMiddleware.response_redirect_class</a>, and <a class="el" href="locale_8py_source.html#l00017">response_redirect_class</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2utils_2deprecation_8py_source.html#l00134">django.utils.deprecation.MiddlewareMixin.__acall__()</a>, <a class="el" href="django_2utils_2deprecation_8py_source.html#l00122">django.utils.deprecation.MiddlewareMixin.__call__()</a>, and <a class="el" href="prompt_8py_source.html#l00262">pip._vendor.rich.prompt.PromptBase.__call__()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1b5fdcd0c7256221051597546b181edf" name="a1b5fdcd0c7256221051597546b181edf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b5fdcd0c7256221051597546b181edf">&#9670;&#160;</a></span>response_redirect_class</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">django.middleware.locale.LocaleMiddleware.response_redirect_class = <a class="el" href="classdjango_1_1http_1_1response_1_1_http_response_redirect.html">HttpResponseRedirect</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="locale_8py_source.html#l00017">17</a> of file <a class="el" href="locale_8py_source.html">locale.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="locale_8py_source.html#l00038">process_response()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>project/ENV/Lib/site-packages/django/middleware/<a class="el" href="locale_8py_source.html">locale.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedjango.html">django</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1middleware.html">middleware</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1middleware_1_1locale.html">locale</a></li><li class="navelem"><a class="el" href="classdjango_1_1middleware_1_1locale_1_1_locale_middleware.html">LocaleMiddleware</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
