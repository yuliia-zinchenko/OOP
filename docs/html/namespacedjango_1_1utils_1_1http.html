<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: django.utils.http Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacedjango_1_1utils_1_1http.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">django.utils.http Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abae4cc333fa202bd064e1c26b7f98f2e" id="r_abae4cc333fa202bd064e1c26b7f98f2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abae4cc333fa202bd064e1c26b7f98f2e">urlencode</a> (query, doseq=False)</td></tr>
<tr class="separator:abae4cc333fa202bd064e1c26b7f98f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb5d0ef1d8597d2a1b45427459586c78" id="r_afb5d0ef1d8597d2a1b45427459586c78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb5d0ef1d8597d2a1b45427459586c78">http_date</a> (epoch_seconds=None)</td></tr>
<tr class="separator:afb5d0ef1d8597d2a1b45427459586c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d60fccbe5a92f68c8f8f7365dc41089" id="r_a3d60fccbe5a92f68c8f8f7365dc41089"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d60fccbe5a92f68c8f8f7365dc41089">parse_http_date</a> (date)</td></tr>
<tr class="separator:a3d60fccbe5a92f68c8f8f7365dc41089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfae95405b8075f3a99ec79c7b1c0bc9" id="r_adfae95405b8075f3a99ec79c7b1c0bc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfae95405b8075f3a99ec79c7b1c0bc9">parse_http_date_safe</a> (date)</td></tr>
<tr class="separator:adfae95405b8075f3a99ec79c7b1c0bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243d3a0cd3e1000af30adbd603fb0ea5" id="r_a243d3a0cd3e1000af30adbd603fb0ea5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a243d3a0cd3e1000af30adbd603fb0ea5">base36_to_int</a> (s)</td></tr>
<tr class="separator:a243d3a0cd3e1000af30adbd603fb0ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f5d51b67c1142e05b9bc3fcadee43c5" id="r_a1f5d51b67c1142e05b9bc3fcadee43c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f5d51b67c1142e05b9bc3fcadee43c5">int_to_base36</a> (i)</td></tr>
<tr class="separator:a1f5d51b67c1142e05b9bc3fcadee43c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac71250f5507fda562c6ef07b86244b42" id="r_ac71250f5507fda562c6ef07b86244b42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac71250f5507fda562c6ef07b86244b42">urlsafe_base64_encode</a> (s)</td></tr>
<tr class="separator:ac71250f5507fda562c6ef07b86244b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4404a8fb33918a18294cdb12000c82af" id="r_a4404a8fb33918a18294cdb12000c82af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4404a8fb33918a18294cdb12000c82af">urlsafe_base64_decode</a> (s)</td></tr>
<tr class="separator:a4404a8fb33918a18294cdb12000c82af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2061ec69c50b71320a197155423d2501" id="r_a2061ec69c50b71320a197155423d2501"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2061ec69c50b71320a197155423d2501">parse_etags</a> (etag_str)</td></tr>
<tr class="separator:a2061ec69c50b71320a197155423d2501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf286fa2628df1b3472dd7e8d69951f6" id="r_aaf286fa2628df1b3472dd7e8d69951f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf286fa2628df1b3472dd7e8d69951f6">quote_etag</a> (etag_str)</td></tr>
<tr class="separator:aaf286fa2628df1b3472dd7e8d69951f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41acbf1eb73b1d5a9941a5c12bd1be8b" id="r_a41acbf1eb73b1d5a9941a5c12bd1be8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41acbf1eb73b1d5a9941a5c12bd1be8b">is_same_domain</a> (host, pattern)</td></tr>
<tr class="separator:a41acbf1eb73b1d5a9941a5c12bd1be8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5240905c59f6d1e44f7c8db3583bec" id="r_abf5240905c59f6d1e44f7c8db3583bec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf5240905c59f6d1e44f7c8db3583bec">url_has_allowed_host_and_scheme</a> (url, allowed_hosts, require_https=False)</td></tr>
<tr class="separator:abf5240905c59f6d1e44f7c8db3583bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47de6a7bcb4f729d864feed4989c938" id="r_ae47de6a7bcb4f729d864feed4989c938"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae47de6a7bcb4f729d864feed4989c938">_url_has_allowed_host_and_scheme</a> (url, allowed_hosts, require_https=False)</td></tr>
<tr class="separator:ae47de6a7bcb4f729d864feed4989c938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdaf5094a9fcf1972cec75c3901d83bf" id="r_afdaf5094a9fcf1972cec75c3901d83bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afdaf5094a9fcf1972cec75c3901d83bf">escape_leading_slashes</a> (url)</td></tr>
<tr class="separator:afdaf5094a9fcf1972cec75c3901d83bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f63d73fe0a5f3d3dab89b0f036d61e" id="r_ab3f63d73fe0a5f3d3dab89b0f036d61e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3f63d73fe0a5f3d3dab89b0f036d61e">_parseparam</a> (s)</td></tr>
<tr class="separator:ab3f63d73fe0a5f3d3dab89b0f036d61e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94799b8078ad18f70d2ff4821991ef6d" id="r_a94799b8078ad18f70d2ff4821991ef6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94799b8078ad18f70d2ff4821991ef6d">parse_header_parameters</a> (line)</td></tr>
<tr class="separator:a94799b8078ad18f70d2ff4821991ef6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cfd6bd7f1155a18b260d534a6a12729" id="r_a2cfd6bd7f1155a18b260d534a6a12729"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cfd6bd7f1155a18b260d534a6a12729">content_disposition_header</a> (as_attachment, filename)</td></tr>
<tr class="separator:a2cfd6bd7f1155a18b260d534a6a12729"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ada66c62b42ef090c40bab5dcec20cd72" id="r_ada66c62b42ef090c40bab5dcec20cd72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada66c62b42ef090c40bab5dcec20cd72">ETAG_MATCH</a></td></tr>
<tr class="separator:ada66c62b42ef090c40bab5dcec20cd72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798a98ea460b457ffff61f2e275122c8" id="r_a798a98ea460b457ffff61f2e275122c8"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a798a98ea460b457ffff61f2e275122c8">MONTHS</a> = &quot;jan feb mar apr may jun jul aug sep oct nov dec&quot;.split()</td></tr>
<tr class="separator:a798a98ea460b457ffff61f2e275122c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95bf8707c44c7bae6b5104e86a1e0e8f" id="r_a95bf8707c44c7bae6b5104e86a1e0e8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95bf8707c44c7bae6b5104e86a1e0e8f">RFC1123_DATE</a> = _lazy_re_compile(r&quot;^\w{3}, %s %s %s %s GMT$&quot; % (__D, __M, __Y, __T))</td></tr>
<tr class="separator:a95bf8707c44c7bae6b5104e86a1e0e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41efe6de30a8310f3bfa3ded5566600" id="r_ad41efe6de30a8310f3bfa3ded5566600"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad41efe6de30a8310f3bfa3ded5566600">RFC850_DATE</a> = _lazy_re_compile(r&quot;^\w{6,9}, %s-%s-%s %s GMT$&quot; % (__D, __M, __Y2, __T))</td></tr>
<tr class="separator:ad41efe6de30a8310f3bfa3ded5566600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9bb747ba2b588a2b6b23e67b60cb68" id="r_aeb9bb747ba2b588a2b6b23e67b60cb68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb9bb747ba2b588a2b6b23e67b60cb68">ASCTIME_DATE</a> = _lazy_re_compile(r&quot;^\w{3} %s %s %s %s$&quot; % (__M, __D2, __T, __Y))</td></tr>
<tr class="separator:aeb9bb747ba2b588a2b6b23e67b60cb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67dbdabff233e145a68bea459428e62" id="r_ab67dbdabff233e145a68bea459428e62"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab67dbdabff233e145a68bea459428e62">RFC3986_GENDELIMS</a> = &quot;:/?#[]@&quot;</td></tr>
<tr class="separator:ab67dbdabff233e145a68bea459428e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4332e975db309942ea130cdd272c5a0" id="r_aa4332e975db309942ea130cdd272c5a0"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4332e975db309942ea130cdd272c5a0">RFC3986_SUBDELIMS</a> = &quot;!$&amp;'()*+,;=&quot;</td></tr>
<tr class="separator:aa4332e975db309942ea130cdd272c5a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab3f63d73fe0a5f3d3dab89b0f036d61e" name="ab3f63d73fe0a5f3d3dab89b0f036d61e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f63d73fe0a5f3d3dab89b0f036d61e">&#9670;&#160;</a></span>_parseparam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http._parseparam </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00313">313</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  313</span><span class="keyword">def </span>_parseparam(s):</div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordflow">while</span> s[:1] == <span class="stringliteral">&quot;;&quot;</span>:</div>
<div class="line"><span class="lineno">  315</span>        s = s[1:]</div>
<div class="line"><span class="lineno">  316</span>        end = s.find(<span class="stringliteral">&quot;;&quot;</span>)</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">while</span> end &gt; 0 <span class="keywordflow">and</span> (s.count(<span class="stringliteral">&#39;&quot;&#39;</span>, 0, end) - s.count(<span class="stringliteral">&#39;\\&quot;&#39;</span>, 0, end)) % 2:</div>
<div class="line"><span class="lineno">  318</span>            end = s.find(<span class="stringliteral">&quot;;&quot;</span>, end + 1)</div>
<div class="line"><span class="lineno">  319</span>        <span class="keywordflow">if</span> end &lt; 0:</div>
<div class="line"><span class="lineno">  320</span>            end = len(s)</div>
<div class="line"><span class="lineno">  321</span>        f = s[:end]</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">yield</span> f.strip()</div>
<div class="line"><span class="lineno">  323</span>        s = s[end:]</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="utils_2http_8py_source.html#l00326">parse_header_parameters()</a>.</p>

</div>
</div>
<a id="ae47de6a7bcb4f729d864feed4989c938" name="ae47de6a7bcb4f729d864feed4989c938"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae47de6a7bcb4f729d864feed4989c938">&#9670;&#160;</a></span>_url_has_allowed_host_and_scheme()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http._url_has_allowed_host_and_scheme </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>url</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>allowed_hosts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>require_https</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00272">272</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  272</span><span class="keyword">def </span>_url_has_allowed_host_and_scheme(url, allowed_hosts, require_https=False):</div>
<div class="line"><span class="lineno">  273</span>    <span class="comment"># Chrome considers any URL with more than two slashes to be absolute, but</span></div>
<div class="line"><span class="lineno">  274</span>    <span class="comment"># urlparse is not so flexible. Treat any url with three slashes as unsafe.</span></div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">if</span> url.startswith(<span class="stringliteral">&quot;///&quot;</span>):</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  278</span>        url_info = urlparse(url)</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">except</span> ValueError:  <span class="comment"># e.g. invalid IPv6 addresses</span></div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="comment"># Forbid URLs like http:///example.com - with a scheme, but without a hostname.</span></div>
<div class="line"><span class="lineno">  282</span>    <span class="comment"># In that URL, example.com is not the hostname but, a path component. However,</span></div>
<div class="line"><span class="lineno">  283</span>    <span class="comment"># Chrome will still consider example.com to be the hostname, so we must not</span></div>
<div class="line"><span class="lineno">  284</span>    <span class="comment"># allow this syntax.</span></div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> url_info.netloc <span class="keywordflow">and</span> url_info.scheme:</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  287</span>    <span class="comment"># Forbid URLs that start with control characters. Some browsers (like</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="comment"># Chrome) ignore quite a few control characters at the start of a</span></div>
<div class="line"><span class="lineno">  289</span>    <span class="comment"># URL and might consider the URL as scheme relative.</span></div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">if</span> unicodedata.category(url[0])[0] == <span class="stringliteral">&quot;C&quot;</span>:</div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  292</span>    scheme = url_info.scheme</div>
<div class="line"><span class="lineno">  293</span>    <span class="comment"># Consider URLs without a scheme (e.g. //example.com/p) to be http.</span></div>
<div class="line"><span class="lineno">  294</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> url_info.scheme <span class="keywordflow">and</span> url_info.netloc:</div>
<div class="line"><span class="lineno">  295</span>        scheme = <span class="stringliteral">&quot;http&quot;</span></div>
<div class="line"><span class="lineno">  296</span>    valid_schemes = [<span class="stringliteral">&quot;https&quot;</span>] <span class="keywordflow">if</span> require_https <span class="keywordflow">else</span> [<span class="stringliteral">&quot;http&quot;</span>, <span class="stringliteral">&quot;https&quot;</span>]</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">return</span> (<span class="keywordflow">not</span> url_info.netloc <span class="keywordflow">or</span> url_info.netloc <span class="keywordflow">in</span> allowed_hosts) <span class="keywordflow">and</span> (</div>
<div class="line"><span class="lineno">  298</span>        <span class="keywordflow">not</span> scheme <span class="keywordflow">or</span> scheme <span class="keywordflow">in</span> valid_schemes</div>
<div class="line"><span class="lineno">  299</span>    )</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="utils_2http_8py_source.html#l00242">url_has_allowed_host_and_scheme()</a>.</p>

</div>
</div>
<a id="a243d3a0cd3e1000af30adbd603fb0ea5" name="a243d3a0cd3e1000af30adbd603fb0ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a243d3a0cd3e1000af30adbd603fb0ea5">&#9670;&#160;</a></span>base36_to_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.base36_to_int </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert a base 36 string to an int. Raise ValueError if the input won't fit
into an int.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00150">150</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  150</span><span class="keyword">def </span>base36_to_int(s):</div>
<div class="line"><span class="lineno">  151</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">    Convert a base 36 string to an int. Raise ValueError if the input won&#39;t fit</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">    into an int.</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  155</span>    <span class="comment"># To prevent overconsumption of server resources, reject any</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="comment"># base36 string that is longer than 13 base36 digits (13 digits</span></div>
<div class="line"><span class="lineno">  157</span>    <span class="comment"># is sufficient to base36-encode any 64-bit integer)</span></div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> len(s) &gt; 13:</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Base36 input too large&quot;</span>)</div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">return</span> int(s, 36)</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cfd6bd7f1155a18b260d534a6a12729" name="a2cfd6bd7f1155a18b260d534a6a12729"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cfd6bd7f1155a18b260d534a6a12729">&#9670;&#160;</a></span>content_disposition_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.content_disposition_header </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>as_attachment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>filename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Construct a Content-Disposition HTTP header value from the given filename
as specified by RFC 6266.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00356">356</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  356</span><span class="keyword">def </span>content_disposition_header(as_attachment, filename):</div>
<div class="line"><span class="lineno">  357</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">    Construct a Content-Disposition HTTP header value from the given filename</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">    as specified by RFC 6266.</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">if</span> filename:</div>
<div class="line"><span class="lineno">  362</span>        disposition = <span class="stringliteral">&quot;attachment&quot;</span> <span class="keywordflow">if</span> as_attachment <span class="keywordflow">else</span> <span class="stringliteral">&quot;inline&quot;</span></div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  364</span>            filename.encode(<span class="stringliteral">&quot;ascii&quot;</span>)</div>
<div class="line"><span class="lineno">  365</span>            file_expr = <span class="stringliteral">&#39;filename=&quot;{}&quot;&#39;</span>.format(</div>
<div class="line"><span class="lineno">  366</span>                filename.replace(<span class="stringliteral">&quot;\\&quot;</span>, <span class="stringliteral">&quot;\\\\&quot;</span>).replace(<span class="stringliteral">&#39;&quot;&#39;</span>, <span class="stringliteral">r&quot;\&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  367</span>            )</div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordflow">except</span> UnicodeEncodeError:</div>
<div class="line"><span class="lineno">  369</span>            file_expr = <span class="stringliteral">&quot;filename*=utf-8&#39;&#39;{}&quot;</span>.format(quote(filename))</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">return</span> f<span class="stringliteral">&quot;{disposition}; {file_expr}&quot;</span></div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">elif</span> as_attachment:</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;attachment&quot;</span></div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="afdaf5094a9fcf1972cec75c3901d83bf" name="afdaf5094a9fcf1972cec75c3901d83bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdaf5094a9fcf1972cec75c3901d83bf">&#9670;&#160;</a></span>escape_leading_slashes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.escape_leading_slashes </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If redirecting to an absolute path (two leading slashes), a slash must be
escaped to prevent browsers from handling the path as schemaless and
redirecting to another host.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00302">302</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  302</span><span class="keyword">def </span>escape_leading_slashes(url):</div>
<div class="line"><span class="lineno">  303</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral">    If redirecting to an absolute path (two leading slashes), a slash must be</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">    escaped to prevent browsers from handling the path as schemaless and</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">    redirecting to another host.</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  308</span>    <span class="keywordflow">if</span> url.startswith(<span class="stringliteral">&quot;//&quot;</span>):</div>
<div class="line"><span class="lineno">  309</span>        url = <span class="stringliteral">&quot;/%2F{}&quot;</span>.format(url.removeprefix(<span class="stringliteral">&quot;//&quot;</span>))</div>
<div class="line"><span class="lineno">  310</span>    <span class="keywordflow">return</span> url</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afb5d0ef1d8597d2a1b45427459586c78" name="afb5d0ef1d8597d2a1b45427459586c78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb5d0ef1d8597d2a1b45427459586c78">&#9670;&#160;</a></span>http_date()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.http_date </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>epoch_seconds</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Format the time to match the RFC 5322 date format as specified by RFC 9110
Section 5.6.7.

`epoch_seconds` is a floating point number expressed in seconds since the
epoch, in UTC - such as that outputted by time.time(). If set to None, it
defaults to the current time.

Output a string in the format 'Wdy, DD Mon YYYY HH:MM:SS GMT'.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00083">83</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span><span class="keyword">def </span>http_date(epoch_seconds=None):</div>
<div class="line"><span class="lineno">   84</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral">    Format the time to match the RFC 5322 date format as specified by RFC 9110</span></div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral">    Section 5.6.7.</span></div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">    `epoch_seconds` is a floating point number expressed in seconds since the</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">    epoch, in UTC - such as that outputted by time.time(). If set to None, it</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">    defaults to the current time.</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    Output a string in the format &#39;Wdy, DD Mon YYYY HH:MM:SS GMT&#39;.</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">return</span> formatdate(epoch_seconds, usegmt=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f5d51b67c1142e05b9bc3fcadee43c5" name="a1f5d51b67c1142e05b9bc3fcadee43c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f5d51b67c1142e05b9bc3fcadee43c5">&#9670;&#160;</a></span>int_to_base36()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.int_to_base36 </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert an integer to a base36 string.</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00163">163</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  163</span><span class="keyword">def </span>int_to_base36(i):</div>
<div class="line"><span class="lineno">  164</span>    <span class="stringliteral">&quot;&quot;&quot;Convert an integer to a base36 string.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  165</span>    char_set = <span class="stringliteral">&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">if</span> i &lt; 0:</div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Negative base36 conversion input.&quot;</span>)</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">if</span> i &lt; 36:</div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordflow">return</span> char_set[i]</div>
<div class="line"><span class="lineno">  170</span>    b36 = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">while</span> i != 0:</div>
<div class="line"><span class="lineno">  172</span>        i, n = divmod(i, 36)</div>
<div class="line"><span class="lineno">  173</span>        b36 = char_set[n] + b36</div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">return</span> b36</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a41acbf1eb73b1d5a9941a5c12bd1be8b" name="a41acbf1eb73b1d5a9941a5c12bd1be8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41acbf1eb73b1d5a9941a5c12bd1be8b">&#9670;&#160;</a></span>is_same_domain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.is_same_domain </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>host</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pattern</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return ``True`` if the host is either an exact match or a match
to the wildcard pattern.

Any pattern beginning with a period matches a domain and all of its
subdomains. (e.g. ``.example.com`` matches ``example.com`` and
``foo.example.com``). Anything else is an exact string match.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00222">222</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span><span class="keyword">def </span>is_same_domain(host, pattern):</div>
<div class="line"><span class="lineno">  223</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">    Return ``True`` if the host is either an exact match or a match</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral">    to the wildcard pattern.</span></div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">    Any pattern beginning with a period matches a domain and all of its</span></div>
<div class="line"><span class="lineno">  228</span><span class="stringliteral">    subdomains. (e.g. ``.example.com`` matches ``example.com`` and</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral">    ``foo.example.com``). Anything else is an exact string match.</span></div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> pattern:</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    pattern = pattern.lower()</div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  236</span>        pattern[0] == <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">and</span> (host.endswith(pattern) <span class="keywordflow">or</span> host == pattern[1:])</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">or</span> pattern == host</div>
<div class="line"><span class="lineno">  239</span>    )</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2061ec69c50b71320a197155423d2501" name="a2061ec69c50b71320a197155423d2501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2061ec69c50b71320a197155423d2501">&#9670;&#160;</a></span>parse_etags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.parse_etags </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>etag_str</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse a string of ETags given in an If-None-Match or If-Match header as
defined by RFC 9110. Return a list of quoted ETags, or ['*'] if all ETags
should be matched.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00197">197</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span><span class="keyword">def </span>parse_etags(etag_str):</div>
<div class="line"><span class="lineno">  198</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">    Parse a string of ETags given in an If-None-Match or If-Match header as</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral">    defined by RFC 9110. Return a list of quoted ETags, or [&#39;*&#39;] if all ETags</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">    should be matched.</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">if</span> etag_str.strip() == <span class="stringliteral">&quot;*&quot;</span>:</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">return</span> [<span class="stringliteral">&quot;*&quot;</span>]</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  206</span>        <span class="comment"># Parse each ETag individually, and return any that are valid.</span></div>
<div class="line"><span class="lineno">  207</span>        etag_matches = (ETAG_MATCH.match(etag.strip()) <span class="keywordflow">for</span> etag <span class="keywordflow">in</span> etag_str.split(<span class="stringliteral">&quot;,&quot;</span>))</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">return</span> [match[1] <span class="keywordflow">for</span> match <span class="keywordflow">in</span> etag_matches <span class="keywordflow">if</span> match]</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a94799b8078ad18f70d2ff4821991ef6d" name="a94799b8078ad18f70d2ff4821991ef6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94799b8078ad18f70d2ff4821991ef6d">&#9670;&#160;</a></span>parse_header_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.parse_header_parameters </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>line</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse a Content-type like header.
Return the main content-type and a dictionary of options.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00326">326</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  326</span><span class="keyword">def </span>parse_header_parameters(line):</div>
<div class="line"><span class="lineno">  327</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">    Parse a Content-type like header.</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">    Return the main content-type and a dictionary of options.</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  331</span>    parts = _parseparam(<span class="stringliteral">&quot;;&quot;</span> + line)</div>
<div class="line"><span class="lineno">  332</span>    key = parts.__next__().lower()</div>
<div class="line"><span class="lineno">  333</span>    pdict = {}</div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> parts:</div>
<div class="line"><span class="lineno">  335</span>        i = p.find(<span class="stringliteral">&quot;=&quot;</span>)</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">if</span> i &gt;= 0:</div>
<div class="line"><span class="lineno">  337</span>            has_encoding = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  338</span>            name = p[:i].strip().lower()</div>
<div class="line"><span class="lineno">  339</span>            <span class="keywordflow">if</span> name.endswith(<span class="stringliteral">&quot;*&quot;</span>):</div>
<div class="line"><span class="lineno">  340</span>                <span class="comment"># Lang/encoding embedded in the value (like &quot;filename*=UTF-8&#39;&#39;file.ext&quot;)</span></div>
<div class="line"><span class="lineno">  341</span>                <span class="comment"># https://tools.ietf.org/html/rfc2231#section-4</span></div>
<div class="line"><span class="lineno">  342</span>                name = name[:-1]</div>
<div class="line"><span class="lineno">  343</span>                <span class="keywordflow">if</span> p.count(<span class="stringliteral">&quot;&#39;&quot;</span>) == 2:</div>
<div class="line"><span class="lineno">  344</span>                    has_encoding = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  345</span>            value = p[i + 1 :].strip()</div>
<div class="line"><span class="lineno">  346</span>            <span class="keywordflow">if</span> len(value) &gt;= 2 <span class="keywordflow">and</span> value[0] == value[-1] == <span class="stringliteral">&#39;&quot;&#39;</span>:</div>
<div class="line"><span class="lineno">  347</span>                value = value[1:-1]</div>
<div class="line"><span class="lineno">  348</span>                value = value.replace(<span class="stringliteral">&quot;\\\\&quot;</span>, <span class="stringliteral">&quot;\\&quot;</span>).replace(<span class="stringliteral">&#39;\\&quot;&#39;</span>, <span class="stringliteral">&#39;&quot;&#39;</span>)</div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordflow">if</span> has_encoding:</div>
<div class="line"><span class="lineno">  350</span>                encoding, lang, value = value.split(<span class="stringliteral">&quot;&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  351</span>                value = unquote(value, encoding=encoding)</div>
<div class="line"><span class="lineno">  352</span>            pdict[name] = value</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">return</span> key, pdict</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2http_8py_source.html#l00313">_parseparam()</a>.</p>

</div>
</div>
<a id="a3d60fccbe5a92f68c8f8f7365dc41089" name="a3d60fccbe5a92f68c8f8f7365dc41089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d60fccbe5a92f68c8f8f7365dc41089">&#9670;&#160;</a></span>parse_http_date()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.parse_http_date </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>date</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse a date format as specified by HTTP RFC 9110 Section 5.6.7.

The three formats allowed by the RFC are accepted, even if only the first
one is still in widespread use.

Return an integer expressed in seconds since the epoch, in UTC.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00097">97</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span><span class="keyword">def </span>parse_http_date(date):</div>
<div class="line"><span class="lineno">   98</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    Parse a date format as specified by HTTP RFC 9110 Section 5.6.7.</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">    The three formats allowed by the RFC are accepted, even if only the first</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">    one is still in widespread use.</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    Return an integer expressed in seconds since the epoch, in UTC.</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  106</span>    <span class="comment"># email.utils.parsedate() does the job for RFC 1123 dates; unfortunately</span></div>
<div class="line"><span class="lineno">  107</span>    <span class="comment"># RFC 9110 makes it mandatory to support RFC 850 dates too. So we roll</span></div>
<div class="line"><span class="lineno">  108</span>    <span class="comment"># our own RFC-compliant parsing.</span></div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">for</span> regex <span class="keywordflow">in</span> RFC1123_DATE, RFC850_DATE, ASCTIME_DATE:</div>
<div class="line"><span class="lineno">  110</span>        m = regex.match(date)</div>
<div class="line"><span class="lineno">  111</span>        <span class="keywordflow">if</span> m <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;%r is not in a valid HTTP date format&quot;</span> % date)</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  116</span>        year = int(m[<span class="stringliteral">&quot;year&quot;</span>])</div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">if</span> year &lt; 100:</div>
<div class="line"><span class="lineno">  118</span>            current_year = datetime.now(tz=timezone.utc).year</div>
<div class="line"><span class="lineno">  119</span>            current_century = current_year - (current_year % 100)</div>
<div class="line"><span class="lineno">  120</span>            <span class="keywordflow">if</span> year - (current_year % 100) &gt; 50:</div>
<div class="line"><span class="lineno">  121</span>                <span class="comment"># year that appears to be more than 50 years in the future are</span></div>
<div class="line"><span class="lineno">  122</span>                <span class="comment"># interpreted as representing the past.</span></div>
<div class="line"><span class="lineno">  123</span>                year += current_century - 100</div>
<div class="line"><span class="lineno">  124</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  125</span>                year += current_century</div>
<div class="line"><span class="lineno">  126</span>        month = MONTHS.index(m[<span class="stringliteral">&quot;mon&quot;</span>].lower()) + 1</div>
<div class="line"><span class="lineno">  127</span>        day = int(m[<span class="stringliteral">&quot;day&quot;</span>])</div>
<div class="line"><span class="lineno">  128</span>        hour = int(m[<span class="stringliteral">&quot;hour&quot;</span>])</div>
<div class="line"><span class="lineno">  129</span>        min = int(m[<span class="stringliteral">&quot;min&quot;</span>])</div>
<div class="line"><span class="lineno">  130</span>        sec = int(m[<span class="stringliteral">&quot;sec&quot;</span>])</div>
<div class="line"><span class="lineno">  131</span>        result = datetime(year, month, day, hour, min, sec, tzinfo=timezone.utc)</div>
<div class="line"><span class="lineno">  132</span>        <span class="keywordflow">return</span> int(result.timestamp())</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;%r is not a valid date&quot;</span> % date) <span class="keyword">from</span> exc</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="utils_2http_8py_source.html#l00137">parse_http_date_safe()</a>.</p>

</div>
</div>
<a id="adfae95405b8075f3a99ec79c7b1c0bc9" name="adfae95405b8075f3a99ec79c7b1c0bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfae95405b8075f3a99ec79c7b1c0bc9">&#9670;&#160;</a></span>parse_http_date_safe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.parse_http_date_safe </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>date</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Same as parse_http_date, but return None if the input is invalid.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00137">137</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  137</span><span class="keyword">def </span>parse_http_date_safe(date):</div>
<div class="line"><span class="lineno">  138</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral">    Same as parse_http_date, but return None if the input is invalid.</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">return</span> parse_http_date(date)</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span><span class="comment"># Base 36 functions: useful for generating compact URLs</span></div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2http_8py_source.html#l00097">parse_http_date()</a>.</p>

</div>
</div>
<a id="aaf286fa2628df1b3472dd7e8d69951f6" name="aaf286fa2628df1b3472dd7e8d69951f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf286fa2628df1b3472dd7e8d69951f6">&#9670;&#160;</a></span>quote_etag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.quote_etag </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>etag_str</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If the provided string is already a quoted ETag, return it. Otherwise, wrap
the string in quotes, making it a strong ETag.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00211">211</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  211</span><span class="keyword">def </span>quote_etag(etag_str):</div>
<div class="line"><span class="lineno">  212</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">    If the provided string is already a quoted ETag, return it. Otherwise, wrap</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">    the string in quotes, making it a strong ETag.</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">if</span> ETAG_MATCH.match(etag_str):</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">return</span> etag_str</div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">return</span> <span class="stringliteral">&#39;&quot;%s&quot;&#39;</span> % etag_str</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abf5240905c59f6d1e44f7c8db3583bec" name="abf5240905c59f6d1e44f7c8db3583bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf5240905c59f6d1e44f7c8db3583bec">&#9670;&#160;</a></span>url_has_allowed_host_and_scheme()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.url_has_allowed_host_and_scheme </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>url</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>allowed_hosts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>require_https</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return ``True`` if the url uses an allowed host and a safe scheme.

Always return ``False`` on an empty url.

If ``require_https`` is ``True``, only 'https' will be considered a valid
scheme, as opposed to 'http' and 'https' with the default, ``False``.

Note: "True" doesn't entail that a URL is "safe". It may still be e.g.
quoted incorrectly. Ensure to also use django.utils.encoding.iri_to_uri()
on the path component of untrusted URLs.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00242">242</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  242</span><span class="keyword">def </span>url_has_allowed_host_and_scheme(url, allowed_hosts, require_https=False):</div>
<div class="line"><span class="lineno">  243</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">    Return ``True`` if the url uses an allowed host and a safe scheme.</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">    Always return ``False`` on an empty url.</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">    If ``require_https`` is ``True``, only &#39;https&#39; will be considered a valid</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral">    scheme, as opposed to &#39;http&#39; and &#39;https&#39; with the default, ``False``.</span></div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    Note: &quot;True&quot; doesn&#39;t entail that a URL is &quot;safe&quot;. It may still be e.g.</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">    quoted incorrectly. Ensure to also use django.utils.encoding.iri_to_uri()</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">    on the path component of untrusted URLs.</span></div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> url <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  256</span>        url = url.strip()</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> url:</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">if</span> allowed_hosts <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  260</span>        allowed_hosts = set()</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">elif</span> isinstance(allowed_hosts, str):</div>
<div class="line"><span class="lineno">  262</span>        allowed_hosts = {allowed_hosts}</div>
<div class="line"><span class="lineno">  263</span>    <span class="comment"># Chrome treats \ completely as / in paths but it could be part of some</span></div>
<div class="line"><span class="lineno">  264</span>    <span class="comment"># basic auth credentials so we need to check both URLs.</span></div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">return</span> _url_has_allowed_host_and_scheme(</div>
<div class="line"><span class="lineno">  266</span>        url, allowed_hosts, require_https=require_https</div>
<div class="line"><span class="lineno">  267</span>    ) <span class="keywordflow">and</span> _url_has_allowed_host_and_scheme(</div>
<div class="line"><span class="lineno">  268</span>        url.replace(<span class="stringliteral">&quot;\\&quot;</span>, <span class="stringliteral">&quot;/&quot;</span>), allowed_hosts, require_https=require_https</div>
<div class="line"><span class="lineno">  269</span>    )</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_2http_8py_source.html#l00272">_url_has_allowed_host_and_scheme()</a>.</p>

</div>
</div>
<a id="abae4cc333fa202bd064e1c26b7f98f2e" name="abae4cc333fa202bd064e1c26b7f98f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abae4cc333fa202bd064e1c26b7f98f2e">&#9670;&#160;</a></span>urlencode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.urlencode </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>query</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>doseq</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">A version of Python's urllib.parse.urlencode() function that can operate on
MultiValueDict and non-string values.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00042">42</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span><span class="keyword">def </span>urlencode(query, doseq=False):</div>
<div class="line"><span class="lineno">   43</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">    A version of Python&#39;s urllib.parse.urlencode() function that can operate on</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral">    MultiValueDict and non-string values.</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">if</span> isinstance(query, MultiValueDict):</div>
<div class="line"><span class="lineno">   48</span>        query = query.lists()</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">elif</span> hasattr(query, <span class="stringliteral">&quot;items&quot;</span>):</div>
<div class="line"><span class="lineno">   50</span>        query = query.items()</div>
<div class="line"><span class="lineno">   51</span>    query_params = []</div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">for</span> key, value <span class="keywordflow">in</span> query:</div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">if</span> value <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   54</span>            <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">   55</span>                <span class="stringliteral">&quot;Cannot encode None for key &#39;%s&#39; in a query string. Did you &quot;</span></div>
<div class="line"><span class="lineno">   56</span>                <span class="stringliteral">&quot;mean to pass an empty string or omit the value?&quot;</span> % key</div>
<div class="line"><span class="lineno">   57</span>            )</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> doseq <span class="keywordflow">or</span> isinstance(value, (str, bytes)):</div>
<div class="line"><span class="lineno">   59</span>            query_val = value</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   61</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   62</span>                itr = iter(value)</div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">   64</span>                query_val = value</div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   66</span>                <span class="comment"># Consume generators and iterators, when doseq=True, to</span></div>
<div class="line"><span class="lineno">   67</span>                <span class="comment"># work around https://bugs.python.org/issue31706.</span></div>
<div class="line"><span class="lineno">   68</span>                query_val = []</div>
<div class="line"><span class="lineno">   69</span>                <span class="keywordflow">for</span> item <span class="keywordflow">in</span> itr:</div>
<div class="line"><span class="lineno">   70</span>                    <span class="keywordflow">if</span> item <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   71</span>                        <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">   72</span>                            <span class="stringliteral">&quot;Cannot encode None for key &#39;%s&#39; in a query &quot;</span></div>
<div class="line"><span class="lineno">   73</span>                            <span class="stringliteral">&quot;string. Did you mean to pass an empty string or &quot;</span></div>
<div class="line"><span class="lineno">   74</span>                            <span class="stringliteral">&quot;omit the value?&quot;</span> % key</div>
<div class="line"><span class="lineno">   75</span>                        )</div>
<div class="line"><span class="lineno">   76</span>                    <span class="keywordflow">elif</span> <span class="keywordflow">not</span> isinstance(item, bytes):</div>
<div class="line"><span class="lineno">   77</span>                        item = str(item)</div>
<div class="line"><span class="lineno">   78</span>                    query_val.append(item)</div>
<div class="line"><span class="lineno">   79</span>        query_params.append((key, query_val))</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">return</span> original_urlencode(query_params, doseq)</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4404a8fb33918a18294cdb12000c82af" name="a4404a8fb33918a18294cdb12000c82af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4404a8fb33918a18294cdb12000c82af">&#9670;&#160;</a></span>urlsafe_base64_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.urlsafe_base64_decode </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decode a base64 encoded string. Add back any trailing equal signs that
might have been stripped.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00185">185</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span><span class="keyword">def </span>urlsafe_base64_decode(s):</div>
<div class="line"><span class="lineno">  186</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">    Decode a base64 encoded string. Add back any trailing equal signs that</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">    might have been stripped.</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  190</span>    s = s.encode()</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">return</span> base64.urlsafe_b64decode(s.ljust(len(s) + len(s) % 4, b<span class="stringliteral">&quot;=&quot;</span>))</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">except</span> (LookupError, BinasciiError) <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">raise</span> ValueError(e)</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac71250f5507fda562c6ef07b86244b42" name="ac71250f5507fda562c6ef07b86244b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac71250f5507fda562c6ef07b86244b42">&#9670;&#160;</a></span>urlsafe_base64_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.urlsafe_base64_encode </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Encode a bytestring to a base64 string for use in URLs. Strip any trailing
equal signs.
</pre> 
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00177">177</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  177</span><span class="keyword">def </span>urlsafe_base64_encode(s):</div>
<div class="line"><span class="lineno">  178</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral">    Encode a bytestring to a base64 string for use in URLs. Strip any trailing</span></div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">    equal signs.</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">return</span> base64.urlsafe_b64encode(s).rstrip(b<span class="stringliteral">&quot;\n=&quot;</span>).decode(<span class="stringliteral">&quot;ascii&quot;</span>)</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aeb9bb747ba2b588a2b6b23e67b60cb68" name="aeb9bb747ba2b588a2b6b23e67b60cb68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb9bb747ba2b588a2b6b23e67b60cb68">&#9670;&#160;</a></span>ASCTIME_DATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.ASCTIME_DATE = _lazy_re_compile(r&quot;^\w{3} %s %s %s %s$&quot; % (__M, __D2, __T, __Y))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00036">36</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>

</div>
</div>
<a id="ada66c62b42ef090c40bab5dcec20cd72" name="ada66c62b42ef090c40bab5dcec20cd72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada66c62b42ef090c40bab5dcec20cd72">&#9670;&#160;</a></span>ETAG_MATCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.ETAG_MATCH</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  _lazy_re_compile(</div>
<div class="line"><span class="lineno">    2</span>    ,</div>
<div class="line"><span class="lineno">    3</span>    re.X,</div>
<div class="line"><span class="lineno">    4</span>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00015">15</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>

</div>
</div>
<a id="a798a98ea460b457ffff61f2e275122c8" name="a798a98ea460b457ffff61f2e275122c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798a98ea460b457ffff61f2e275122c8">&#9670;&#160;</a></span>MONTHS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str django.utils.http.MONTHS = &quot;jan feb mar apr may jun jul aug sep oct nov dec&quot;.split()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00027">27</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>

</div>
</div>
<a id="a95bf8707c44c7bae6b5104e86a1e0e8f" name="a95bf8707c44c7bae6b5104e86a1e0e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95bf8707c44c7bae6b5104e86a1e0e8f">&#9670;&#160;</a></span>RFC1123_DATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.RFC1123_DATE = _lazy_re_compile(r&quot;^\w{3}, %s %s %s %s GMT$&quot; % (__D, __M, __Y, __T))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00034">34</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>

</div>
</div>
<a id="ab67dbdabff233e145a68bea459428e62" name="ab67dbdabff233e145a68bea459428e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67dbdabff233e145a68bea459428e62">&#9670;&#160;</a></span>RFC3986_GENDELIMS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str django.utils.http.RFC3986_GENDELIMS = &quot;:/?#[]@&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00038">38</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>

</div>
</div>
<a id="aa4332e975db309942ea130cdd272c5a0" name="aa4332e975db309942ea130cdd272c5a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4332e975db309942ea130cdd272c5a0">&#9670;&#160;</a></span>RFC3986_SUBDELIMS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str django.utils.http.RFC3986_SUBDELIMS = &quot;!$&amp;'()*+,;=&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00039">39</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>

</div>
</div>
<a id="ad41efe6de30a8310f3bfa3ded5566600" name="ad41efe6de30a8310f3bfa3ded5566600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad41efe6de30a8310f3bfa3ded5566600">&#9670;&#160;</a></span>RFC850_DATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.utils.http.RFC850_DATE = _lazy_re_compile(r&quot;^\w{6,9}, %s-%s-%s %s GMT$&quot; % (__D, __M, __Y2, __T))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="utils_2http_8py_source.html#l00035">35</a> of file <a class="el" href="utils_2http_8py_source.html">http.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedjango.html">django</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1utils_1_1http.html">http</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
