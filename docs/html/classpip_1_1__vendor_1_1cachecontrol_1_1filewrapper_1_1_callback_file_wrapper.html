<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: pip._vendor.cachecontrol.filewrapper.CallbackFileWrapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classpip_1_1__vendor_1_1cachecontrol_1_1filewrapper_1_1_callback_file_wrapper.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classpip_1_1__vendor_1_1cachecontrol_1_1filewrapper_1_1_callback_file_wrapper-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">pip._vendor.cachecontrol.filewrapper.CallbackFileWrapper Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9ca7e8f653138f7f1650c7b847a114e5" id="r_a9ca7e8f653138f7f1650c7b847a114e5"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ca7e8f653138f7f1650c7b847a114e5">__init__</a> (self, HTTPResponse fp, Callable[[bytes], None]|None callback)</td></tr>
<tr class="separator:a9ca7e8f653138f7f1650c7b847a114e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22d09088e40c27ff096a1d953153808" id="r_af22d09088e40c27ff096a1d953153808"><td class="memItemLeft" align="right" valign="top">Any&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af22d09088e40c27ff096a1d953153808">__getattr__</a> (self, str name)</td></tr>
<tr class="separator:af22d09088e40c27ff096a1d953153808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afceb112c071f7b24b9db274a61213b68" id="r_afceb112c071f7b24b9db274a61213b68"><td class="memItemLeft" align="right" valign="top">bytes&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afceb112c071f7b24b9db274a61213b68">read</a> (self, int|None amt=None)</td></tr>
<tr class="separator:afceb112c071f7b24b9db274a61213b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a02b4367aa5d90f36d183d7f028c80bd7" id="r_a02b4367aa5d90f36d183d7f028c80bd7"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02b4367aa5d90f36d183d7f028c80bd7">_close</a> (self)</td></tr>
<tr class="separator:a02b4367aa5d90f36d183d7f028c80bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5efb6219ceca3e2b3d937a8a91a7e5f" id="r_aa5efb6219ceca3e2b3d937a8a91a7e5f"><td class="memItemLeft" align="right" valign="top">bytes&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5efb6219ceca3e2b3d937a8a91a7e5f">_safe_read</a> (self, int amt)</td></tr>
<tr class="separator:aa5efb6219ceca3e2b3d937a8a91a7e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Small wrapper around a fp object which will tee everything read into a
buffer, and when that file is closed it will execute a callback with the
contents of that buffer.

All attributes are proxied to the underlying file object.

This class uses members with a double underscore (__) leading prefix so as
not to accidentally shadow an attribute.

The data is stored in a temporary file until it is all available.  As long
as the temporary files directory is disk-based (sometimes it's a
memory-backed-``tmpfs`` on Linux), data will be unloaded to disk if memory
pressure is high.  For small files the disk usually won't be used at all,
it'll all be in the filesystem memory cache, so there should be no
performance impact.
</pre> 
<p class="definition">Definition at line <a class="el" href="filewrapper_8py_source.html#l00014">14</a> of file <a class="el" href="filewrapper_8py_source.html">filewrapper.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9ca7e8f653138f7f1650c7b847a114e5" name="a9ca7e8f653138f7f1650c7b847a114e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ca7e8f653138f7f1650c7b847a114e5">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None pip._vendor.cachecontrol.filewrapper.CallbackFileWrapper.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HTTPResponse</td>          <td class="paramname"><span class="paramname"><em>fp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Callable[[bytes], None] | None
    </td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="filewrapper_8py_source.html#l00033">33</a> of file <a class="el" href="filewrapper_8py_source.html">filewrapper.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   36</span>        self.__buf = NamedTemporaryFile(<span class="stringliteral">&quot;rb+&quot;</span>, delete=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   37</span>        self.__fp = fp</div>
<div class="line"><span class="lineno">   38</span>        self.__callback = callback</div>
<div class="line"><span class="lineno">   39</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="filewrapper_8py_source.html#l00036">__buf</a>, <a class="el" href="filewrapper_8py_source.html#l00038">__callback</a>, <a class="el" href="_mic_image_plugin_8py_source.html#l00070">PIL.MicImagePlugin.MicImageFile.__fp</a>, and <a class="el" href="filewrapper_8py_source.html#l00037">__fp</a>.</p>

<p class="reference">Referenced by <a class="el" href="typing__extensions_8py_source.html#l02793">pip._vendor.typing_extensions.deprecated.__call__()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af22d09088e40c27ff096a1d953153808" name="af22d09088e40c27ff096a1d953153808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af22d09088e40c27ff096a1d953153808">&#9670;&#160;</a></span>__getattr__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Any pip._vendor.cachecontrol.filewrapper.CallbackFileWrapper.__getattr__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="filewrapper_8py_source.html#l00040">40</a> of file <a class="el" href="filewrapper_8py_source.html">filewrapper.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>    <span class="keyword">def </span>__getattr__(self, name: str) -&gt; Any:</div>
<div class="line"><span class="lineno">   41</span>        <span class="comment"># The vaguaries of garbage collection means that self.__fp is</span></div>
<div class="line"><span class="lineno">   42</span>        <span class="comment"># not always set.  By using __getattribute__ and the private</span></div>
<div class="line"><span class="lineno">   43</span>        <span class="comment"># name[0] allows looking up the attribute value and raising an</span></div>
<div class="line"><span class="lineno">   44</span>        <span class="comment"># AttributeError when it doesn&#39;t exist. This stop thigns from</span></div>
<div class="line"><span class="lineno">   45</span>        <span class="comment"># infinitely recursing calls to getattr in the case where</span></div>
<div class="line"><span class="lineno">   46</span>        <span class="comment"># self.__fp hasn&#39;t been set.</span></div>
<div class="line"><span class="lineno">   47</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno">   48</span>        <span class="comment"># [0] https://docs.python.org/2/reference/expressions.html#atom-identifiers</span></div>
<div class="line"><span class="lineno">   49</span>        fp = self.__getattribute__(<span class="stringliteral">&quot;_CallbackFileWrapper__fp&quot;</span>)</div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">return</span> getattr(fp, name)</div>
<div class="line"><span class="lineno">   51</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_mic_image_plugin_8py_source.html#l00070">PIL.MicImagePlugin.MicImageFile.__fp</a>, <a class="el" href="filewrapper_8py_source.html#l00037">__fp</a>, <a class="el" href="astroid_2util_8py_source.html#l00030">astroid.util.UninferableBase.__getattribute__()</a>, <a class="el" href="__dill_8py_source.html#l00907">dill._dill._attrgetter_helper.__getattribute__()</a>, <a class="el" href="functional_8py_source.html#l00276">django.utils.functional.LazyObject.__getattribute__()</a>, and <a class="el" href="__vendor_2distlib_2metadata_8py_source.html#l00695">pip._vendor.distlib.metadata.Metadata.__getattribute__()</a>.</p>

</div>
</div>
<a id="a02b4367aa5d90f36d183d7f028c80bd7" name="a02b4367aa5d90f36d183d7f028c80bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02b4367aa5d90f36d183d7f028c80bd7">&#9670;&#160;</a></span>_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None pip._vendor.cachecontrol.filewrapper.CallbackFileWrapper._close </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="filewrapper_8py_source.html#l00070">70</a> of file <a class="el" href="filewrapper_8py_source.html">filewrapper.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   70</span>    <span class="keyword">def </span>_close(self) -&gt; None:</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">if</span> self.__callback:</div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">if</span> self.__buf.tell() == 0:</div>
<div class="line"><span class="lineno">   73</span>                <span class="comment"># Empty file:</span></div>
<div class="line"><span class="lineno">   74</span>                result = b<span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">   75</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   76</span>                <span class="comment"># Return the data without actually loading it into memory,</span></div>
<div class="line"><span class="lineno">   77</span>                <span class="comment"># relying on Python&#39;s buffer API and mmap(). mmap() just gives</span></div>
<div class="line"><span class="lineno">   78</span>                <span class="comment"># a view directly into the filesystem&#39;s memory cache, so it</span></div>
<div class="line"><span class="lineno">   79</span>                <span class="comment"># doesn&#39;t result in duplicate memory use.</span></div>
<div class="line"><span class="lineno">   80</span>                self.__buf.seek(0, 0)</div>
<div class="line"><span class="lineno">   81</span>                result = memoryview(</div>
<div class="line"><span class="lineno">   82</span>                    mmap.mmap(self.__buf.fileno(), 0, access=mmap.ACCESS_READ)</div>
<div class="line"><span class="lineno">   83</span>                )</div>
<div class="line"><span class="lineno">   84</span>            self.__callback(result)</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>        <span class="comment"># We assign this to None here, because otherwise we can get into</span></div>
<div class="line"><span class="lineno">   87</span>        <span class="comment"># really tricky problems where the CPython interpreter dead locks</span></div>
<div class="line"><span class="lineno">   88</span>        <span class="comment"># because the callback is holding a reference to something which</span></div>
<div class="line"><span class="lineno">   89</span>        <span class="comment"># has a __del__ method. Setting this to None breaks the cycle</span></div>
<div class="line"><span class="lineno">   90</span>        <span class="comment"># and allows the garbage collector to do it&#39;s thing normally.</span></div>
<div class="line"><span class="lineno">   91</span>        self.__callback = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>        <span class="comment"># Closing the temporary file releases memory and frees disk space.</span></div>
<div class="line"><span class="lineno">   94</span>        <span class="comment"># Important when caching big files.</span></div>
<div class="line"><span class="lineno">   95</span>        self.__buf.close()</div>
<div class="line"><span class="lineno">   96</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="filewrapper_8py_source.html#l00036">__buf</a>, and <a class="el" href="filewrapper_8py_source.html#l00038">__callback</a>.</p>

<p class="reference">Referenced by <a class="el" href="filewrapper_8py_source.html#l00108">_safe_read()</a>, and <a class="el" href="filewrapper_8py_source.html#l00097">read()</a>.</p>

</div>
</div>
<a id="aa5efb6219ceca3e2b3d937a8a91a7e5f" name="aa5efb6219ceca3e2b3d937a8a91a7e5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5efb6219ceca3e2b3d937a8a91a7e5f">&#9670;&#160;</a></span>_safe_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> bytes pip._vendor.cachecontrol.filewrapper.CallbackFileWrapper._safe_read </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>amt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="filewrapper_8py_source.html#l00108">108</a> of file <a class="el" href="filewrapper_8py_source.html">filewrapper.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span>    <span class="keyword">def </span>_safe_read(self, amt: int) -&gt; bytes:</div>
<div class="line"><span class="lineno">  109</span>        data: bytes = self.__fp._safe_read(amt)  <span class="comment"># type: ignore[attr-defined]</span></div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">if</span> amt == 2 <span class="keywordflow">and</span> data == b<span class="stringliteral">&quot;\r\n&quot;</span>:</div>
<div class="line"><span class="lineno">  111</span>            <span class="comment"># urllib executes this read to toss the CRLF at the end</span></div>
<div class="line"><span class="lineno">  112</span>            <span class="comment"># of the chunk.</span></div>
<div class="line"><span class="lineno">  113</span>            <span class="keywordflow">return</span> data</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        self.__buf.write(data)</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">if</span> self.__is_fp_closed():</div>
<div class="line"><span class="lineno">  117</span>            self._close()</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">return</span> data</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="filewrapper_8py_source.html#l00036">__buf</a>, <a class="el" href="_mic_image_plugin_8py_source.html#l00070">PIL.MicImagePlugin.MicImageFile.__fp</a>, <a class="el" href="filewrapper_8py_source.html#l00037">__fp</a>, <a class="el" href="filewrapper_8py_source.html#l00052">__is_fp_closed()</a>, <a class="el" href="django_2db_2backends_2base_2base_8py_source.html#l00310">django.db.backends.base.base.BaseDatabaseWrapper._close()</a>, <a class="el" href="django_2db_2backends_2dummy_2base_8py_source.html#l00061">django.db.backends.dummy.base.DatabaseWrapper._close</a>, <a class="el" href="django_2db_2backends_2postgresql_2base_8py_source.html#l00381">django.db.backends.postgresql.base.DatabaseWrapper._close()</a>, <a class="el" href="filewrapper_8py_source.html#l00070">_close()</a>, and <a class="el" href="filewrapper_8py_source.html#l00108">_safe_read()</a>.</p>

<p class="reference">Referenced by <a class="el" href="filewrapper_8py_source.html#l00108">_safe_read()</a>.</p>

</div>
</div>
<a id="afceb112c071f7b24b9db274a61213b68" name="afceb112c071f7b24b9db274a61213b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afceb112c071f7b24b9db274a61213b68">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bytes pip._vendor.cachecontrol.filewrapper.CallbackFileWrapper.read </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int | None </td>          <td class="paramname"><span class="paramname"><em>amt</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="filewrapper_8py_source.html#l00097">97</a> of file <a class="el" href="filewrapper_8py_source.html">filewrapper.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span>    <span class="keyword">def </span>read(self, amt: int | <span class="keywordtype">None</span> = <span class="keywordtype">None</span>) -&gt; bytes:</div>
<div class="line"><span class="lineno">   98</span>        data: bytes = self.__fp.read(amt)</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">if</span> data:</div>
<div class="line"><span class="lineno">  100</span>            <span class="comment"># We may be dealing with b&#39;&#39;, a sign that things are over:</span></div>
<div class="line"><span class="lineno">  101</span>            <span class="comment"># it&#39;s passed e.g. after we&#39;ve already closed self.__buf.</span></div>
<div class="line"><span class="lineno">  102</span>            self.__buf.write(data)</div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">if</span> self.__is_fp_closed():</div>
<div class="line"><span class="lineno">  104</span>            self._close()</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">return</span> data</div>
<div class="line"><span class="lineno">  107</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="filewrapper_8py_source.html#l00036">__buf</a>, <a class="el" href="_mic_image_plugin_8py_source.html#l00070">PIL.MicImagePlugin.MicImageFile.__fp</a>, <a class="el" href="filewrapper_8py_source.html#l00037">__fp</a>, <a class="el" href="filewrapper_8py_source.html#l00052">__is_fp_closed()</a>, <a class="el" href="django_2db_2backends_2base_2base_8py_source.html#l00310">django.db.backends.base.base.BaseDatabaseWrapper._close()</a>, <a class="el" href="django_2db_2backends_2dummy_2base_8py_source.html#l00061">django.db.backends.dummy.base.DatabaseWrapper._close</a>, <a class="el" href="django_2db_2backends_2postgresql_2base_8py_source.html#l00381">django.db.backends.postgresql.base.DatabaseWrapper._close()</a>, <a class="el" href="filewrapper_8py_source.html#l00070">_close()</a>, and <a class="el" href="filewrapper_8py_source.html#l00097">read()</a>.</p>

<p class="reference">Referenced by <a class="el" href="__tokenizer_8py_source.html#l00110">pip._vendor.packaging._tokenizer.Tokenizer.consume()</a>, <a class="el" href="pip_2__vendor_2urllib3_2response_8py_source.html#l00294">pip._vendor.urllib3.response.HTTPResponse.data()</a>, <a class="el" href="urllib3_2contrib_2emscripten_2response_8py_source.html#l00207">urllib3.contrib.emscripten.response.EmscriptenHttpResponseWrapper.data()</a>, <a class="el" href="urllib3_2response_8py_source.html#l00654">urllib3.response.HTTPResponse.data()</a>, <a class="el" href="pip_2__vendor_2urllib3_2response_8py_source.html#l00282">pip._vendor.urllib3.response.HTTPResponse.drain_conn()</a>, <a class="el" href="urllib3_2response_8py_source.html#l00642">urllib3.response.HTTPResponse.drain_conn()</a>, <a class="el" href="__tokenizer_8py_source.html#l00176">pip._vendor.packaging._tokenizer.Tokenizer.enclosing_tokens()</a>, <a class="el" href="__tokenizer_8py_source.html#l00136">pip._vendor.packaging._tokenizer.Tokenizer.expect()</a>, <a class="el" href="filewrapper_8py_source.html#l00097">read()</a>, <a class="el" href="urllib3_2contrib_2emscripten_2response_8py_source.html#l00188">urllib3.contrib.emscripten.response.EmscriptenHttpResponseWrapper.read_chunked()</a>, <a class="el" href="pip_2__vendor_2urllib3_2response_8py_source.html#l00729">pip._vendor.urllib3.response.HTTPResponse.readinto()</a>, <a class="el" href="urllib3_2response_8py_source.html#l00505">urllib3.response.BaseHTTPResponse.readinto()</a>, <a class="el" href="pip_2__vendor_2urllib3_2util_2ssltransport_8py_source.html#l00080">pip._vendor.urllib3.util.ssltransport.SSLTransport.recv_into()</a>, <a class="el" href="urllib3_2util_2ssltransport_8py_source.html#l00094">urllib3.util.ssltransport.SSLTransport.recv_into()</a>, <a class="el" href="pip_2__vendor_2urllib3_2response_8py_source.html#l00601">pip._vendor.urllib3.response.HTTPResponse.stream()</a>, <a class="el" href="urllib3_2contrib_2emscripten_2response_8py_source.html#l00078">urllib3.contrib.emscripten.response.EmscriptenHttpResponseWrapper.stream()</a>, and <a class="el" href="urllib3_2response_8py_source.html#l01040">urllib3.response.HTTPResponse.stream()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>project/ENV/Lib/site-packages/pip/_vendor/cachecontrol/<a class="el" href="filewrapper_8py_source.html">filewrapper.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacepip.html">pip</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__vendor.html">_vendor</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__vendor_1_1cachecontrol.html">cachecontrol</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__vendor_1_1cachecontrol_1_1filewrapper.html">filewrapper</a></li><li class="navelem"><a class="el" href="classpip_1_1__vendor_1_1cachecontrol_1_1filewrapper_1_1_callback_file_wrapper.html">CallbackFileWrapper</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
