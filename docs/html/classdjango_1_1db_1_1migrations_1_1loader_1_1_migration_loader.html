<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: django.db.migrations.loader.MigrationLoader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classdjango_1_1db_1_1migrations_1_1loader_1_1_migration_loader.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classdjango_1_1db_1_1migrations_1_1loader_1_1_migration_loader-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">django.db.migrations.loader.MigrationLoader Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac718c2537be5ec4bb179bb4b33ca5c4e" id="r_ac718c2537be5ec4bb179bb4b33ca5c4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac718c2537be5ec4bb179bb4b33ca5c4e">__init__</a> (self, <a class="el" href="#a7ebd0836b1ad495a4ff262c74ad1426f">connection</a>, load=True, <a class="el" href="#a420cb327d5916a385a2171fd42a60a8f">ignore_no_migrations</a>=False, <a class="el" href="#a5ed9767ce1f48d3945cf4e75782c1c9e">replace_migrations</a>=True)</td></tr>
<tr class="separator:ac718c2537be5ec4bb179bb4b33ca5c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644cdf4c7b215e1efb448ab257cf6ce6" id="r_a644cdf4c7b215e1efb448ab257cf6ce6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a644cdf4c7b215e1efb448ab257cf6ce6">migrations_module</a> (cls, app_label)</td></tr>
<tr class="separator:a644cdf4c7b215e1efb448ab257cf6ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f740c666b56e85572f2f7a37a016991" id="r_a6f740c666b56e85572f2f7a37a016991"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f740c666b56e85572f2f7a37a016991">load_disk</a> (self)</td></tr>
<tr class="separator:a6f740c666b56e85572f2f7a37a016991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c58411eb2099e26a2d002e62f379807" id="r_a0c58411eb2099e26a2d002e62f379807"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c58411eb2099e26a2d002e62f379807">get_migration</a> (self, app_label, name_prefix)</td></tr>
<tr class="separator:a0c58411eb2099e26a2d002e62f379807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a647c158d483c511ef2eaf30e54571cdb" id="r_a647c158d483c511ef2eaf30e54571cdb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a647c158d483c511ef2eaf30e54571cdb">get_migration_by_prefix</a> (self, app_label, name_prefix)</td></tr>
<tr class="separator:a647c158d483c511ef2eaf30e54571cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41824669029aa2b625b86c6247561826" id="r_a41824669029aa2b625b86c6247561826"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41824669029aa2b625b86c6247561826">check_key</a> (self, key, current_app)</td></tr>
<tr class="separator:a41824669029aa2b625b86c6247561826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a084f40e17cdb0009983834fde4a93" id="r_a61a084f40e17cdb0009983834fde4a93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61a084f40e17cdb0009983834fde4a93">add_internal_dependencies</a> (self, key, migration)</td></tr>
<tr class="separator:a61a084f40e17cdb0009983834fde4a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4877eea2813969af426aebe0ae69a78" id="r_af4877eea2813969af426aebe0ae69a78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4877eea2813969af426aebe0ae69a78">add_external_dependencies</a> (self, key, migration)</td></tr>
<tr class="separator:af4877eea2813969af426aebe0ae69a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6f767cd41b69e78749d30189d6ccfb" id="r_adc6f767cd41b69e78749d30189d6ccfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc6f767cd41b69e78749d30189d6ccfb">build_graph</a> (self)</td></tr>
<tr class="separator:adc6f767cd41b69e78749d30189d6ccfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a473f9c5c81d54c3932e4056a1e7f5" id="r_aa6a473f9c5c81d54c3932e4056a1e7f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6a473f9c5c81d54c3932e4056a1e7f5">check_consistent_history</a> (self, <a class="el" href="#a7ebd0836b1ad495a4ff262c74ad1426f">connection</a>)</td></tr>
<tr class="separator:aa6a473f9c5c81d54c3932e4056a1e7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8828bfac13ec67512d329b6b7d6cca03" id="r_a8828bfac13ec67512d329b6b7d6cca03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8828bfac13ec67512d329b6b7d6cca03">detect_conflicts</a> (self)</td></tr>
<tr class="separator:a8828bfac13ec67512d329b6b7d6cca03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8faf34a2f3e1388ffb7791d1ea8fa0be" id="r_a8faf34a2f3e1388ffb7791d1ea8fa0be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8faf34a2f3e1388ffb7791d1ea8fa0be">project_state</a> (self, nodes=None, at_end=True)</td></tr>
<tr class="separator:a8faf34a2f3e1388ffb7791d1ea8fa0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb6541a9af57a1c6ee39da3da900277" id="r_a7eb6541a9af57a1c6ee39da3da900277"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7eb6541a9af57a1c6ee39da3da900277">collect_sql</a> (self, plan)</td></tr>
<tr class="separator:a7eb6541a9af57a1c6ee39da3da900277"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7ebd0836b1ad495a4ff262c74ad1426f" id="r_a7ebd0836b1ad495a4ff262c74ad1426f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ebd0836b1ad495a4ff262c74ad1426f">connection</a> = connection</td></tr>
<tr class="separator:a7ebd0836b1ad495a4ff262c74ad1426f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358a8da87dbb6d807461c81b8d5cf924" id="r_a358a8da87dbb6d807461c81b8d5cf924"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a358a8da87dbb6d807461c81b8d5cf924">disk_migrations</a> = None</td></tr>
<tr class="separator:a358a8da87dbb6d807461c81b8d5cf924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a418547b8fd0e16cff4fadf237dc46739" id="r_a418547b8fd0e16cff4fadf237dc46739"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a418547b8fd0e16cff4fadf237dc46739">applied_migrations</a> = None</td></tr>
<tr class="separator:a418547b8fd0e16cff4fadf237dc46739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420cb327d5916a385a2171fd42a60a8f" id="r_a420cb327d5916a385a2171fd42a60a8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a420cb327d5916a385a2171fd42a60a8f">ignore_no_migrations</a> = ignore_no_migrations</td></tr>
<tr class="separator:a420cb327d5916a385a2171fd42a60a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed9767ce1f48d3945cf4e75782c1c9e" id="r_a5ed9767ce1f48d3945cf4e75782c1c9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ed9767ce1f48d3945cf4e75782c1c9e">replace_migrations</a> = replace_migrations</td></tr>
<tr class="separator:a5ed9767ce1f48d3945cf4e75782c1c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e5251f8a5a98c011f9c6513755ffb1" id="r_ac5e5251f8a5a98c011f9c6513755ffb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5e5251f8a5a98c011f9c6513755ffb1">unmigrated_apps</a> = set()</td></tr>
<tr class="separator:ac5e5251f8a5a98c011f9c6513755ffb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff12cf467521abae120f19aafbf17d5" id="r_a2ff12cf467521abae120f19aafbf17d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ff12cf467521abae120f19aafbf17d5">migrated_apps</a> = set()</td></tr>
<tr class="separator:a2ff12cf467521abae120f19aafbf17d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc80d97a4120c555b234399bca1bf3a" id="r_aecc80d97a4120c555b234399bca1bf3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aecc80d97a4120c555b234399bca1bf3a">graph</a> = <a class="el" href="classdjango_1_1db_1_1migrations_1_1graph_1_1_migration_graph.html">MigrationGraph</a>()</td></tr>
<tr class="separator:aecc80d97a4120c555b234399bca1bf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc7a26a5752f1e93befdd54d9eeca3a" id="r_a9bc7a26a5752f1e93befdd54d9eeca3a"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bc7a26a5752f1e93befdd54d9eeca3a">replacements</a> = {}</td></tr>
<tr class="separator:a9bc7a26a5752f1e93befdd54d9eeca3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Load migration files from disk and their status from the database.

Migration files are expected to live in the "migrations" directory of
an app. Their names are entirely unimportant from a code perspective,
but will probably follow the 1234_name.py convention.

On initialization, this class will scan those directories, and open and
read the Python files, looking for a class called Migration, which should
inherit from django.db.migrations.Migration. See
django.db.migrations.migration for what that looks like.

Some migrations will be marked as "replacing" another set of migrations.
These are loaded into a separate set of migrations away from the main ones.
If all the migrations they replace are either unapplied or missing from
disk, then they are injected into the main set, replacing the named migrations.
Any dependency pointers to the replaced migrations are re-pointed to the
new migration.

This does mean that this class MUST also talk to the database as well as
to disk, but this is probably fine. We're already not just operating
in memory.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00020">20</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac718c2537be5ec4bb179bb4b33ca5c4e" name="ac718c2537be5ec4bb179bb4b33ca5c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac718c2537be5ec4bb179bb4b33ca5c4e">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>load</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ignore_no_migrations</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>replace_migrations</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00045">45</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>    ):</div>
<div class="line"><span class="lineno">   52</span>        self.connection = connection</div>
<div class="line"><span class="lineno">   53</span>        self.disk_migrations = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   54</span>        self.applied_migrations = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   55</span>        self.ignore_no_migrations = ignore_no_migrations</div>
<div class="line"><span class="lineno">   56</span>        self.replace_migrations = replace_migrations</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">if</span> load:</div>
<div class="line"><span class="lineno">   58</span>            self.build_graph()</div>
<div class="line"><span class="lineno">   59</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="typing__extensions_8py_source.html#l02793">pip._vendor.typing_extensions.deprecated.__call__()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af4877eea2813969af426aebe0ae69a78" name="af4877eea2813969af426aebe0ae69a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4877eea2813969af426aebe0ae69a78">&#9670;&#160;</a></span>add_external_dependencies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.add_external_dependencies </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>migration</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00209">209</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>    <span class="keyword">def </span>add_external_dependencies(self, key, migration):</div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">for</span> parent <span class="keywordflow">in</span> migration.dependencies:</div>
<div class="line"><span class="lineno">  211</span>            <span class="comment"># Skip internal dependencies</span></div>
<div class="line"><span class="lineno">  212</span>            <span class="keywordflow">if</span> key[0] == parent[0]:</div>
<div class="line"><span class="lineno">  213</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  214</span>            parent = self.check_key(parent, key[0])</div>
<div class="line"><span class="lineno">  215</span>            <span class="keywordflow">if</span> parent <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  216</span>                self.graph.add_dependency(migration, key, parent, skip_validation=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">for</span> child <span class="keywordflow">in</span> migration.run_before:</div>
<div class="line"><span class="lineno">  218</span>            child = self.check_key(child, key[0])</div>
<div class="line"><span class="lineno">  219</span>            <span class="keywordflow">if</span> child <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  220</span>                self.graph.add_dependency(migration, child, key, skip_validation=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  221</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00169">check_key()</a>, and <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00238">graph</a>.</p>

</div>
</div>
<a id="a61a084f40e17cdb0009983834fde4a93" name="a61a084f40e17cdb0009983834fde4a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a084f40e17cdb0009983834fde4a93">&#9670;&#160;</a></span>add_internal_dependencies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.add_internal_dependencies </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>migration</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Internal dependencies need to be added first to ensure `__first__`
dependencies find the correct root node.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00199">199</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  199</span>    <span class="keyword">def </span>add_internal_dependencies(self, key, migration):</div>
<div class="line"><span class="lineno">  200</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">        Internal dependencies need to be added first to ensure `__first__`</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">        dependencies find the correct root node.</span></div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">for</span> parent <span class="keywordflow">in</span> migration.dependencies:</div>
<div class="line"><span class="lineno">  205</span>            <span class="comment"># Ignore __first__ references to the same app.</span></div>
<div class="line"><span class="lineno">  206</span>            <span class="keywordflow">if</span> parent[0] == key[0] <span class="keywordflow">and</span> parent[1] != <span class="stringliteral">&quot;__first__&quot;</span>:</div>
<div class="line"><span class="lineno">  207</span>                self.graph.add_dependency(migration, key, parent, skip_validation=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  208</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00238">graph</a>.</p>

</div>
</div>
<a id="adc6f767cd41b69e78749d30189d6ccfb" name="adc6f767cd41b69e78749d30189d6ccfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc6f767cd41b69e78749d30189d6ccfb">&#9670;&#160;</a></span>build_graph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.build_graph </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Build a migration dependency graph using both the disk and database.
You'll need to rebuild the graph if you apply migrations. This isn't
usually a problem as generally migration stuff runs in a one-shot process.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00222">222</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>    <span class="keyword">def </span>build_graph(self):</div>
<div class="line"><span class="lineno">  223</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">        Build a migration dependency graph using both the disk and database.</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral">        You&#39;ll need to rebuild the graph if you apply migrations. This isn&#39;t</span></div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">        usually a problem as generally migration stuff runs in a one-shot process.</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  228</span>        <span class="comment"># Load disk data</span></div>
<div class="line"><span class="lineno">  229</span>        self.load_disk()</div>
<div class="line"><span class="lineno">  230</span>        <span class="comment"># Load database data</span></div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">if</span> self.connection <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  232</span>            self.applied_migrations = {}</div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  234</span>            recorder = MigrationRecorder(self.connection)</div>
<div class="line"><span class="lineno">  235</span>            self.applied_migrations = recorder.applied_migrations()</div>
<div class="line"><span class="lineno">  236</span>        <span class="comment"># To start, populate the migration graph with nodes for ALL migrations</span></div>
<div class="line"><span class="lineno">  237</span>        <span class="comment"># and their dependencies. Also make note of replacing migrations at this step.</span></div>
<div class="line"><span class="lineno">  238</span>        self.graph = MigrationGraph()</div>
<div class="line"><span class="lineno">  239</span>        self.replacements = {}</div>
<div class="line"><span class="lineno">  240</span>        <span class="keywordflow">for</span> key, migration <span class="keywordflow">in</span> self.disk_migrations.items():</div>
<div class="line"><span class="lineno">  241</span>            self.graph.add_node(key, migration)</div>
<div class="line"><span class="lineno">  242</span>            <span class="comment"># Replacing migrations.</span></div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">if</span> migration.replaces:</div>
<div class="line"><span class="lineno">  244</span>                self.replacements[key] = migration</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">for</span> key, migration <span class="keywordflow">in</span> self.disk_migrations.items():</div>
<div class="line"><span class="lineno">  246</span>            <span class="comment"># Internal (same app) dependencies.</span></div>
<div class="line"><span class="lineno">  247</span>            self.add_internal_dependencies(key, migration)</div>
<div class="line"><span class="lineno">  248</span>        <span class="comment"># Add external dependencies now that the internal ones have been resolved.</span></div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">for</span> key, migration <span class="keywordflow">in</span> self.disk_migrations.items():</div>
<div class="line"><span class="lineno">  250</span>            self.add_external_dependencies(key, migration)</div>
<div class="line"><span class="lineno">  251</span>        <span class="comment"># Carry out replacements where possible and if enabled.</span></div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">if</span> self.replace_migrations:</div>
<div class="line"><span class="lineno">  253</span>            <span class="keywordflow">for</span> key, migration <span class="keywordflow">in</span> self.replacements.items():</div>
<div class="line"><span class="lineno">  254</span>                <span class="comment"># Get applied status of each of this migration&#39;s replacement</span></div>
<div class="line"><span class="lineno">  255</span>                <span class="comment"># targets.</span></div>
<div class="line"><span class="lineno">  256</span>                applied_statuses = [</div>
<div class="line"><span class="lineno">  257</span>                    (target <span class="keywordflow">in</span> self.applied_migrations) <span class="keywordflow">for</span> target <span class="keywordflow">in</span> migration.replaces</div>
<div class="line"><span class="lineno">  258</span>                ]</div>
<div class="line"><span class="lineno">  259</span>                <span class="comment"># The replacing migration is only marked as applied if all of</span></div>
<div class="line"><span class="lineno">  260</span>                <span class="comment"># its replacement targets are.</span></div>
<div class="line"><span class="lineno">  261</span>                <span class="keywordflow">if</span> all(applied_statuses):</div>
<div class="line"><span class="lineno">  262</span>                    self.applied_migrations[key] = migration</div>
<div class="line"><span class="lineno">  263</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  264</span>                    self.applied_migrations.pop(key, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  265</span>                <span class="comment"># A replacing migration can be used if either all or none of</span></div>
<div class="line"><span class="lineno">  266</span>                <span class="comment"># its replacement targets have been applied.</span></div>
<div class="line"><span class="lineno">  267</span>                <span class="keywordflow">if</span> all(applied_statuses) <span class="keywordflow">or</span> (<span class="keywordflow">not</span> any(applied_statuses)):</div>
<div class="line"><span class="lineno">  268</span>                    self.graph.remove_replaced_nodes(key, migration.replaces)</div>
<div class="line"><span class="lineno">  269</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  270</span>                    <span class="comment"># This replacing migration cannot be used because it is</span></div>
<div class="line"><span class="lineno">  271</span>                    <span class="comment"># partially applied. Remove it from the graph and remap</span></div>
<div class="line"><span class="lineno">  272</span>                    <span class="comment"># dependencies to it (#25945).</span></div>
<div class="line"><span class="lineno">  273</span>                    self.graph.remove_replacement_node(key, migration.replaces)</div>
<div class="line"><span class="lineno">  274</span>        <span class="comment"># Ensure the graph is consistent.</span></div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  276</span>            self.graph.validate_consistency()</div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">except</span> NodeNotFoundError <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  278</span>            <span class="comment"># Check if the missing node could have been replaced by any squash</span></div>
<div class="line"><span class="lineno">  279</span>            <span class="comment"># migration but wasn&#39;t because the squash migration was partially</span></div>
<div class="line"><span class="lineno">  280</span>            <span class="comment"># applied before. In that case raise a more understandable exception</span></div>
<div class="line"><span class="lineno">  281</span>            <span class="comment"># (#23556).</span></div>
<div class="line"><span class="lineno">  282</span>            <span class="comment"># Get reverse replacements.</span></div>
<div class="line"><span class="lineno">  283</span>            reverse_replacements = {}</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">for</span> key, migration <span class="keywordflow">in</span> self.replacements.items():</div>
<div class="line"><span class="lineno">  285</span>                <span class="keywordflow">for</span> replaced <span class="keywordflow">in</span> migration.replaces:</div>
<div class="line"><span class="lineno">  286</span>                    reverse_replacements.setdefault(replaced, set()).add(key)</div>
<div class="line"><span class="lineno">  287</span>            <span class="comment"># Try to reraise exception with more detail.</span></div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> exc.node <span class="keywordflow">in</span> reverse_replacements:</div>
<div class="line"><span class="lineno">  289</span>                candidates = reverse_replacements.get(exc.node, set())</div>
<div class="line"><span class="lineno">  290</span>                is_replaced = any(</div>
<div class="line"><span class="lineno">  291</span>                    candidate <span class="keywordflow">in</span> self.graph.nodes <span class="keywordflow">for</span> candidate <span class="keywordflow">in</span> candidates</div>
<div class="line"><span class="lineno">  292</span>                )</div>
<div class="line"><span class="lineno">  293</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> is_replaced:</div>
<div class="line"><span class="lineno">  294</span>                    tries = <span class="stringliteral">&quot;, &quot;</span>.join(<span class="stringliteral">&quot;%s.%s&quot;</span> % c <span class="keywordflow">for</span> c <span class="keywordflow">in</span> candidates)</div>
<div class="line"><span class="lineno">  295</span>                    <span class="keywordflow">raise</span> NodeNotFoundError(</div>
<div class="line"><span class="lineno">  296</span>                        <span class="stringliteral">&quot;Migration {0} depends on nonexistent node (&#39;{1}&#39;, &#39;{2}&#39;). &quot;</span></div>
<div class="line"><span class="lineno">  297</span>                        <span class="stringliteral">&quot;Django tried to replace migration {1}.{2} with any of [{3}] &quot;</span></div>
<div class="line"><span class="lineno">  298</span>                        <span class="stringliteral">&quot;but wasn&#39;t able to because some of the replaced migrations &quot;</span></div>
<div class="line"><span class="lineno">  299</span>                        <span class="stringliteral">&quot;are already applied.&quot;</span>.format(</div>
<div class="line"><span class="lineno">  300</span>                            exc.origin, exc.node[0], exc.node[1], tries</div>
<div class="line"><span class="lineno">  301</span>                        ),</div>
<div class="line"><span class="lineno">  302</span>                        exc.node,</div>
<div class="line"><span class="lineno">  303</span>                    ) <span class="keyword">from</span> exc</div>
<div class="line"><span class="lineno">  304</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  305</span>        self.graph.ensure_not_cyclic()</div>
<div class="line"><span class="lineno">  306</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00054">applied_migrations</a>, <a class="el" href="contrib_2gis_2db_2backends_2base_2operations_8py_source.html#l00190">django.contrib.gis.db.backends.base.operations.BaseSpatialOperations.connection</a>, <a class="el" href="contrib_2gis_2db_2backends_2mysql_2operations_8py_source.html#l00114">django.contrib.gis.db.backends.mysql.operations.MySQLOperations.connection</a>, <a class="el" href="contrib_2gis_2db_2backends_2oracle_2operations_8py_source.html#l00183">django.contrib.gis.db.backends.oracle.operations.OracleOperations.connection</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2postgis_2base_8py_source.html#l00123">django.contrib.gis.db.backends.postgis.base.DatabaseWrapper.connection</a>, <a class="el" href="contrib_2gis_2db_2backends_2spatialite_2operations_8py_source.html#l00134">django.contrib.gis.db.backends.spatialite.operations.SpatiaLiteOperations.connection</a>, <a class="el" href="smtp_8py_source.html#l00052">django.core.mail.backends.smtp.EmailBackend.connection</a>, <a class="el" href="django_2core_2mail_2message_8py_source.html#l00252">django.core.mail.message.EmailMessage.connection</a>, <a class="el" href="django_2db_2backends_2base_2base_8py_source.html#l00056">django.db.backends.base.base.BaseDatabaseWrapper.connection</a>, <a class="el" href="db_2backends_2base_2client_8py_source.html#l00014">django.db.backends.base.client.BaseDatabaseClient.connection</a>, <a class="el" href="base_2creation_8py_source.html#l00024">django.db.backends.base.creation.BaseDatabaseCreation.connection</a>, <a class="el" href="django_2db_2backends_2base_2features_8py_source.html#l00393">django.db.backends.base.features.BaseDatabaseFeatures.connection</a>, <a class="el" href="db_2backends_2base_2introspection_8py_source.html#l00020">django.db.backends.base.introspection.BaseDatabaseIntrospection.connection</a>, <a class="el" href="db_2backends_2base_2operations_8py_source.html#l00062">django.db.backends.base.operations.BaseDatabaseOperations.connection</a>, <a class="el" href="db_2backends_2base_2schema_8py_source.html#l00149">django.db.backends.base.schema.BaseDatabaseSchemaEditor.connection</a>, <a class="el" href="base_2validation_8py_source.html#l00005">django.db.backends.base.validation.BaseDatabaseValidation.connection</a>, <a class="el" href="django_2db_2backends_2oracle_2base_8py_source.html#l00305">django.db.backends.oracle.base.DatabaseWrapper.connection</a>, <a class="el" href="django_2db_2backends_2postgresql_2base_8py_source.html#l00349">django.db.backends.postgresql.base.DatabaseWrapper.connection</a>, <a class="el" href="db_2backends_2postgresql_2operations_8py_source.html#l00076">django.db.backends.postgresql.operations.DatabaseOperations.connection</a>, <a class="el" href="db_2backends_2postgresql_2schema_8py_source.html#l00070">django.db.backends.postgresql.schema.DatabaseSchemaEditor.connection</a>, <a class="el" href="executor_8py_source.html#l00017">django.db.migrations.executor.MigrationExecutor.connection</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00052">connection</a>, and <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00073">load_disk()</a>.</p>

</div>
</div>
<a id="aa6a473f9c5c81d54c3932e4056a1e7f5" name="aa6a473f9c5c81d54c3932e4056a1e7f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a473f9c5c81d54c3932e4056a1e7f5">&#9670;&#160;</a></span>check_consistent_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.check_consistent_history </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>connection</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raise InconsistentMigrationHistory if any applied migrations have
unapplied dependencies.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00307">307</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  307</span>    <span class="keyword">def </span>check_consistent_history(self, connection):</div>
<div class="line"><span class="lineno">  308</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">        Raise InconsistentMigrationHistory if any applied migrations have</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">        unapplied dependencies.</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  312</span>        recorder = MigrationRecorder(connection)</div>
<div class="line"><span class="lineno">  313</span>        applied = recorder.applied_migrations()</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordflow">for</span> migration <span class="keywordflow">in</span> applied:</div>
<div class="line"><span class="lineno">  315</span>            <span class="comment"># If the migration is unknown, skip it.</span></div>
<div class="line"><span class="lineno">  316</span>            <span class="keywordflow">if</span> migration <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.graph.nodes:</div>
<div class="line"><span class="lineno">  317</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  318</span>            <span class="keywordflow">for</span> parent <span class="keywordflow">in</span> self.graph.node_map[migration].parents:</div>
<div class="line"><span class="lineno">  319</span>                <span class="keywordflow">if</span> parent <span class="keywordflow">not</span> <span class="keywordflow">in</span> applied:</div>
<div class="line"><span class="lineno">  320</span>                    <span class="comment"># Skip unapplied squashed migrations that have all of their</span></div>
<div class="line"><span class="lineno">  321</span>                    <span class="comment"># `replaces` applied.</span></div>
<div class="line"><span class="lineno">  322</span>                    <span class="keywordflow">if</span> parent <span class="keywordflow">in</span> self.replacements:</div>
<div class="line"><span class="lineno">  323</span>                        <span class="keywordflow">if</span> all(</div>
<div class="line"><span class="lineno">  324</span>                            m <span class="keywordflow">in</span> applied <span class="keywordflow">for</span> m <span class="keywordflow">in</span> self.replacements[parent].replaces</div>
<div class="line"><span class="lineno">  325</span>                        ):</div>
<div class="line"><span class="lineno">  326</span>                            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  327</span>                    <span class="keywordflow">raise</span> InconsistentMigrationHistory(</div>
<div class="line"><span class="lineno">  328</span>                        <span class="stringliteral">&quot;Migration {}.{} is applied before its dependency &quot;</span></div>
<div class="line"><span class="lineno">  329</span>                        <span class="stringliteral">&quot;{}.{} on database &#39;{}&#39;.&quot;</span>.format(</div>
<div class="line"><span class="lineno">  330</span>                            migration[0],</div>
<div class="line"><span class="lineno">  331</span>                            migration[1],</div>
<div class="line"><span class="lineno">  332</span>                            parent[0],</div>
<div class="line"><span class="lineno">  333</span>                            parent[1],</div>
<div class="line"><span class="lineno">  334</span>                            connection.alias,</div>
<div class="line"><span class="lineno">  335</span>                        )</div>
<div class="line"><span class="lineno">  336</span>                    )</div>
<div class="line"><span class="lineno">  337</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00238">graph</a>, and <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00239">replacements</a>.</p>

</div>
</div>
<a id="a41824669029aa2b625b86c6247561826" name="a41824669029aa2b625b86c6247561826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41824669029aa2b625b86c6247561826">&#9670;&#160;</a></span>check_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.check_key </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>current_app</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00169">169</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  169</span>    <span class="keyword">def </span>check_key(self, key, current_app):</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">if</span> (key[1] != <span class="stringliteral">&quot;__first__&quot;</span> <span class="keywordflow">and</span> key[1] != <span class="stringliteral">&quot;__latest__&quot;</span>) <span class="keywordflow">or</span> key <span class="keywordflow">in</span> self.graph:</div>
<div class="line"><span class="lineno">  171</span>            <span class="keywordflow">return</span> key</div>
<div class="line"><span class="lineno">  172</span>        <span class="comment"># Special-case __first__, which means &quot;the first migration&quot; for</span></div>
<div class="line"><span class="lineno">  173</span>        <span class="comment"># migrated apps, and is ignored for unmigrated apps. It allows</span></div>
<div class="line"><span class="lineno">  174</span>        <span class="comment"># makemigrations to declare dependencies on apps before they even have</span></div>
<div class="line"><span class="lineno">  175</span>        <span class="comment"># migrations.</span></div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> key[0] == current_app:</div>
<div class="line"><span class="lineno">  177</span>            <span class="comment"># Ignore __first__ references to the same app (#22325)</span></div>
<div class="line"><span class="lineno">  178</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span> key[0] <span class="keywordflow">in</span> self.unmigrated_apps:</div>
<div class="line"><span class="lineno">  180</span>            <span class="comment"># This app isn&#39;t migrated, but something depends on it.</span></div>
<div class="line"><span class="lineno">  181</span>            <span class="comment"># The models will get auto-added into the state, though</span></div>
<div class="line"><span class="lineno">  182</span>            <span class="comment"># so we&#39;re fine.</span></div>
<div class="line"><span class="lineno">  183</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordflow">if</span> key[0] <span class="keywordflow">in</span> self.migrated_apps:</div>
<div class="line"><span class="lineno">  185</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  186</span>                <span class="keywordflow">if</span> key[1] == <span class="stringliteral">&quot;__first__&quot;</span>:</div>
<div class="line"><span class="lineno">  187</span>                    <span class="keywordflow">return</span> self.graph.root_nodes(key[0])[0]</div>
<div class="line"><span class="lineno">  188</span>                <span class="keywordflow">else</span>:  <span class="comment"># &quot;__latest__&quot;</span></div>
<div class="line"><span class="lineno">  189</span>                    <span class="keywordflow">return</span> self.graph.leaf_nodes(key[0])[0]</div>
<div class="line"><span class="lineno">  190</span>            <span class="keywordflow">except</span> IndexError:</div>
<div class="line"><span class="lineno">  191</span>                <span class="keywordflow">if</span> self.ignore_no_migrations:</div>
<div class="line"><span class="lineno">  192</span>                    <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  193</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  194</span>                    <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  195</span>                        <span class="stringliteral">&quot;Dependency on app with no migrations: %s&quot;</span> % key[0]</div>
<div class="line"><span class="lineno">  196</span>                    )</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Dependency on unknown app: %s&quot;</span> % key[0])</div>
<div class="line"><span class="lineno">  198</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00238">graph</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00055">ignore_no_migrations</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00077">migrated_apps</a>, and <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00076">unmigrated_apps</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00209">add_external_dependencies()</a>.</p>

</div>
</div>
<a id="a7eb6541a9af57a1c6ee39da3da900277" name="a7eb6541a9af57a1c6ee39da3da900277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb6541a9af57a1c6ee39da3da900277">&#9670;&#160;</a></span>collect_sql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.collect_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>plan</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Take a migration plan and return a list of collected SQL statements
that represent the best-efforts version of that plan.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00365">365</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  365</span>    <span class="keyword">def </span>collect_sql(self, plan):</div>
<div class="line"><span class="lineno">  366</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">        Take a migration plan and return a list of collected SQL statements</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">        that represent the best-efforts version of that plan.</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  370</span>        statements = []</div>
<div class="line"><span class="lineno">  371</span>        state = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">for</span> migration, backwards <span class="keywordflow">in</span> plan:</div>
<div class="line"><span class="lineno">  373</span>            <span class="keyword">with</span> self.connection.schema_editor(</div>
<div class="line"><span class="lineno">  374</span>                collect_sql=<span class="keyword">True</span>, atomic=migration.atomic</div>
<div class="line"><span class="lineno">  375</span>            ) <span class="keyword">as</span> schema_editor:</div>
<div class="line"><span class="lineno">  376</span>                <span class="keywordflow">if</span> state <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  377</span>                    state = self.project_state(</div>
<div class="line"><span class="lineno">  378</span>                        (migration.app_label, migration.name), at_end=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  379</span>                    )</div>
<div class="line"><span class="lineno">  380</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> backwards:</div>
<div class="line"><span class="lineno">  381</span>                    state = migration.apply(state, schema_editor, collect_sql=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  382</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  383</span>                    state = migration.unapply(state, schema_editor, collect_sql=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  384</span>            statements.extend(schema_editor.collected_sql)</div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordflow">return</span> statements</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="contrib_2gis_2db_2backends_2base_2operations_8py_source.html#l00190">django.contrib.gis.db.backends.base.operations.BaseSpatialOperations.connection</a>, <a class="el" href="contrib_2gis_2db_2backends_2mysql_2operations_8py_source.html#l00114">django.contrib.gis.db.backends.mysql.operations.MySQLOperations.connection</a>, <a class="el" href="contrib_2gis_2db_2backends_2oracle_2operations_8py_source.html#l00183">django.contrib.gis.db.backends.oracle.operations.OracleOperations.connection</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2postgis_2base_8py_source.html#l00123">django.contrib.gis.db.backends.postgis.base.DatabaseWrapper.connection</a>, <a class="el" href="contrib_2gis_2db_2backends_2spatialite_2operations_8py_source.html#l00134">django.contrib.gis.db.backends.spatialite.operations.SpatiaLiteOperations.connection</a>, <a class="el" href="smtp_8py_source.html#l00052">django.core.mail.backends.smtp.EmailBackend.connection</a>, <a class="el" href="django_2core_2mail_2message_8py_source.html#l00252">django.core.mail.message.EmailMessage.connection</a>, <a class="el" href="django_2db_2backends_2base_2base_8py_source.html#l00056">django.db.backends.base.base.BaseDatabaseWrapper.connection</a>, <a class="el" href="db_2backends_2base_2client_8py_source.html#l00014">django.db.backends.base.client.BaseDatabaseClient.connection</a>, <a class="el" href="base_2creation_8py_source.html#l00024">django.db.backends.base.creation.BaseDatabaseCreation.connection</a>, <a class="el" href="django_2db_2backends_2base_2features_8py_source.html#l00393">django.db.backends.base.features.BaseDatabaseFeatures.connection</a>, <a class="el" href="db_2backends_2base_2introspection_8py_source.html#l00020">django.db.backends.base.introspection.BaseDatabaseIntrospection.connection</a>, <a class="el" href="db_2backends_2base_2operations_8py_source.html#l00062">django.db.backends.base.operations.BaseDatabaseOperations.connection</a>, <a class="el" href="db_2backends_2base_2schema_8py_source.html#l00149">django.db.backends.base.schema.BaseDatabaseSchemaEditor.connection</a>, <a class="el" href="base_2validation_8py_source.html#l00005">django.db.backends.base.validation.BaseDatabaseValidation.connection</a>, <a class="el" href="django_2db_2backends_2oracle_2base_8py_source.html#l00305">django.db.backends.oracle.base.DatabaseWrapper.connection</a>, <a class="el" href="django_2db_2backends_2postgresql_2base_8py_source.html#l00349">django.db.backends.postgresql.base.DatabaseWrapper.connection</a>, <a class="el" href="db_2backends_2postgresql_2operations_8py_source.html#l00076">django.db.backends.postgresql.operations.DatabaseOperations.connection</a>, <a class="el" href="db_2backends_2postgresql_2schema_8py_source.html#l00070">django.db.backends.postgresql.schema.DatabaseSchemaEditor.connection</a>, <a class="el" href="executor_8py_source.html#l00017">django.db.migrations.executor.MigrationExecutor.connection</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00052">connection</a>, and <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00354">project_state()</a>.</p>

</div>
</div>
<a id="a8828bfac13ec67512d329b6b7d6cca03" name="a8828bfac13ec67512d329b6b7d6cca03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8828bfac13ec67512d329b6b7d6cca03">&#9670;&#160;</a></span>detect_conflicts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.detect_conflicts </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Look through the loaded graph and detect any conflicts - apps
with more than one leaf migration. Return a dict of the app labels
that conflict with the migration names that conflict.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00338">338</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  338</span>    <span class="keyword">def </span>detect_conflicts(self):</div>
<div class="line"><span class="lineno">  339</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">        Look through the loaded graph and detect any conflicts - apps</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">        with more than one leaf migration. Return a dict of the app labels</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">        that conflict with the migration names that conflict.</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  344</span>        seen_apps = {}</div>
<div class="line"><span class="lineno">  345</span>        conflicting_apps = set()</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">for</span> app_label, migration_name <span class="keywordflow">in</span> self.graph.leaf_nodes():</div>
<div class="line"><span class="lineno">  347</span>            <span class="keywordflow">if</span> app_label <span class="keywordflow">in</span> seen_apps:</div>
<div class="line"><span class="lineno">  348</span>                conflicting_apps.add(app_label)</div>
<div class="line"><span class="lineno">  349</span>            seen_apps.setdefault(app_label, set()).add(migration_name)</div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">return</span> {</div>
<div class="line"><span class="lineno">  351</span>            app_label: sorted(seen_apps[app_label]) <span class="keywordflow">for</span> app_label <span class="keywordflow">in</span> conflicting_apps</div>
<div class="line"><span class="lineno">  352</span>        }</div>
<div class="line"><span class="lineno">  353</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00238">graph</a>.</p>

</div>
</div>
<a id="a0c58411eb2099e26a2d002e62f379807" name="a0c58411eb2099e26a2d002e62f379807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c58411eb2099e26a2d002e62f379807">&#9670;&#160;</a></span>get_migration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.get_migration </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app_label</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name_prefix</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the named migration or raise NodeNotFoundError.</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00141">141</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  141</span>    <span class="keyword">def </span>get_migration(self, app_label, name_prefix):</div>
<div class="line"><span class="lineno">  142</span>        <span class="stringliteral">&quot;&quot;&quot;Return the named migration or raise NodeNotFoundError.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">return</span> self.graph.nodes[app_label, name_prefix]</div>
<div class="line"><span class="lineno">  144</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00238">graph</a>.</p>

</div>
</div>
<a id="a647c158d483c511ef2eaf30e54571cdb" name="a647c158d483c511ef2eaf30e54571cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a647c158d483c511ef2eaf30e54571cdb">&#9670;&#160;</a></span>get_migration_by_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.get_migration_by_prefix </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app_label</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name_prefix</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the migration(s) which match the given app label and name_prefix.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00145">145</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  145</span>    <span class="keyword">def </span>get_migration_by_prefix(self, app_label, name_prefix):</div>
<div class="line"><span class="lineno">  146</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">        Return the migration(s) which match the given app label and name_prefix.</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  149</span>        <span class="comment"># Do the search</span></div>
<div class="line"><span class="lineno">  150</span>        results = []</div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">for</span> migration_app_label, migration_name <span class="keywordflow">in</span> self.disk_migrations:</div>
<div class="line"><span class="lineno">  152</span>            <span class="keywordflow">if</span> migration_app_label == app_label <span class="keywordflow">and</span> migration_name.startswith(</div>
<div class="line"><span class="lineno">  153</span>                name_prefix</div>
<div class="line"><span class="lineno">  154</span>            ):</div>
<div class="line"><span class="lineno">  155</span>                results.append((migration_app_label, migration_name))</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">if</span> len(results) &gt; 1:</div>
<div class="line"><span class="lineno">  157</span>            <span class="keywordflow">raise</span> AmbiguityError(</div>
<div class="line"><span class="lineno">  158</span>                <span class="stringliteral">&quot;There is more than one migration for &#39;%s&#39; with the prefix &#39;%s&#39;&quot;</span></div>
<div class="line"><span class="lineno">  159</span>                % (app_label, name_prefix)</div>
<div class="line"><span class="lineno">  160</span>            )</div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> results:</div>
<div class="line"><span class="lineno">  162</span>            <span class="keywordflow">raise</span> KeyError(</div>
<div class="line"><span class="lineno">  163</span>                f<span class="stringliteral">&quot;There is no migration for &#39;{app_label}&#39; with the prefix &quot;</span></div>
<div class="line"><span class="lineno">  164</span>                f<span class="stringliteral">&quot;&#39;{name_prefix}&#39;&quot;</span></div>
<div class="line"><span class="lineno">  165</span>            )</div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">return</span> self.disk_migrations[results[0]]</div>
<div class="line"><span class="lineno">  168</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00053">disk_migrations</a>.</p>

</div>
</div>
<a id="a6f740c666b56e85572f2f7a37a016991" name="a6f740c666b56e85572f2f7a37a016991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f740c666b56e85572f2f7a37a016991">&#9670;&#160;</a></span>load_disk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.load_disk </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load the migrations from all INSTALLED_APPS from disk.</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00073">73</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>    <span class="keyword">def </span>load_disk(self):</div>
<div class="line"><span class="lineno">   74</span>        <span class="stringliteral">&quot;&quot;&quot;Load the migrations from all INSTALLED_APPS from disk.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   75</span>        self.disk_migrations = {}</div>
<div class="line"><span class="lineno">   76</span>        self.unmigrated_apps = set()</div>
<div class="line"><span class="lineno">   77</span>        self.migrated_apps = set()</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">for</span> app_config <span class="keywordflow">in</span> apps.get_app_configs():</div>
<div class="line"><span class="lineno">   79</span>            <span class="comment"># Get the migrations module directory</span></div>
<div class="line"><span class="lineno">   80</span>            module_name, explicit = self.migrations_module(app_config.label)</div>
<div class="line"><span class="lineno">   81</span>            <span class="keywordflow">if</span> module_name <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   82</span>                self.unmigrated_apps.add(app_config.label)</div>
<div class="line"><span class="lineno">   83</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">   84</span>            was_loaded = module_name <span class="keywordflow">in</span> sys.modules</div>
<div class="line"><span class="lineno">   85</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   86</span>                module = import_module(module_name)</div>
<div class="line"><span class="lineno">   87</span>            <span class="keywordflow">except</span> ModuleNotFoundError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">   88</span>                <span class="keywordflow">if</span> (explicit <span class="keywordflow">and</span> self.ignore_no_migrations) <span class="keywordflow">or</span> (</div>
<div class="line"><span class="lineno">   89</span>                    <span class="keywordflow">not</span> explicit <span class="keywordflow">and</span> MIGRATIONS_MODULE_NAME <span class="keywordflow">in</span> e.name.split(<span class="stringliteral">&quot;.&quot;</span>)</div>
<div class="line"><span class="lineno">   90</span>                ):</div>
<div class="line"><span class="lineno">   91</span>                    self.unmigrated_apps.add(app_config.label)</div>
<div class="line"><span class="lineno">   92</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">   93</span>                <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   95</span>                <span class="comment"># Module is not a package (e.g. migrations.py).</span></div>
<div class="line"><span class="lineno">   96</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(module, <span class="stringliteral">&quot;__path__&quot;</span>):</div>
<div class="line"><span class="lineno">   97</span>                    self.unmigrated_apps.add(app_config.label)</div>
<div class="line"><span class="lineno">   98</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">   99</span>                <span class="comment"># Empty directories are namespaces. Namespace packages have no</span></div>
<div class="line"><span class="lineno">  100</span>                <span class="comment"># __file__ and don&#39;t use a list for __path__. See</span></div>
<div class="line"><span class="lineno">  101</span>                <span class="comment"># https://docs.python.org/3/reference/import.html#namespace-packages</span></div>
<div class="line"><span class="lineno">  102</span>                <span class="keywordflow">if</span> getattr(module, <span class="stringliteral">&quot;__file__&quot;</span>, <span class="keywordtype">None</span>) <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> isinstance(</div>
<div class="line"><span class="lineno">  103</span>                    module.__path__, list</div>
<div class="line"><span class="lineno">  104</span>                ):</div>
<div class="line"><span class="lineno">  105</span>                    self.unmigrated_apps.add(app_config.label)</div>
<div class="line"><span class="lineno">  106</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  107</span>                <span class="comment"># Force a reload if it&#39;s already loaded (tests need this)</span></div>
<div class="line"><span class="lineno">  108</span>                <span class="keywordflow">if</span> was_loaded:</div>
<div class="line"><span class="lineno">  109</span>                    reload(module)</div>
<div class="line"><span class="lineno">  110</span>            self.migrated_apps.add(app_config.label)</div>
<div class="line"><span class="lineno">  111</span>            migration_names = {</div>
<div class="line"><span class="lineno">  112</span>                name</div>
<div class="line"><span class="lineno">  113</span>                <span class="keywordflow">for</span> _, name, is_pkg <span class="keywordflow">in</span> pkgutil.iter_modules(module.__path__)</div>
<div class="line"><span class="lineno">  114</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> is_pkg <span class="keywordflow">and</span> name[0] <span class="keywordflow">not</span> <span class="keywordflow">in</span> <span class="stringliteral">&quot;_~&quot;</span></div>
<div class="line"><span class="lineno">  115</span>            }</div>
<div class="line"><span class="lineno">  116</span>            <span class="comment"># Load migrations</span></div>
<div class="line"><span class="lineno">  117</span>            <span class="keywordflow">for</span> migration_name <span class="keywordflow">in</span> migration_names:</div>
<div class="line"><span class="lineno">  118</span>                migration_path = <span class="stringliteral">&quot;%s.%s&quot;</span> % (module_name, migration_name)</div>
<div class="line"><span class="lineno">  119</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  120</span>                    migration_module = import_module(migration_path)</div>
<div class="line"><span class="lineno">  121</span>                <span class="keywordflow">except</span> ImportError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  122</span>                    <span class="keywordflow">if</span> <span class="stringliteral">&quot;bad magic number&quot;</span> <span class="keywordflow">in</span> str(e):</div>
<div class="line"><span class="lineno">  123</span>                        <span class="keywordflow">raise</span> ImportError(</div>
<div class="line"><span class="lineno">  124</span>                            <span class="stringliteral">&quot;Couldn&#39;t import %r as it appears to be a stale &quot;</span></div>
<div class="line"><span class="lineno">  125</span>                            <span class="stringliteral">&quot;.pyc file.&quot;</span> % migration_path</div>
<div class="line"><span class="lineno">  126</span>                        ) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  127</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  128</span>                        <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  129</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(migration_module, <span class="stringliteral">&quot;Migration&quot;</span>):</div>
<div class="line"><span class="lineno">  130</span>                    <span class="keywordflow">raise</span> BadMigrationError(</div>
<div class="line"><span class="lineno">  131</span>                        <span class="stringliteral">&quot;Migration %s in app %s has no Migration class&quot;</span></div>
<div class="line"><span class="lineno">  132</span>                        % (migration_name, app_config.label)</div>
<div class="line"><span class="lineno">  133</span>                    )</div>
<div class="line"><span class="lineno">  134</span>                self.disk_migrations[app_config.label, migration_name] = (</div>
<div class="line"><span class="lineno">  135</span>                    migration_module.Migration(</div>
<div class="line"><span class="lineno">  136</span>                        migration_name,</div>
<div class="line"><span class="lineno">  137</span>                        app_config.label,</div>
<div class="line"><span class="lineno">  138</span>                    )</div>
<div class="line"><span class="lineno">  139</span>                )</div>
<div class="line"><span class="lineno">  140</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00053">disk_migrations</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00222">build_graph()</a>.</p>

</div>
</div>
<a id="a644cdf4c7b215e1efb448ab257cf6ce6" name="a644cdf4c7b215e1efb448ab257cf6ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644cdf4c7b215e1efb448ab257cf6ce6">&#9670;&#160;</a></span>migrations_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.migrations_module </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cls</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app_label</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the path to the migrations module for the specified app_label
and a boolean indicating if the module is specified in
settings.MIGRATION_MODULE.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00061">61</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>    <span class="keyword">def </span>migrations_module(cls, app_label):</div>
<div class="line"><span class="lineno">   62</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">        Return the path to the migrations module for the specified app_label</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">        and a boolean indicating if the module is specified in</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">        settings.MIGRATION_MODULE.</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   67</span>        <span class="keywordflow">if</span> app_label <span class="keywordflow">in</span> settings.MIGRATION_MODULES:</div>
<div class="line"><span class="lineno">   68</span>            <span class="keywordflow">return</span> settings.MIGRATION_MODULES[app_label], <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   69</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   70</span>            app_package_name = apps.get_app_config(app_label).name</div>
<div class="line"><span class="lineno">   71</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;%s.%s&quot;</span> % (app_package_name, MIGRATIONS_MODULE_NAME), <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   72</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8faf34a2f3e1388ffb7791d1ea8fa0be" name="a8faf34a2f3e1388ffb7791d1ea8fa0be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8faf34a2f3e1388ffb7791d1ea8fa0be">&#9670;&#160;</a></span>project_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.project_state </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>nodes</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>at_end</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a ProjectState object representing the most recent state
that the loaded migrations represent.

See graph.make_state() for the meaning of "nodes" and "at_end".
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00354">354</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  354</span>    <span class="keyword">def </span>project_state(self, nodes=None, at_end=True):</div>
<div class="line"><span class="lineno">  355</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">        Return a ProjectState object representing the most recent state</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">        that the loaded migrations represent.</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">        See graph.make_state() for the meaning of &quot;nodes&quot; and &quot;at_end&quot;.</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">return</span> self.graph.make_state(</div>
<div class="line"><span class="lineno">  362</span>            nodes=nodes, at_end=at_end, real_apps=self.unmigrated_apps</div>
<div class="line"><span class="lineno">  363</span>        )</div>
<div class="line"><span class="lineno">  364</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00238">graph</a>, and <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00076">unmigrated_apps</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00365">collect_sql()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a418547b8fd0e16cff4fadf237dc46739" name="a418547b8fd0e16cff4fadf237dc46739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a418547b8fd0e16cff4fadf237dc46739">&#9670;&#160;</a></span>applied_migrations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict django.db.migrations.loader.MigrationLoader.applied_migrations = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00054">54</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00222">build_graph()</a>.</p>

</div>
</div>
<a id="a7ebd0836b1ad495a4ff262c74ad1426f" name="a7ebd0836b1ad495a4ff262c74ad1426f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ebd0836b1ad495a4ff262c74ad1426f">&#9670;&#160;</a></span>connection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.connection = connection</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00052">52</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00725">django.test.utils.CaptureQueriesContext.__exit__()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00106">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.__getattr__()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l00316">django.db.models.sql.compiler.SQLCompiler._order_by_pairs()</a>, <a class="el" href="urllib3_2contrib_2pyopenssl_8py_source.html#l00378">urllib3.contrib.pyopenssl.WrappedSocket._real_close()</a>, <a class="el" href="pip_2__vendor_2urllib3_2contrib_2pyopenssl_8py_source.html#l00351">pip._vendor.urllib3.contrib.pyopenssl.WrappedSocket._send_until_done()</a>, <a class="el" href="urllib3_2contrib_2pyopenssl_8py_source.html#l00350">urllib3.contrib.pyopenssl.WrappedSocket._send_until_done()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01505">django.db.models.sql.compiler.SQLCompiler.apply_converters()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l00736">django.db.models.sql.compiler.SQLCompiler.as_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01906">django.db.models.sql.compiler.SQLDeleteCompiler.as_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01745">django.db.models.sql.compiler.SQLInsertCompiler.as_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01932">django.db.models.sql.compiler.SQLUpdateCompiler.as_sql()</a>, <a class="el" href="backends_2mysql_2compiler_8py_source.html#l00007">django.db.backends.mysql.compiler.SQLCompiler.as_subquery_condition()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01610">django.db.models.sql.compiler.SQLCompiler.as_subquery_condition()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00222">build_graph()</a>, <a class="el" href="pip_2__vendor_2urllib3_2contrib_2pyopenssl_8py_source.html#l00374">pip._vendor.urllib3.contrib.pyopenssl.WrappedSocket.close()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l00197">django.db.models.sql.compiler.SQLCompiler.collapse_group_by()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00365">collect_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l00552">django.db.models.sql.compiler.SQLCompiler.compile()</a>, <a class="el" href="testcases_8py_source.html#l00288">django.test.testcases.SimpleTestCase.ensure_connection_patch_method()</a>, <a class="el" href="recorder_8py_source.html#l00069">django.db.migrations.recorder.MigrationRecorder.ensure_schema()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01546">django.db.models.sql.compiler.SQLCompiler.execute_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01825">django.db.models.sql.compiler.SQLInsertCompiler.execute_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01640">django.db.models.sql.compiler.SQLInsertCompiler.field_as_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l00560">django.db.models.sql.compiler.SQLCompiler.get_combinator_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01495">django.db.models.sql.compiler.SQLCompiler.get_converters()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01013">django.db.models.sql.compiler.SQLCompiler.get_distinct()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l00094">django.db.models.sql.compiler.SQLCompiler.get_group_by()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l00640">django.db.models.sql.compiler.SQLCompiler.get_qualify_sql()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01389">django.db.models.sql.compiler.SQLCompiler.get_select_for_update_of_arguments()</a>, <a class="el" href="pip_2__vendor_2urllib3_2contrib_2pyopenssl_8py_source.html#l00384">pip._vendor.urllib3.contrib.pyopenssl.WrappedSocket.getpeercert()</a>, <a class="el" href="urllib3_2contrib_2pyopenssl_8py_source.html#l00386">urllib3.contrib.pyopenssl.WrappedSocket.getpeercert()</a>, <a class="el" href="recorder_8py_source.html#l00056">django.db.migrations.recorder.MigrationRecorder.has_table()</a>, <a class="el" href="recorder_8py_source.html#l00053">django.db.migrations.recorder.MigrationRecorder.migration_qs()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l02017">django.db.models.sql.compiler.SQLUpdateCompiler.pre_sql_setup()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l01672">django.db.models.sql.compiler.SQLInsertCompiler.prepare_value()</a>, <a class="el" href="models_2sql_2compiler_8py_source.html#l00530">django.db.models.sql.compiler.SQLCompiler.quote_name_unless_alias()</a>, <a class="el" href="pip_2__vendor_2urllib3_2contrib_2pyopenssl_8py_source.html#l00300">pip._vendor.urllib3.contrib.pyopenssl.WrappedSocket.recv()</a>, <a class="el" href="urllib3_2contrib_2pyopenssl_8py_source.html#l00299">urllib3.contrib.pyopenssl.WrappedSocket.recv()</a>, <a class="el" href="pip_2__vendor_2urllib3_2contrib_2pyopenssl_8py_source.html#l00325">pip._vendor.urllib3.contrib.pyopenssl.WrappedSocket.recv_into()</a>, <a class="el" href="urllib3_2contrib_2pyopenssl_8py_source.html#l00324">urllib3.contrib.pyopenssl.WrappedSocket.recv_into()</a>, <a class="el" href="urllib3_2contrib_2pyopenssl_8py_source.html#l00403">urllib3.contrib.pyopenssl.WrappedSocket.selected_alpn_protocol()</a>, <a class="el" href="utils_2log_8py_source.html#l00137">django.utils.log.AdminEmailHandler.send_mail()</a>, <a class="el" href="pip_2__vendor_2urllib3_2contrib_2pyopenssl_8py_source.html#l00370">pip._vendor.urllib3.contrib.pyopenssl.WrappedSocket.shutdown()</a>, <a class="el" href="urllib3_2contrib_2pyopenssl_8py_source.html#l00369">urllib3.contrib.pyopenssl.WrappedSocket.shutdown()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2spatialite_2features_8py_source.html#l00013">django.contrib.gis.db.backends.spatialite.features.DatabaseFeatures.supports_area_geodetic()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00062">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_bbcontains_lookup()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00091">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_collect_aggr()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00066">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_contained_lookup()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00070">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_crosses_lookup()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00078">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_dwithin_lookup()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00095">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_extent_aggr()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2mysql_2features_8py_source.html#l00019">django.contrib.gis.db.backends.mysql.features.DatabaseFeatures.supports_geometry_field_unique_index()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00099">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_make_line_aggr()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00082">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_relate_lookup()</a>, <a class="el" href="django_2contrib_2gis_2db_2backends_2base_2features_8py_source.html#l00103">django.contrib.gis.db.backends.base.features.BaseSpatialFeatures.supports_union_aggr()</a>, <a class="el" href="pip_2__vendor_2urllib3_2contrib_2pyopenssl_8py_source.html#l00398">pip._vendor.urllib3.contrib.pyopenssl.WrappedSocket.version()</a>, and <a class="el" href="urllib3_2contrib_2pyopenssl_8py_source.html#l00400">urllib3.contrib.pyopenssl.WrappedSocket.version()</a>.</p>

</div>
</div>
<a id="a358a8da87dbb6d807461c81b8d5cf924" name="a358a8da87dbb6d807461c81b8d5cf924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358a8da87dbb6d807461c81b8d5cf924">&#9670;&#160;</a></span>disk_migrations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict django.db.migrations.loader.MigrationLoader.disk_migrations = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00053">53</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00145">get_migration_by_prefix()</a>, and <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00073">load_disk()</a>.</p>

</div>
</div>
<a id="aecc80d97a4120c555b234399bca1bf3a" name="aecc80d97a4120c555b234399bca1bf3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecc80d97a4120c555b234399bca1bf3a">&#9670;&#160;</a></span>graph</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.graph = <a class="el" href="classdjango_1_1db_1_1migrations_1_1graph_1_1_migration_graph.html">MigrationGraph</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00238">238</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="pylint_2extensions_2mccabe_8py_source.html#l00109">pylint.extensions.mccabe.PathGraphingAstVisitor._append_node()</a>, <a class="el" href="pylint_2extensions_2mccabe_8py_source.html#l00121">pylint.extensions.mccabe.PathGraphingAstVisitor._subgraph()</a>, <a class="el" href="pylint_2extensions_2mccabe_8py_source.html#l00138">pylint.extensions.mccabe.PathGraphingAstVisitor._subgraph_parse()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00209">add_external_dependencies()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00199">add_internal_dependencies()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00307">check_consistent_history()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00169">check_key()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00338">detect_conflicts()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00141">get_migration()</a>, <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00354">project_state()</a>, and <a class="el" href="pylint_2extensions_2mccabe_8py_source.html#l00074">pylint.extensions.mccabe.PathGraphingAstVisitor.visitFunctionDef()</a>.</p>

</div>
</div>
<a id="a420cb327d5916a385a2171fd42a60a8f" name="a420cb327d5916a385a2171fd42a60a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420cb327d5916a385a2171fd42a60a8f">&#9670;&#160;</a></span>ignore_no_migrations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.ignore_no_migrations = ignore_no_migrations</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00055">55</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00169">check_key()</a>.</p>

</div>
</div>
<a id="a2ff12cf467521abae120f19aafbf17d5" name="a2ff12cf467521abae120f19aafbf17d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff12cf467521abae120f19aafbf17d5">&#9670;&#160;</a></span>migrated_apps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.migrated_apps = set()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00077">77</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00169">check_key()</a>.</p>

</div>
</div>
<a id="a5ed9767ce1f48d3945cf4e75782c1c9e" name="a5ed9767ce1f48d3945cf4e75782c1c9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed9767ce1f48d3945cf4e75782c1c9e">&#9670;&#160;</a></span>replace_migrations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.replace_migrations = replace_migrations</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00056">56</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

</div>
</div>
<a id="a9bc7a26a5752f1e93befdd54d9eeca3a" name="a9bc7a26a5752f1e93befdd54d9eeca3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bc7a26a5752f1e93befdd54d9eeca3a">&#9670;&#160;</a></span>replacements</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict django.db.migrations.loader.MigrationLoader.replacements = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00239">239</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00307">check_consistent_history()</a>.</p>

</div>
</div>
<a id="ac5e5251f8a5a98c011f9c6513755ffb1" name="ac5e5251f8a5a98c011f9c6513755ffb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5e5251f8a5a98c011f9c6513755ffb1">&#9670;&#160;</a></span>unmigrated_apps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.db.migrations.loader.MigrationLoader.unmigrated_apps = set()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00076">76</a> of file <a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00169">check_key()</a>, and <a class="el" href="django_2db_2migrations_2loader_8py_source.html#l00354">project_state()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>project/ENV/Lib/site-packages/django/db/migrations/<a class="el" href="django_2db_2migrations_2loader_8py_source.html">loader.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedjango.html">django</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1db.html">db</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1db_1_1migrations.html">migrations</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1db_1_1migrations_1_1loader.html">loader</a></li><li class="navelem"><a class="el" href="classdjango_1_1db_1_1migrations_1_1loader_1_1_migration_loader.html">MigrationLoader</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
