<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: pip._vendor.packaging.metadata Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacepip_1_1__vendor_1_1packaging_1_1metadata.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pip._vendor.packaging.metadata Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__vendor_1_1packaging_1_1metadata_1_1___validator.html">_Validator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__vendor_1_1packaging_1_1metadata_1_1_exception_group.html">ExceptionGroup</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__vendor_1_1packaging_1_1metadata_1_1_invalid_metadata.html">InvalidMetadata</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__vendor_1_1packaging_1_1metadata_1_1_metadata.html">Metadata</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__vendor_1_1packaging_1_1metadata_1_1_raw_metadata.html">RawMetadata</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab61385fb27727b5a5d488e10d9babac1" id="r_ab61385fb27727b5a5d488e10d9babac1"><td class="memItemLeft" align="right" valign="top">list[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab61385fb27727b5a5d488e10d9babac1">_parse_keywords</a> (str data)</td></tr>
<tr class="separator:ab61385fb27727b5a5d488e10d9babac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47af1543dbe3f5982ba197dae7ba3b04" id="r_a47af1543dbe3f5982ba197dae7ba3b04"><td class="memItemLeft" align="right" valign="top">dict[str, str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47af1543dbe3f5982ba197dae7ba3b04">_parse_project_urls</a> (list[str] data)</td></tr>
<tr class="separator:a47af1543dbe3f5982ba197dae7ba3b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14418c727448216c91f4047e60bcd7e6" id="r_a14418c727448216c91f4047e60bcd7e6"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14418c727448216c91f4047e60bcd7e6">_get_payload</a> (email.message.Message msg, bytes|str source)</td></tr>
<tr class="separator:a14418c727448216c91f4047e60bcd7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988bdd9b75feb2f40d82a8ed7b107c01" id="r_a988bdd9b75feb2f40d82a8ed7b107c01"><td class="memItemLeft" align="right" valign="top">tuple[<a class="el" href="classpip_1_1__vendor_1_1packaging_1_1metadata_1_1_raw_metadata.html">RawMetadata</a>, dict[str, list[str]]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a988bdd9b75feb2f40d82a8ed7b107c01">parse_email</a> (bytes|str data)</td></tr>
<tr class="separator:a988bdd9b75feb2f40d82a8ed7b107c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac66c2abccd872a8ac5fcad1a02359375" id="r_ac66c2abccd872a8ac5fcad1a02359375"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac66c2abccd872a8ac5fcad1a02359375">T</a> = typing.TypeVar(&quot;T&quot;)</td></tr>
<tr class="separator:ac66c2abccd872a8ac5fcad1a02359375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe86600f3b96fa64da5746ac9527149a" id="r_afe86600f3b96fa64da5746ac9527149a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe86600f3b96fa64da5746ac9527149a">ExceptionGroup</a></td></tr>
<tr class="separator:afe86600f3b96fa64da5746ac9527149a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c8daacbee26d2de4429976d0859d96" id="r_a56c8daacbee26d2de4429976d0859d96"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56c8daacbee26d2de4429976d0859d96">_STRING_FIELDS</a></td></tr>
<tr class="separator:a56c8daacbee26d2de4429976d0859d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7443694c540526e26a6d7b056e4b9d66" id="r_a7443694c540526e26a6d7b056e4b9d66"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7443694c540526e26a6d7b056e4b9d66">_LIST_FIELDS</a></td></tr>
<tr class="separator:a7443694c540526e26a6d7b056e4b9d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32a8f002e14738ab45b89c87a0d3c17" id="r_ae32a8f002e14738ab45b89c87a0d3c17"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae32a8f002e14738ab45b89c87a0d3c17">_DICT_FIELDS</a></td></tr>
<tr class="separator:ae32a8f002e14738ab45b89c87a0d3c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c44f30061836c6de04756ceeee180f4" id="r_a3c44f30061836c6de04756ceeee180f4"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c44f30061836c6de04756ceeee180f4">_EMAIL_TO_RAW_MAPPING</a></td></tr>
<tr class="separator:a3c44f30061836c6de04756ceeee180f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e7f9266d2477a7275c25a31a4a7e59" id="r_a20e7f9266d2477a7275c25a31a4a7e59"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20e7f9266d2477a7275c25a31a4a7e59">_RAW_TO_EMAIL_MAPPING</a> = {raw: email for email, raw in _EMAIL_TO_RAW_MAPPING.items()}</td></tr>
<tr class="separator:a20e7f9266d2477a7275c25a31a4a7e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf0bce3397d11a7637de3b3ca0a3a33" id="r_a1cf0bce3397d11a7637de3b3ca0a3a33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cf0bce3397d11a7637de3b3ca0a3a33">_NOT_FOUND</a> = object()</td></tr>
<tr class="separator:a1cf0bce3397d11a7637de3b3ca0a3a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4838d5c7541631d756a17fdb744ad2f" id="r_ad4838d5c7541631d756a17fdb744ad2f"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4838d5c7541631d756a17fdb744ad2f">_VALID_METADATA_VERSIONS</a> = [&quot;1.0&quot;, &quot;1.1&quot;, &quot;1.2&quot;, &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;]</td></tr>
<tr class="separator:ad4838d5c7541631d756a17fdb744ad2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3773403e46d58435ccb4a9e7239936" id="r_a6c3773403e46d58435ccb4a9e7239936"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c3773403e46d58435ccb4a9e7239936">_MetadataVersion</a> = Literal[&quot;1.0&quot;, &quot;1.1&quot;, &quot;1.2&quot;, &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;]</td></tr>
<tr class="separator:a6c3773403e46d58435ccb4a9e7239936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37fae7dbdf72e973f2a446fbd44dff12" id="r_a37fae7dbdf72e973f2a446fbd44dff12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37fae7dbdf72e973f2a446fbd44dff12">_REQUIRED_ATTRS</a> = frozenset([&quot;metadata_version&quot;, &quot;name&quot;, &quot;version&quot;])</td></tr>
<tr class="separator:a37fae7dbdf72e973f2a446fbd44dff12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a14418c727448216c91f4047e60bcd7e6" name="a14418c727448216c91f4047e60bcd7e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14418c727448216c91f4047e60bcd7e6">&#9670;&#160;</a></span>_get_payload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> str pip._vendor.packaging.metadata._get_payload </td>
          <td>(</td>
          <td class="paramtype">email.message.Message</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bytes | str</td>          <td class="paramname"><span class="paramname"><em>source</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get the body of the message.</pre> 
<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00214">214</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span><span class="keyword">def </span>_get_payload(msg: email.message.Message, source: bytes | str) -&gt; str:</div>
<div class="line"><span class="lineno">  215</span>    <span class="stringliteral">&quot;&quot;&quot;Get the body of the message.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  216</span>    <span class="comment"># If our source is a str, then our caller has managed encodings for us,</span></div>
<div class="line"><span class="lineno">  217</span>    <span class="comment"># and we don&#39;t need to deal with it.</span></div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">if</span> isinstance(source, str):</div>
<div class="line"><span class="lineno">  219</span>        payload: str = msg.get_payload()</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">return</span> payload</div>
<div class="line"><span class="lineno">  221</span>    <span class="comment"># If our source is a bytes, then we&#39;re managing the encoding and we need</span></div>
<div class="line"><span class="lineno">  222</span>    <span class="comment"># to deal with it.</span></div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  224</span>        bpayload: bytes = msg.get_payload(decode=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordflow">return</span> bpayload.decode(<span class="stringliteral">&quot;utf8&quot;</span>, <span class="stringliteral">&quot;strict&quot;</span>)</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">except</span> UnicodeDecodeError:</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;payload in an invalid encoding&quot;</span>)</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span><span class="comment"># The various parse_FORMAT functions here are intended to be as lenient as</span></div>
<div class="line"><span class="lineno">  232</span><span class="comment"># possible in their parsing, while still returning a correctly typed</span></div>
<div class="line"><span class="lineno">  233</span><span class="comment"># RawMetadata.</span></div>
<div class="line"><span class="lineno">  234</span><span class="comment">#</span></div>
<div class="line"><span class="lineno">  235</span><span class="comment"># To aid in this, we also generally want to do as little touching of the</span></div>
<div class="line"><span class="lineno">  236</span><span class="comment"># data as possible, except where there are possibly some historic holdovers</span></div>
<div class="line"><span class="lineno">  237</span><span class="comment"># that make valid data awkward to work with.</span></div>
<div class="line"><span class="lineno">  238</span><span class="comment">#</span></div>
<div class="line"><span class="lineno">  239</span><span class="comment"># While this is a lower level, intermediate format than our ``Metadata``</span></div>
<div class="line"><span class="lineno">  240</span><span class="comment"># class, some light touch ups can make a massive difference in usability.</span></div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span><span class="comment"># Map METADATA fields to RawMetadata.</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00276">parse_email()</a>.</p>

</div>
</div>
<a id="ab61385fb27727b5a5d488e10d9babac1" name="ab61385fb27727b5a5d488e10d9babac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab61385fb27727b5a5d488e10d9babac1">&#9670;&#160;</a></span>_parse_keywords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> list[str] pip._vendor.packaging.metadata._parse_keywords </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Split a string of comma-separate keyboards into a list of keywords.</pre> 
<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00169">169</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  169</span><span class="keyword">def </span>_parse_keywords(data: str) -&gt; list[str]:</div>
<div class="line"><span class="lineno">  170</span>    <span class="stringliteral">&quot;&quot;&quot;Split a string of comma-separate keyboards into a list of keywords.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">return</span> [k.strip() <span class="keywordflow">for</span> k <span class="keywordflow">in</span> data.split(<span class="stringliteral">&quot;,&quot;</span>)]</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00276">parse_email()</a>.</p>

</div>
</div>
<a id="a47af1543dbe3f5982ba197dae7ba3b04" name="a47af1543dbe3f5982ba197dae7ba3b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47af1543dbe3f5982ba197dae7ba3b04">&#9670;&#160;</a></span>_parse_project_urls()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> dict[str, str] pip._vendor.packaging.metadata._parse_project_urls </td>
          <td>(</td>
          <td class="paramtype">list[str]</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Parse a list of label/URL string pairings separated by a comma.</pre> 
<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00174">174</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span><span class="keyword">def </span>_parse_project_urls(data: list[str]) -&gt; dict[str, str]:</div>
<div class="line"><span class="lineno">  175</span>    <span class="stringliteral">&quot;&quot;&quot;Parse a list of label/URL string pairings separated by a comma.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  176</span>    urls = {}</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">for</span> pair <span class="keywordflow">in</span> data:</div>
<div class="line"><span class="lineno">  178</span>        <span class="comment"># Our logic is slightly tricky here as we want to try and do</span></div>
<div class="line"><span class="lineno">  179</span>        <span class="comment"># *something* reasonable with malformed data.</span></div>
<div class="line"><span class="lineno">  180</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno">  181</span>        <span class="comment"># The main thing that we have to worry about, is data that does</span></div>
<div class="line"><span class="lineno">  182</span>        <span class="comment"># not have a &#39;,&#39; at all to split the label from the Value. There</span></div>
<div class="line"><span class="lineno">  183</span>        <span class="comment"># isn&#39;t a singular right answer here, and we will fail validation</span></div>
<div class="line"><span class="lineno">  184</span>        <span class="comment"># later on (if the caller is validating) so it doesn&#39;t *really*</span></div>
<div class="line"><span class="lineno">  185</span>        <span class="comment"># matter, but since the missing value has to be an empty str</span></div>
<div class="line"><span class="lineno">  186</span>        <span class="comment"># and our return value is dict[str, str], if we let the key</span></div>
<div class="line"><span class="lineno">  187</span>        <span class="comment"># be the missing value, then they&#39;d have multiple &#39;&#39; values that</span></div>
<div class="line"><span class="lineno">  188</span>        <span class="comment"># overwrite each other in a accumulating dict.</span></div>
<div class="line"><span class="lineno">  189</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno">  190</span>        <span class="comment"># The other potentional issue is that it&#39;s possible to have the</span></div>
<div class="line"><span class="lineno">  191</span>        <span class="comment"># same label multiple times in the metadata, with no solid &quot;right&quot;</span></div>
<div class="line"><span class="lineno">  192</span>        <span class="comment"># answer with what to do in that case. As such, we&#39;ll do the only</span></div>
<div class="line"><span class="lineno">  193</span>        <span class="comment"># thing we can, which is treat the field as unparseable and add it</span></div>
<div class="line"><span class="lineno">  194</span>        <span class="comment"># to our list of unparsed fields.</span></div>
<div class="line"><span class="lineno">  195</span>        parts = [p.strip() <span class="keywordflow">for</span> p <span class="keywordflow">in</span> pair.split(<span class="stringliteral">&quot;,&quot;</span>, 1)]</div>
<div class="line"><span class="lineno">  196</span>        parts.extend([<span class="stringliteral">&quot;&quot;</span>] * (max(0, 2 - len(parts))))  <span class="comment"># Ensure 2 items</span></div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>        <span class="comment"># TODO: The spec doesn&#39;t say anything about if the keys should be</span></div>
<div class="line"><span class="lineno">  199</span>        <span class="comment">#       considered case sensitive or not... logically they should</span></div>
<div class="line"><span class="lineno">  200</span>        <span class="comment">#       be case-preserving and case-insensitive, but doing that</span></div>
<div class="line"><span class="lineno">  201</span>        <span class="comment">#       would open up more cases where we might have duplicate</span></div>
<div class="line"><span class="lineno">  202</span>        <span class="comment">#       entries.</span></div>
<div class="line"><span class="lineno">  203</span>        label, url = parts</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">if</span> label <span class="keywordflow">in</span> urls:</div>
<div class="line"><span class="lineno">  205</span>            <span class="comment"># The label already exists in our set of urls, so this field</span></div>
<div class="line"><span class="lineno">  206</span>            <span class="comment"># is unparseable, and we can just add the whole thing to our</span></div>
<div class="line"><span class="lineno">  207</span>            <span class="comment"># unparseable data and stop processing it.</span></div>
<div class="line"><span class="lineno">  208</span>            <span class="keywordflow">raise</span> KeyError(<span class="stringliteral">&quot;duplicate labels in project urls&quot;</span>)</div>
<div class="line"><span class="lineno">  209</span>        urls[label] = url</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">return</span> urls</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00276">parse_email()</a>.</p>

</div>
</div>
<a id="a988bdd9b75feb2f40d82a8ed7b107c01" name="a988bdd9b75feb2f40d82a8ed7b107c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a988bdd9b75feb2f40d82a8ed7b107c01">&#9670;&#160;</a></span>parse_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> tuple[<a class="el" href="classpip_1_1__vendor_1_1packaging_1_1metadata_1_1_raw_metadata.html">RawMetadata</a>, dict[str, list[str]]] pip._vendor.packaging.metadata.parse_email </td>
          <td>(</td>
          <td class="paramtype">bytes | str</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse a distribution's metadata stored as email headers (e.g. from ``METADATA``).

This function returns a two-item tuple of dicts. The first dict is of
recognized fields from the core metadata specification. Fields that can be
parsed and translated into Python's built-in types are converted
appropriately. All other fields are left as-is. Fields that are allowed to
appear multiple times are stored as lists.

The second dict contains all other fields from the metadata. This includes
any unrecognized fields. It also includes any fields which are expected to
be parsed into a built-in type but were not formatted appropriately. Finally,
any fields that are expected to appear only once but are repeated are
included in this dict.
</pre> 
<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00276">276</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  276</span><span class="keyword">def </span>parse_email(data: bytes | str) -&gt; tuple[RawMetadata, dict[str, list[str]]]:</div>
<div class="line"><span class="lineno">  277</span>    <span class="stringliteral">&quot;&quot;&quot;Parse a distribution&#39;s metadata stored as email headers (e.g. from ``METADATA``).</span></div>
<div class="line"><span class="lineno">  278</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">    This function returns a two-item tuple of dicts. The first dict is of</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral">    recognized fields from the core metadata specification. Fields that can be</span></div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">    parsed and translated into Python&#39;s built-in types are converted</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">    appropriately. All other fields are left as-is. Fields that are allowed to</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">    appear multiple times are stored as lists.</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">    The second dict contains all other fields from the metadata. This includes</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">    any unrecognized fields. It also includes any fields which are expected to</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">    be parsed into a built-in type but were not formatted appropriately. Finally,</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">    any fields that are expected to appear only once but are repeated are</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">    included in this dict.</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  292</span>    raw: dict[str, str | list[str] | dict[str, str]] = {}</div>
<div class="line"><span class="lineno">  293</span>    unparsed: dict[str, list[str]] = {}</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordflow">if</span> isinstance(data, str):</div>
<div class="line"><span class="lineno">  296</span>        parsed = email.parser.Parser(policy=email.policy.compat32).parsestr(data)</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  298</span>        parsed = email.parser.BytesParser(policy=email.policy.compat32).parsebytes(data)</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <span class="comment"># We have to wrap parsed.keys() in a set, because in the case of multiple</span></div>
<div class="line"><span class="lineno">  301</span>    <span class="comment"># values for a key (a list), the key will appear multiple times in the</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="comment"># list of keys, but we&#39;re avoiding that by using get_all().</span></div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">for</span> name <span class="keywordflow">in</span> frozenset(parsed.keys()):</div>
<div class="line"><span class="lineno">  304</span>        <span class="comment"># Header names in RFC are case insensitive, so we&#39;ll normalize to all</span></div>
<div class="line"><span class="lineno">  305</span>        <span class="comment"># lower case to make comparisons easier.</span></div>
<div class="line"><span class="lineno">  306</span>        name = name.lower()</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>        <span class="comment"># We use get_all() here, even for fields that aren&#39;t multiple use,</span></div>
<div class="line"><span class="lineno">  309</span>        <span class="comment"># because otherwise someone could have e.g. two Name fields, and we</span></div>
<div class="line"><span class="lineno">  310</span>        <span class="comment"># would just silently ignore it rather than doing something about it.</span></div>
<div class="line"><span class="lineno">  311</span>        headers = parsed.get_all(name) <span class="keywordflow">or</span> []</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>        <span class="comment"># The way the email module works when parsing bytes is that it</span></div>
<div class="line"><span class="lineno">  314</span>        <span class="comment"># unconditionally decodes the bytes as ascii using the surrogateescape</span></div>
<div class="line"><span class="lineno">  315</span>        <span class="comment"># handler. When you pull that data back out (such as with get_all() ),</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="comment"># it looks to see if the str has any surrogate escapes, and if it does</span></div>
<div class="line"><span class="lineno">  317</span>        <span class="comment"># it wraps it in a Header object instead of returning the string.</span></div>
<div class="line"><span class="lineno">  318</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno">  319</span>        <span class="comment"># As such, we&#39;ll look for those Header objects, and fix up the encoding.</span></div>
<div class="line"><span class="lineno">  320</span>        value = []</div>
<div class="line"><span class="lineno">  321</span>        <span class="comment"># Flag if we have run into any issues processing the headers, thus</span></div>
<div class="line"><span class="lineno">  322</span>        <span class="comment"># signalling that the data belongs in &#39;unparsed&#39;.</span></div>
<div class="line"><span class="lineno">  323</span>        valid_encoding = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">for</span> h <span class="keywordflow">in</span> headers:</div>
<div class="line"><span class="lineno">  325</span>            <span class="comment"># It&#39;s unclear if this can return more types than just a Header or</span></div>
<div class="line"><span class="lineno">  326</span>            <span class="comment"># a str, so we&#39;ll just assert here to make sure.</span></div>
<div class="line"><span class="lineno">  327</span>            <span class="keyword">assert</span> isinstance(h, (email.header.Header, str))</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>            <span class="comment"># If it&#39;s a header object, we need to do our little dance to get</span></div>
<div class="line"><span class="lineno">  330</span>            <span class="comment"># the real data out of it. In cases where there is invalid data</span></div>
<div class="line"><span class="lineno">  331</span>            <span class="comment"># we&#39;re going to end up with mojibake, but there&#39;s no obvious, good</span></div>
<div class="line"><span class="lineno">  332</span>            <span class="comment"># way around that without reimplementing parts of the Header object</span></div>
<div class="line"><span class="lineno">  333</span>            <span class="comment"># ourselves.</span></div>
<div class="line"><span class="lineno">  334</span>            <span class="comment">#</span></div>
<div class="line"><span class="lineno">  335</span>            <span class="comment"># That should be fine since, if mojibacked happens, this key is</span></div>
<div class="line"><span class="lineno">  336</span>            <span class="comment"># going into the unparsed dict anyways.</span></div>
<div class="line"><span class="lineno">  337</span>            <span class="keywordflow">if</span> isinstance(h, email.header.Header):</div>
<div class="line"><span class="lineno">  338</span>                <span class="comment"># The Header object stores it&#39;s data as chunks, and each chunk</span></div>
<div class="line"><span class="lineno">  339</span>                <span class="comment"># can be independently encoded, so we&#39;ll need to check each</span></div>
<div class="line"><span class="lineno">  340</span>                <span class="comment"># of them.</span></div>
<div class="line"><span class="lineno">  341</span>                chunks: list[tuple[bytes, str | <span class="keywordtype">None</span>]] = []</div>
<div class="line"><span class="lineno">  342</span>                <span class="keywordflow">for</span> bin, encoding <span class="keywordflow">in</span> email.header.decode_header(h):</div>
<div class="line"><span class="lineno">  343</span>                    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  344</span>                        bin.decode(<span class="stringliteral">&quot;utf8&quot;</span>, <span class="stringliteral">&quot;strict&quot;</span>)</div>
<div class="line"><span class="lineno">  345</span>                    <span class="keywordflow">except</span> UnicodeDecodeError:</div>
<div class="line"><span class="lineno">  346</span>                        <span class="comment"># Enable mojibake.</span></div>
<div class="line"><span class="lineno">  347</span>                        encoding = <span class="stringliteral">&quot;latin1&quot;</span></div>
<div class="line"><span class="lineno">  348</span>                        valid_encoding = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  349</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  350</span>                        encoding = <span class="stringliteral">&quot;utf8&quot;</span></div>
<div class="line"><span class="lineno">  351</span>                    chunks.append((bin, encoding))</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>                <span class="comment"># Turn our chunks back into a Header object, then let that</span></div>
<div class="line"><span class="lineno">  354</span>                <span class="comment"># Header object do the right thing to turn them into a</span></div>
<div class="line"><span class="lineno">  355</span>                <span class="comment"># string for us.</span></div>
<div class="line"><span class="lineno">  356</span>                value.append(str(email.header.make_header(chunks)))</div>
<div class="line"><span class="lineno">  357</span>            <span class="comment"># This is already a string, so just add it.</span></div>
<div class="line"><span class="lineno">  358</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  359</span>                value.append(h)</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>        <span class="comment"># We&#39;ve processed all of our values to get them into a list of str,</span></div>
<div class="line"><span class="lineno">  362</span>        <span class="comment"># but we may have mojibake data, in which case this is an unparsed</span></div>
<div class="line"><span class="lineno">  363</span>        <span class="comment"># field.</span></div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> valid_encoding:</div>
<div class="line"><span class="lineno">  365</span>            unparsed[name] = value</div>
<div class="line"><span class="lineno">  366</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>        raw_name = _EMAIL_TO_RAW_MAPPING.get(name)</div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">if</span> raw_name <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  370</span>            <span class="comment"># This is a bit of a weird situation, we&#39;ve encountered a key that</span></div>
<div class="line"><span class="lineno">  371</span>            <span class="comment"># we don&#39;t know what it means, so we don&#39;t know whether it&#39;s meant</span></div>
<div class="line"><span class="lineno">  372</span>            <span class="comment"># to be a list or not.</span></div>
<div class="line"><span class="lineno">  373</span>            <span class="comment">#</span></div>
<div class="line"><span class="lineno">  374</span>            <span class="comment"># Since we can&#39;t really tell one way or another, we&#39;ll just leave it</span></div>
<div class="line"><span class="lineno">  375</span>            <span class="comment"># as a list, even though it may be a single item list, because that&#39;s</span></div>
<div class="line"><span class="lineno">  376</span>            <span class="comment"># what makes the most sense for email headers.</span></div>
<div class="line"><span class="lineno">  377</span>            unparsed[name] = value</div>
<div class="line"><span class="lineno">  378</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>        <span class="comment"># If this is one of our string fields, then we&#39;ll check to see if our</span></div>
<div class="line"><span class="lineno">  381</span>        <span class="comment"># value is a list of a single item. If it is then we&#39;ll assume that</span></div>
<div class="line"><span class="lineno">  382</span>        <span class="comment"># it was emitted as a single string, and unwrap the str from inside</span></div>
<div class="line"><span class="lineno">  383</span>        <span class="comment"># the list.</span></div>
<div class="line"><span class="lineno">  384</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno">  385</span>        <span class="comment"># If it&#39;s any other kind of data, then we haven&#39;t the faintest clue</span></div>
<div class="line"><span class="lineno">  386</span>        <span class="comment"># what we should parse it as, and we have to just add it to our list</span></div>
<div class="line"><span class="lineno">  387</span>        <span class="comment"># of unparsed stuff.</span></div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordflow">if</span> raw_name <span class="keywordflow">in</span> _STRING_FIELDS <span class="keywordflow">and</span> len(value) == 1:</div>
<div class="line"><span class="lineno">  389</span>            raw[raw_name] = value[0]</div>
<div class="line"><span class="lineno">  390</span>        <span class="comment"># If this is one of our list of string fields, then we can just assign</span></div>
<div class="line"><span class="lineno">  391</span>        <span class="comment"># the value, since email *only* has strings, and our get_all() call</span></div>
<div class="line"><span class="lineno">  392</span>        <span class="comment"># above ensures that this is a list.</span></div>
<div class="line"><span class="lineno">  393</span>        <span class="keywordflow">elif</span> raw_name <span class="keywordflow">in</span> _LIST_FIELDS:</div>
<div class="line"><span class="lineno">  394</span>            raw[raw_name] = value</div>
<div class="line"><span class="lineno">  395</span>        <span class="comment"># Special Case: Keywords</span></div>
<div class="line"><span class="lineno">  396</span>        <span class="comment"># The keywords field is implemented in the metadata spec as a str,</span></div>
<div class="line"><span class="lineno">  397</span>        <span class="comment"># but it conceptually is a list of strings, and is serialized using</span></div>
<div class="line"><span class="lineno">  398</span>        <span class="comment"># &quot;, &quot;.join(keywords), so we&#39;ll do some light data massaging to turn</span></div>
<div class="line"><span class="lineno">  399</span>        <span class="comment"># this into what it logically is.</span></div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">elif</span> raw_name == <span class="stringliteral">&quot;keywords&quot;</span> <span class="keywordflow">and</span> len(value) == 1:</div>
<div class="line"><span class="lineno">  401</span>            raw[raw_name] = _parse_keywords(value[0])</div>
<div class="line"><span class="lineno">  402</span>        <span class="comment"># Special Case: Project-URL</span></div>
<div class="line"><span class="lineno">  403</span>        <span class="comment"># The project urls is implemented in the metadata spec as a list of</span></div>
<div class="line"><span class="lineno">  404</span>        <span class="comment"># specially-formatted strings that represent a key and a value, which</span></div>
<div class="line"><span class="lineno">  405</span>        <span class="comment"># is fundamentally a mapping, however the email format doesn&#39;t support</span></div>
<div class="line"><span class="lineno">  406</span>        <span class="comment"># mappings in a sane way, so it was crammed into a list of strings</span></div>
<div class="line"><span class="lineno">  407</span>        <span class="comment"># instead.</span></div>
<div class="line"><span class="lineno">  408</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno">  409</span>        <span class="comment"># We will do a little light data massaging to turn this into a map as</span></div>
<div class="line"><span class="lineno">  410</span>        <span class="comment"># it logically should be.</span></div>
<div class="line"><span class="lineno">  411</span>        <span class="keywordflow">elif</span> raw_name == <span class="stringliteral">&quot;project_urls&quot;</span>:</div>
<div class="line"><span class="lineno">  412</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  413</span>                raw[raw_name] = _parse_project_urls(value)</div>
<div class="line"><span class="lineno">  414</span>            <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  415</span>                unparsed[name] = value</div>
<div class="line"><span class="lineno">  416</span>        <span class="comment"># Nothing that we&#39;ve done has managed to parse this, so it&#39;ll just</span></div>
<div class="line"><span class="lineno">  417</span>        <span class="comment"># throw it in our unparseable data and move on.</span></div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  419</span>            unparsed[name] = value</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <span class="comment"># We need to support getting the Description from the message payload in</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="comment"># addition to getting it from the the headers. This does mean, though, there</span></div>
<div class="line"><span class="lineno">  423</span>    <span class="comment"># is the possibility of it being set both ways, in which case we put both</span></div>
<div class="line"><span class="lineno">  424</span>    <span class="comment"># in &#39;unparsed&#39; since we don&#39;t know which is right.</span></div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  426</span>        payload = _get_payload(parsed, data)</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  428</span>        unparsed.setdefault(<span class="stringliteral">&quot;description&quot;</span>, []).append(</div>
<div class="line"><span class="lineno">  429</span>            parsed.get_payload(decode=isinstance(data, bytes))</div>
<div class="line"><span class="lineno">  430</span>        )</div>
<div class="line"><span class="lineno">  431</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">if</span> payload:</div>
<div class="line"><span class="lineno">  433</span>            <span class="comment"># Check to see if we&#39;ve already got a description, if so then both</span></div>
<div class="line"><span class="lineno">  434</span>            <span class="comment"># it, and this body move to unparseable.</span></div>
<div class="line"><span class="lineno">  435</span>            <span class="keywordflow">if</span> <span class="stringliteral">&quot;description&quot;</span> <span class="keywordflow">in</span> raw:</div>
<div class="line"><span class="lineno">  436</span>                description_header = cast(str, raw.pop(<span class="stringliteral">&quot;description&quot;</span>))</div>
<div class="line"><span class="lineno">  437</span>                unparsed.setdefault(<span class="stringliteral">&quot;description&quot;</span>, []).extend(</div>
<div class="line"><span class="lineno">  438</span>                    [description_header, payload]</div>
<div class="line"><span class="lineno">  439</span>                )</div>
<div class="line"><span class="lineno">  440</span>            <span class="keywordflow">elif</span> <span class="stringliteral">&quot;description&quot;</span> <span class="keywordflow">in</span> unparsed:</div>
<div class="line"><span class="lineno">  441</span>                unparsed[<span class="stringliteral">&quot;description&quot;</span>].append(payload)</div>
<div class="line"><span class="lineno">  442</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  443</span>                raw[<span class="stringliteral">&quot;description&quot;</span>] = payload</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    <span class="comment"># We need to cast our `raw` to a metadata, because a TypedDict only support</span></div>
<div class="line"><span class="lineno">  446</span>    <span class="comment"># literal key names, but we&#39;re computing our key names on purpose, but the</span></div>
<div class="line"><span class="lineno">  447</span>    <span class="comment"># way this function is implemented, our `TypedDict` can only have valid key</span></div>
<div class="line"><span class="lineno">  448</span>    <span class="comment"># names.</span></div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordflow">return</span> cast(RawMetadata, raw), unparsed</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00214">_get_payload()</a>, <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00169">_parse_keywords()</a>, and <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00174">_parse_project_urls()</a>.</p>

<p class="reference">Referenced by <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00706">pip._vendor.packaging.metadata.Metadata.from_email()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae32a8f002e14738ab45b89c87a0d3c17" name="ae32a8f002e14738ab45b89c87a0d3c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae32a8f002e14738ab45b89c87a0d3c17">&#9670;&#160;</a></span>_DICT_FIELDS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict pip._vendor.packaging.metadata._DICT_FIELDS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;project_urls&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00164">164</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="a3c44f30061836c6de04756ceeee180f4" name="a3c44f30061836c6de04756ceeee180f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c44f30061836c6de04756ceeee180f4">&#9670;&#160;</a></span>_EMAIL_TO_RAW_MAPPING</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict pip._vendor.packaging.metadata._EMAIL_TO_RAW_MAPPING</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;author&quot;</span>: <span class="stringliteral">&quot;author&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;author-email&quot;</span>: <span class="stringliteral">&quot;author_email&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>    <span class="stringliteral">&quot;classifier&quot;</span>: <span class="stringliteral">&quot;classifiers&quot;</span>,</div>
<div class="line"><span class="lineno">    5</span>    <span class="stringliteral">&quot;description&quot;</span>: <span class="stringliteral">&quot;description&quot;</span>,</div>
<div class="line"><span class="lineno">    6</span>    <span class="stringliteral">&quot;description-content-type&quot;</span>: <span class="stringliteral">&quot;description_content_type&quot;</span>,</div>
<div class="line"><span class="lineno">    7</span>    <span class="stringliteral">&quot;download-url&quot;</span>: <span class="stringliteral">&quot;download_url&quot;</span>,</div>
<div class="line"><span class="lineno">    8</span>    <span class="stringliteral">&quot;dynamic&quot;</span>: <span class="stringliteral">&quot;dynamic&quot;</span>,</div>
<div class="line"><span class="lineno">    9</span>    <span class="stringliteral">&quot;home-page&quot;</span>: <span class="stringliteral">&quot;home_page&quot;</span>,</div>
<div class="line"><span class="lineno">   10</span>    <span class="stringliteral">&quot;keywords&quot;</span>: <span class="stringliteral">&quot;keywords&quot;</span>,</div>
<div class="line"><span class="lineno">   11</span>    <span class="stringliteral">&quot;license&quot;</span>: <span class="stringliteral">&quot;license&quot;</span>,</div>
<div class="line"><span class="lineno">   12</span>    <span class="stringliteral">&quot;maintainer&quot;</span>: <span class="stringliteral">&quot;maintainer&quot;</span>,</div>
<div class="line"><span class="lineno">   13</span>    <span class="stringliteral">&quot;maintainer-email&quot;</span>: <span class="stringliteral">&quot;maintainer_email&quot;</span>,</div>
<div class="line"><span class="lineno">   14</span>    <span class="stringliteral">&quot;metadata-version&quot;</span>: <span class="stringliteral">&quot;metadata_version&quot;</span>,</div>
<div class="line"><span class="lineno">   15</span>    <span class="stringliteral">&quot;name&quot;</span>: <span class="stringliteral">&quot;name&quot;</span>,</div>
<div class="line"><span class="lineno">   16</span>    <span class="stringliteral">&quot;obsoletes&quot;</span>: <span class="stringliteral">&quot;obsoletes&quot;</span>,</div>
<div class="line"><span class="lineno">   17</span>    <span class="stringliteral">&quot;obsoletes-dist&quot;</span>: <span class="stringliteral">&quot;obsoletes_dist&quot;</span>,</div>
<div class="line"><span class="lineno">   18</span>    <span class="stringliteral">&quot;platform&quot;</span>: <span class="stringliteral">&quot;platforms&quot;</span>,</div>
<div class="line"><span class="lineno">   19</span>    <span class="stringliteral">&quot;project-url&quot;</span>: <span class="stringliteral">&quot;project_urls&quot;</span>,</div>
<div class="line"><span class="lineno">   20</span>    <span class="stringliteral">&quot;provides&quot;</span>: <span class="stringliteral">&quot;provides&quot;</span>,</div>
<div class="line"><span class="lineno">   21</span>    <span class="stringliteral">&quot;provides-dist&quot;</span>: <span class="stringliteral">&quot;provides_dist&quot;</span>,</div>
<div class="line"><span class="lineno">   22</span>    <span class="stringliteral">&quot;provides-extra&quot;</span>: <span class="stringliteral">&quot;provides_extra&quot;</span>,</div>
<div class="line"><span class="lineno">   23</span>    <span class="stringliteral">&quot;requires&quot;</span>: <span class="stringliteral">&quot;requires&quot;</span>,</div>
<div class="line"><span class="lineno">   24</span>    <span class="stringliteral">&quot;requires-dist&quot;</span>: <span class="stringliteral">&quot;requires_dist&quot;</span>,</div>
<div class="line"><span class="lineno">   25</span>    <span class="stringliteral">&quot;requires-external&quot;</span>: <span class="stringliteral">&quot;requires_external&quot;</span>,</div>
<div class="line"><span class="lineno">   26</span>    <span class="stringliteral">&quot;requires-python&quot;</span>: <span class="stringliteral">&quot;requires_python&quot;</span>,</div>
<div class="line"><span class="lineno">   27</span>    <span class="stringliteral">&quot;summary&quot;</span>: <span class="stringliteral">&quot;summary&quot;</span>,</div>
<div class="line"><span class="lineno">   28</span>    <span class="stringliteral">&quot;supported-platform&quot;</span>: <span class="stringliteral">&quot;supported_platforms&quot;</span>,</div>
<div class="line"><span class="lineno">   29</span>    <span class="stringliteral">&quot;version&quot;</span>: <span class="stringliteral">&quot;version&quot;</span>,</div>
<div class="line"><span class="lineno">   30</span>}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00243">243</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="a7443694c540526e26a6d7b056e4b9d66" name="a7443694c540526e26a6d7b056e4b9d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7443694c540526e26a6d7b056e4b9d66">&#9670;&#160;</a></span>_LIST_FIELDS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict pip._vendor.packaging.metadata._LIST_FIELDS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;classifiers&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;dynamic&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>    <span class="stringliteral">&quot;obsoletes&quot;</span>,</div>
<div class="line"><span class="lineno">    5</span>    <span class="stringliteral">&quot;obsoletes_dist&quot;</span>,</div>
<div class="line"><span class="lineno">    6</span>    <span class="stringliteral">&quot;platforms&quot;</span>,</div>
<div class="line"><span class="lineno">    7</span>    <span class="stringliteral">&quot;provides&quot;</span>,</div>
<div class="line"><span class="lineno">    8</span>    <span class="stringliteral">&quot;provides_dist&quot;</span>,</div>
<div class="line"><span class="lineno">    9</span>    <span class="stringliteral">&quot;provides_extra&quot;</span>,</div>
<div class="line"><span class="lineno">   10</span>    <span class="stringliteral">&quot;requires&quot;</span>,</div>
<div class="line"><span class="lineno">   11</span>    <span class="stringliteral">&quot;requires_dist&quot;</span>,</div>
<div class="line"><span class="lineno">   12</span>    <span class="stringliteral">&quot;requires_external&quot;</span>,</div>
<div class="line"><span class="lineno">   13</span>    <span class="stringliteral">&quot;supported_platforms&quot;</span>,</div>
<div class="line"><span class="lineno">   14</span>}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00149">149</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="a6c3773403e46d58435ccb4a9e7239936" name="a6c3773403e46d58435ccb4a9e7239936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c3773403e46d58435ccb4a9e7239936">&#9670;&#160;</a></span>_MetadataVersion</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pip._vendor.packaging.metadata._MetadataVersion = Literal[&quot;1.0&quot;, &quot;1.1&quot;, &quot;1.2&quot;, &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00457">457</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="a1cf0bce3397d11a7637de3b3ca0a3a33" name="a1cf0bce3397d11a7637de3b3ca0a3a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf0bce3397d11a7637de3b3ca0a3a33">&#9670;&#160;</a></span>_NOT_FOUND</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pip._vendor.packaging.metadata._NOT_FOUND = object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00452">452</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="a20e7f9266d2477a7275c25a31a4a7e59" name="a20e7f9266d2477a7275c25a31a4a7e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e7f9266d2477a7275c25a31a4a7e59">&#9670;&#160;</a></span>_RAW_TO_EMAIL_MAPPING</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict pip._vendor.packaging.metadata._RAW_TO_EMAIL_MAPPING = {raw: email for email, raw in _EMAIL_TO_RAW_MAPPING.items()}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00273">273</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="a37fae7dbdf72e973f2a446fbd44dff12" name="a37fae7dbdf72e973f2a446fbd44dff12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37fae7dbdf72e973f2a446fbd44dff12">&#9670;&#160;</a></span>_REQUIRED_ATTRS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pip._vendor.packaging.metadata._REQUIRED_ATTRS = frozenset([&quot;metadata_version&quot;, &quot;name&quot;, &quot;version&quot;])</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00459">459</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="a56c8daacbee26d2de4429976d0859d96" name="a56c8daacbee26d2de4429976d0859d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c8daacbee26d2de4429976d0859d96">&#9670;&#160;</a></span>_STRING_FIELDS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict pip._vendor.packaging.metadata._STRING_FIELDS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;author&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;author_email&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>    <span class="stringliteral">&quot;description&quot;</span>,</div>
<div class="line"><span class="lineno">    5</span>    <span class="stringliteral">&quot;description_content_type&quot;</span>,</div>
<div class="line"><span class="lineno">    6</span>    <span class="stringliteral">&quot;download_url&quot;</span>,</div>
<div class="line"><span class="lineno">    7</span>    <span class="stringliteral">&quot;home_page&quot;</span>,</div>
<div class="line"><span class="lineno">    8</span>    <span class="stringliteral">&quot;license&quot;</span>,</div>
<div class="line"><span class="lineno">    9</span>    <span class="stringliteral">&quot;maintainer&quot;</span>,</div>
<div class="line"><span class="lineno">   10</span>    <span class="stringliteral">&quot;maintainer_email&quot;</span>,</div>
<div class="line"><span class="lineno">   11</span>    <span class="stringliteral">&quot;metadata_version&quot;</span>,</div>
<div class="line"><span class="lineno">   12</span>    <span class="stringliteral">&quot;name&quot;</span>,</div>
<div class="line"><span class="lineno">   13</span>    <span class="stringliteral">&quot;requires_python&quot;</span>,</div>
<div class="line"><span class="lineno">   14</span>    <span class="stringliteral">&quot;summary&quot;</span>,</div>
<div class="line"><span class="lineno">   15</span>    <span class="stringliteral">&quot;version&quot;</span>,</div>
<div class="line"><span class="lineno">   16</span>}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00132">132</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="ad4838d5c7541631d756a17fdb744ad2f" name="ad4838d5c7541631d756a17fdb744ad2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4838d5c7541631d756a17fdb744ad2f">&#9670;&#160;</a></span>_VALID_METADATA_VERSIONS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list pip._vendor.packaging.metadata._VALID_METADATA_VERSIONS = [&quot;1.0&quot;, &quot;1.1&quot;, &quot;1.2&quot;, &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00456">456</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="afe86600f3b96fa64da5746ac9527149a" name="afe86600f3b96fa64da5746ac9527149a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe86600f3b96fa64da5746ac9527149a">&#9670;&#160;</a></span>ExceptionGroup</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pip._vendor.packaging.metadata.ExceptionGroup</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00046">46</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
<a id="ac66c2abccd872a8ac5fcad1a02359375" name="ac66c2abccd872a8ac5fcad1a02359375"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac66c2abccd872a8ac5fcad1a02359375">&#9670;&#160;</a></span>T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pip._vendor.packaging.metadata.T = typing.TypeVar(&quot;T&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__vendor_2packaging_2metadata_8py_source.html#l00021">21</a> of file <a class="el" href="__vendor_2packaging_2metadata_8py_source.html">metadata.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacepip.html">pip</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__vendor.html">_vendor</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__vendor_1_1packaging.html">packaging</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__vendor_1_1packaging_1_1metadata.html">metadata</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
