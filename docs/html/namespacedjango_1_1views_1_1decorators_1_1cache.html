<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: django.views.decorators.cache Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacedjango_1_1views_1_1decorators_1_1cache.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">django.views.decorators.cache Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a959589e601ece88b35fdf4a3c8cf5e8a" id="r_a959589e601ece88b35fdf4a3c8cf5e8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a959589e601ece88b35fdf4a3c8cf5e8a">cache_page</a> (timeout, *, cache=None, key_prefix=None)</td></tr>
<tr class="separator:a959589e601ece88b35fdf4a3c8cf5e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a009890ae6b05ec926364deaf465383c1" id="r_a009890ae6b05ec926364deaf465383c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a009890ae6b05ec926364deaf465383c1">_check_request</a> (request, decorator_name)</td></tr>
<tr class="separator:a009890ae6b05ec926364deaf465383c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a9773fafc1f68987600dc2566e153a" id="r_aa4a9773fafc1f68987600dc2566e153a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4a9773fafc1f68987600dc2566e153a">cache_control</a> (**kwargs)</td></tr>
<tr class="separator:aa4a9773fafc1f68987600dc2566e153a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9de0c24e81dd6a104a8fc5482351da" id="r_ace9de0c24e81dd6a104a8fc5482351da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace9de0c24e81dd6a104a8fc5482351da">never_cache</a> (view_func)</td></tr>
<tr class="separator:ace9de0c24e81dd6a104a8fc5482351da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a009890ae6b05ec926364deaf465383c1" name="a009890ae6b05ec926364deaf465383c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a009890ae6b05ec926364deaf465383c1">&#9670;&#160;</a></span>_check_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">django.views.decorators.cache._check_request </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>request</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>decorator_name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2views_2decorators_2cache_8py_source.html#l00031">31</a> of file <a class="el" href="django_2views_2decorators_2cache_8py_source.html">cache.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span><span class="keyword">def </span>_check_request(request, decorator_name):</div>
<div class="line"><span class="lineno">   32</span>    <span class="comment"># Ensure argument looks like a request.</span></div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(request, <span class="stringliteral">&quot;META&quot;</span>):</div>
<div class="line"><span class="lineno">   34</span>        <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">   35</span>            f<span class="stringliteral">&quot;{decorator_name} didn&#39;t receive an HttpRequest. If you are &quot;</span></div>
<div class="line"><span class="lineno">   36</span>            <span class="stringliteral">&quot;decorating a classmethod, be sure to use @method_decorator.&quot;</span></div>
<div class="line"><span class="lineno">   37</span>        )</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="django_2views_2decorators_2cache_8py_source.html#l00040">cache_control()</a>, and <a class="el" href="django_2views_2decorators_2cache_8py_source.html#l00063">never_cache()</a>.</p>

</div>
</div>
<a id="aa4a9773fafc1f68987600dc2566e153a" name="aa4a9773fafc1f68987600dc2566e153a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4a9773fafc1f68987600dc2566e153a">&#9670;&#160;</a></span>cache_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.views.decorators.cache.cache_control </td>
          <td>(</td>
          <td class="paramtype">**</td>          <td class="paramname"><span class="paramname"><em>kwargs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="django_2views_2decorators_2cache_8py_source.html#l00040">40</a> of file <a class="el" href="django_2views_2decorators_2cache_8py_source.html">cache.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span><span class="keyword">def </span>cache_control(**kwargs):</div>
<div class="line"><span class="lineno">   41</span>    <span class="keyword">def </span>_cache_controller(viewfunc):</div>
<div class="line"><span class="lineno">   42</span>        <span class="keywordflow">if</span> iscoroutinefunction(viewfunc):</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>            <span class="keyword">async def </span>_view_wrapper(request, *args, **kw):</div>
<div class="line"><span class="lineno">   45</span>                _check_request(request, <span class="stringliteral">&quot;cache_control&quot;</span>)</div>
<div class="line"><span class="lineno">   46</span>                response = await viewfunc(request, *args, **kw)</div>
<div class="line"><span class="lineno">   47</span>                patch_cache_control(response, **kwargs)</div>
<div class="line"><span class="lineno">   48</span>                <span class="keywordflow">return</span> response</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>            <span class="keyword">def </span>_view_wrapper(request, *args, **kw):</div>
<div class="line"><span class="lineno">   53</span>                _check_request(request, <span class="stringliteral">&quot;cache_control&quot;</span>)</div>
<div class="line"><span class="lineno">   54</span>                response = viewfunc(request, *args, **kw)</div>
<div class="line"><span class="lineno">   55</span>                patch_cache_control(response, **kwargs)</div>
<div class="line"><span class="lineno">   56</span>                <span class="keywordflow">return</span> response</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">return</span> wraps(viewfunc)(_view_wrapper)</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">return</span> _cache_controller</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2views_2decorators_2cache_8py_source.html#l00031">_check_request()</a>.</p>

</div>
</div>
<a id="a959589e601ece88b35fdf4a3c8cf5e8a" name="a959589e601ece88b35fdf4a3c8cf5e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a959589e601ece88b35fdf4a3c8cf5e8a">&#9670;&#160;</a></span>cache_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.views.decorators.cache.cache_page </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cache</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>key_prefix</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decorator for views that tries getting the page from the cache and
populates the cache if the page isn't in the cache yet.

The cache is keyed by the URL and some data from the headers.
Additionally there is the key prefix that is used to distinguish different
cache areas in a multi-site setup. You could use the
get_current_site().domain, for example, as that is unique across a Django
project.

Additionally, all headers from the response's Vary header will be taken
into account on caching -- just like the middleware does.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2views_2decorators_2cache_8py_source.html#l00010">10</a> of file <a class="el" href="django_2views_2decorators_2cache_8py_source.html">cache.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   10</span><span class="keyword">def </span>cache_page(timeout, *, cache=None, key_prefix=None):</div>
<div class="line"><span class="lineno">   11</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">    Decorator for views that tries getting the page from the cache and</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">    populates the cache if the page isn&#39;t in the cache yet.</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   15</span><span class="stringliteral">    The cache is keyed by the URL and some data from the headers.</span></div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">    Additionally there is the key prefix that is used to distinguish different</span></div>
<div class="line"><span class="lineno">   17</span><span class="stringliteral">    cache areas in a multi-site setup. You could use the</span></div>
<div class="line"><span class="lineno">   18</span><span class="stringliteral">    get_current_site().domain, for example, as that is unique across a Django</span></div>
<div class="line"><span class="lineno">   19</span><span class="stringliteral">    project.</span></div>
<div class="line"><span class="lineno">   20</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   21</span><span class="stringliteral">    Additionally, all headers from the response&#39;s Vary header will be taken</span></div>
<div class="line"><span class="lineno">   22</span><span class="stringliteral">    into account on caching -- just like the middleware does.</span></div>
<div class="line"><span class="lineno">   23</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   24</span>    <span class="keywordflow">return</span> decorator_from_middleware_with_args(CacheMiddleware)(</div>
<div class="line"><span class="lineno">   25</span>        page_timeout=timeout,</div>
<div class="line"><span class="lineno">   26</span>        cache_alias=cache,</div>
<div class="line"><span class="lineno">   27</span>        key_prefix=key_prefix,</div>
<div class="line"><span class="lineno">   28</span>    )</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace9de0c24e81dd6a104a8fc5482351da" name="ace9de0c24e81dd6a104a8fc5482351da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9de0c24e81dd6a104a8fc5482351da">&#9670;&#160;</a></span>never_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.views.decorators.cache.never_cache </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>view_func</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decorator that adds headers to a response so that it will never be cached.
</pre> 
<p class="definition">Definition at line <a class="el" href="django_2views_2decorators_2cache_8py_source.html#l00063">63</a> of file <a class="el" href="django_2views_2decorators_2cache_8py_source.html">cache.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span><span class="keyword">def </span>never_cache(view_func):</div>
<div class="line"><span class="lineno">   64</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">    Decorator that adds headers to a response so that it will never be cached.</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">if</span> iscoroutinefunction(view_func):</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>        <span class="keyword">async def </span>_view_wrapper(request, *args, **kwargs):</div>
<div class="line"><span class="lineno">   71</span>            _check_request(request, <span class="stringliteral">&quot;never_cache&quot;</span>)</div>
<div class="line"><span class="lineno">   72</span>            response = await view_func(request, *args, **kwargs)</div>
<div class="line"><span class="lineno">   73</span>            add_never_cache_headers(response)</div>
<div class="line"><span class="lineno">   74</span>            <span class="keywordflow">return</span> response</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>        <span class="keyword">def </span>_view_wrapper(request, *args, **kwargs):</div>
<div class="line"><span class="lineno">   79</span>            _check_request(request, <span class="stringliteral">&quot;never_cache&quot;</span>)</div>
<div class="line"><span class="lineno">   80</span>            response = view_func(request, *args, **kwargs)</div>
<div class="line"><span class="lineno">   81</span>            add_never_cache_headers(response)</div>
<div class="line"><span class="lineno">   82</span>            <span class="keywordflow">return</span> response</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">return</span> wraps(view_func)(_view_wrapper)</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="django_2views_2decorators_2cache_8py_source.html#l00031">_check_request()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedjango.html">django</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1views.html">views</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1views_1_1decorators.html">decorators</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1views_1_1decorators_1_1cache.html">cache</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
