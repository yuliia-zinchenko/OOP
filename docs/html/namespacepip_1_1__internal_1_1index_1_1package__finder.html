<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: pip._internal.index.package_finder Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacepip_1_1__internal_1_1index_1_1package__finder.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pip._internal.index.package_finder Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1index_1_1package__finder_1_1_best_candidate_result.html">BestCandidateResult</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1index_1_1package__finder_1_1_candidate_evaluator.html">CandidateEvaluator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1index_1_1package__finder_1_1_candidate_preferences.html">CandidatePreferences</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1index_1_1package__finder_1_1_link_evaluator.html">LinkEvaluator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1index_1_1package__finder_1_1_link_type.html">LinkType</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1index_1_1package__finder_1_1_package_finder.html">PackageFinder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a44692bf2dcc15d7f206d270a422455ce" id="r_a44692bf2dcc15d7f206d270a422455ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44692bf2dcc15d7f206d270a422455ce">_check_link_requires_python</a> (<a class="el" href="classpip_1_1__internal_1_1models_1_1link_1_1_link.html">Link</a> link, Tuple[int, int, int] version_info, bool ignore_requires_python=False)</td></tr>
<tr class="separator:a44692bf2dcc15d7f206d270a422455ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876e1cd4452e3f990efec7ab27b703a5" id="r_a876e1cd4452e3f990efec7ab27b703a5"><td class="memItemLeft" align="right" valign="top">List[<a class="el" href="classpip_1_1__internal_1_1models_1_1candidate_1_1_installation_candidate.html">InstallationCandidate</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a876e1cd4452e3f990efec7ab27b703a5">filter_unallowed_hashes</a> (List[<a class="el" href="classpip_1_1__internal_1_1models_1_1candidate_1_1_installation_candidate.html">InstallationCandidate</a>] candidates, Optional[<a class="el" href="classpip_1_1__internal_1_1utils_1_1hashes_1_1_hashes.html">Hashes</a>] hashes, str project_name)</td></tr>
<tr class="separator:a876e1cd4452e3f990efec7ab27b703a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5e4d6fc63d9853dcac2e44a4596f1b" id="r_a9a5e4d6fc63d9853dcac2e44a4596f1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a5e4d6fc63d9853dcac2e44a4596f1b">_find_name_version_sep</a> (str fragment, str canonical_name)</td></tr>
<tr class="separator:a9a5e4d6fc63d9853dcac2e44a4596f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b584dafae114c4d615017417606cee3" id="r_a3b584dafae114c4d615017417606cee3"><td class="memItemLeft" align="right" valign="top">Optional[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b584dafae114c4d615017417606cee3">_extract_version_from_fragment</a> (str fragment, str canonical_name)</td></tr>
<tr class="separator:a3b584dafae114c4d615017417606cee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a230f7eba264091230ab47832046fc2f5" id="r_a230f7eba264091230ab47832046fc2f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a230f7eba264091230ab47832046fc2f5">logger</a> = getLogger(__name__)</td></tr>
<tr class="separator:a230f7eba264091230ab47832046fc2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e43cd6584e1508c9578cad30e0fdc2a" id="r_a6e43cd6584e1508c9578cad30e0fdc2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e43cd6584e1508c9578cad30e0fdc2a">BuildTag</a> = Union[Tuple[()], Tuple[int, str]]</td></tr>
<tr class="separator:a6e43cd6584e1508c9578cad30e0fdc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c4b6db75eb88d67a055ab321dd6ec30" id="r_a8c4b6db75eb88d67a055ab321dd6ec30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c4b6db75eb88d67a055ab321dd6ec30">CandidateSortingKey</a> = Tuple[int, int, int, <a class="el" href="classpip_1_1__vendor_1_1packaging_1_1version_1_1___base_version.html">_BaseVersion</a>, Optional[int], <a class="el" href="#a6e43cd6584e1508c9578cad30e0fdc2a">BuildTag</a>]</td></tr>
<tr class="separator:a8c4b6db75eb88d67a055ab321dd6ec30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Routines related to PyPI, indexes</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a44692bf2dcc15d7f206d270a422455ce" name="a44692bf2dcc15d7f206d270a422455ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44692bf2dcc15d7f206d270a422455ce">&#9670;&#160;</a></span>_check_link_requires_python()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> bool pip._internal.index.package_finder._check_link_requires_python </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpip_1_1__internal_1_1models_1_1link_1_1_link.html">Link</a></td>          <td class="paramname"><span class="paramname"><em>link</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Tuple[int, int, int]</td>          <td class="paramname"><span class="paramname"><em>version_info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>ignore_requires_python</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return whether the given Python version is compatible with a link's
"Requires-Python" value.

:param version_info: A 3-tuple of ints representing the Python
    major-minor-micro version to check.
:param ignore_requires_python: Whether to ignore the "Requires-Python"
    value if the given Python version isn't compatible.
</pre> 
<p class="definition">Definition at line <a class="el" href="package__finder_8py_source.html#l00052">52</a> of file <a class="el" href="package__finder_8py_source.html">package_finder.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>) -&gt; bool:</div>
<div class="line"><span class="lineno">   57</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral">    Return whether the given Python version is compatible with a link&#39;s</span></div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">    &quot;Requires-Python&quot; value.</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">    :param version_info: A 3-tuple of ints representing the Python</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">        major-minor-micro version to check.</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">    :param ignore_requires_python: Whether to ignore the &quot;Requires-Python&quot;</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">        value if the given Python version isn&#39;t compatible.</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   67</span>        is_compatible = check_requires_python(</div>
<div class="line"><span class="lineno">   68</span>            link.requires_python,</div>
<div class="line"><span class="lineno">   69</span>            version_info=version_info,</div>
<div class="line"><span class="lineno">   70</span>        )</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">except</span> specifiers.InvalidSpecifier:</div>
<div class="line"><span class="lineno">   72</span>        logger.debug(</div>
<div class="line"><span class="lineno">   73</span>            <span class="stringliteral">&quot;Ignoring invalid Requires-Python (%r) for link: %s&quot;</span>,</div>
<div class="line"><span class="lineno">   74</span>            link.requires_python,</div>
<div class="line"><span class="lineno">   75</span>            link,</div>
<div class="line"><span class="lineno">   76</span>        )</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> is_compatible:</div>
<div class="line"><span class="lineno">   79</span>            version = <span class="stringliteral">&quot;.&quot;</span>.join(map(str, version_info))</div>
<div class="line"><span class="lineno">   80</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> ignore_requires_python:</div>
<div class="line"><span class="lineno">   81</span>                logger.verbose(</div>
<div class="line"><span class="lineno">   82</span>                    <span class="stringliteral">&quot;Link requires a different Python (%s not in: %r): %s&quot;</span>,</div>
<div class="line"><span class="lineno">   83</span>                    version,</div>
<div class="line"><span class="lineno">   84</span>                    link.requires_python,</div>
<div class="line"><span class="lineno">   85</span>                    link,</div>
<div class="line"><span class="lineno">   86</span>                )</div>
<div class="line"><span class="lineno">   87</span>                <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>            logger.debug(</div>
<div class="line"><span class="lineno">   90</span>                <span class="stringliteral">&quot;Ignoring failed Requires-Python check (%s not in: %r) for link: %s&quot;</span>,</div>
<div class="line"><span class="lineno">   91</span>                version,</div>
<div class="line"><span class="lineno">   92</span>                link.requires_python,</div>
<div class="line"><span class="lineno">   93</span>                link,</div>
<div class="line"><span class="lineno">   94</span>            )</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="package__finder_8py_source.html#l00157">pip._internal.index.package_finder.LinkEvaluator.evaluate_link()</a>.</p>

</div>
</div>
<a id="a3b584dafae114c4d615017417606cee3" name="a3b584dafae114c4d615017417606cee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b584dafae114c4d615017417606cee3">&#9670;&#160;</a></span>_extract_version_from_fragment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[str] pip._internal.index.package_finder._extract_version_from_fragment </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>fragment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>canonical_name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Parse the version string from a &lt;package&gt;+&lt;version&gt; filename
"fragment" (stem) or egg fragment.

:param fragment: The string to parse. E.g. foo-2.1
:param canonical_name: The canonicalized name of the package this
    belongs to.
</pre> 
<p class="definition">Definition at line <a class="el" href="package__finder_8py_source.html#l01005">1005</a> of file <a class="el" href="package__finder_8py_source.html">package_finder.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1005</span><span class="keyword">def </span>_extract_version_from_fragment(fragment: str, canonical_name: str) -&gt; Optional[str]:</div>
<div class="line"><span class="lineno"> 1006</span>    <span class="stringliteral">&quot;&quot;&quot;Parse the version string from a &lt;package&gt;+&lt;version&gt; filename</span></div>
<div class="line"><span class="lineno"> 1007</span><span class="stringliteral">    &quot;fragment&quot; (stem) or egg fragment.</span></div>
<div class="line"><span class="lineno"> 1008</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1009</span><span class="stringliteral">    :param fragment: The string to parse. E.g. foo-2.1</span></div>
<div class="line"><span class="lineno"> 1010</span><span class="stringliteral">    :param canonical_name: The canonicalized name of the package this</span></div>
<div class="line"><span class="lineno"> 1011</span><span class="stringliteral">        belongs to.</span></div>
<div class="line"><span class="lineno"> 1012</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1013</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1014</span>        version_start = _find_name_version_sep(fragment, canonical_name) + 1</div>
<div class="line"><span class="lineno"> 1015</span>    <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno"> 1016</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1017</span>    version = fragment[version_start:]</div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> version:</div>
<div class="line"><span class="lineno"> 1019</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1020</span>    <span class="keywordflow">return</span> version</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="package__finder_8py_source.html#l00979">_find_name_version_sep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="package__finder_8py_source.html#l00157">pip._internal.index.package_finder.LinkEvaluator.evaluate_link()</a>.</p>

</div>
</div>
<a id="a9a5e4d6fc63d9853dcac2e44a4596f1b" name="a9a5e4d6fc63d9853dcac2e44a4596f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a5e4d6fc63d9853dcac2e44a4596f1b">&#9670;&#160;</a></span>_find_name_version_sep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> int pip._internal.index.package_finder._find_name_version_sep </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>fragment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>canonical_name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Find the separator's index based on the package's canonical name.

:param fragment: A &lt;package&gt;+&lt;version&gt; filename "fragment" (stem) or
    egg fragment.
:param canonical_name: The package's canonical name.

This function is needed since the canonicalized name does not necessarily
have the same length as the egg info's name part. An example::

&gt;&gt;&gt; fragment = 'foo__bar-1.0'
&gt;&gt;&gt; canonical_name = 'foo-bar'
&gt;&gt;&gt; _find_name_version_sep(fragment, canonical_name)
8
</pre> 
<p class="definition">Definition at line <a class="el" href="package__finder_8py_source.html#l00979">979</a> of file <a class="el" href="package__finder_8py_source.html">package_finder.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  979</span><span class="keyword">def </span>_find_name_version_sep(fragment: str, canonical_name: str) -&gt; int:</div>
<div class="line"><span class="lineno">  980</span>    <span class="stringliteral">&quot;&quot;&quot;Find the separator&#39;s index based on the package&#39;s canonical name.</span></div>
<div class="line"><span class="lineno">  981</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  982</span><span class="stringliteral">    :param fragment: A &lt;package&gt;+&lt;version&gt; filename &quot;fragment&quot; (stem) or</span></div>
<div class="line"><span class="lineno">  983</span><span class="stringliteral">        egg fragment.</span></div>
<div class="line"><span class="lineno">  984</span><span class="stringliteral">    :param canonical_name: The package&#39;s canonical name.</span></div>
<div class="line"><span class="lineno">  985</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  986</span><span class="stringliteral">    This function is needed since the canonicalized name does not necessarily</span></div>
<div class="line"><span class="lineno">  987</span><span class="stringliteral">    have the same length as the egg info&#39;s name part. An example::</span></div>
<div class="line"><span class="lineno">  988</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  989</span><span class="stringliteral">    &gt;&gt;&gt; fragment = &#39;foo__bar-1.0&#39;</span></div>
<div class="line"><span class="lineno">  990</span><span class="stringliteral">    &gt;&gt;&gt; canonical_name = &#39;foo-bar&#39;</span></div>
<div class="line"><span class="lineno">  991</span><span class="stringliteral">    &gt;&gt;&gt; _find_name_version_sep(fragment, canonical_name)</span></div>
<div class="line"><span class="lineno">  992</span><span class="stringliteral">    8</span></div>
<div class="line"><span class="lineno">  993</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  994</span>    <span class="comment"># Project name and version must be separated by one single dash. Find all</span></div>
<div class="line"><span class="lineno">  995</span>    <span class="comment"># occurrences of dashes; if the string in front of it matches the canonical</span></div>
<div class="line"><span class="lineno">  996</span>    <span class="comment"># name, this is the one separating the name and version parts.</span></div>
<div class="line"><span class="lineno">  997</span>    <span class="keywordflow">for</span> i, c <span class="keywordflow">in</span> enumerate(fragment):</div>
<div class="line"><span class="lineno">  998</span>        <span class="keywordflow">if</span> c != <span class="stringliteral">&quot;-&quot;</span>:</div>
<div class="line"><span class="lineno">  999</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1000</span>        <span class="keywordflow">if</span> canonicalize_name(fragment[:i]) == canonical_name:</div>
<div class="line"><span class="lineno"> 1001</span>            <span class="keywordflow">return</span> i</div>
<div class="line"><span class="lineno"> 1002</span>    <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;{fragment} does not match {canonical_name}&quot;</span>)</div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="package__finder_8py_source.html#l01005">_extract_version_from_fragment()</a>.</p>

</div>
</div>
<a id="a876e1cd4452e3f990efec7ab27b703a5" name="a876e1cd4452e3f990efec7ab27b703a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a876e1cd4452e3f990efec7ab27b703a5">&#9670;&#160;</a></span>filter_unallowed_hashes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[<a class="el" href="classpip_1_1__internal_1_1models_1_1candidate_1_1_installation_candidate.html">InstallationCandidate</a>] pip._internal.index.package_finder.filter_unallowed_hashes </td>
          <td>(</td>
          <td class="paramtype">List[<a class="el" href="classpip_1_1__internal_1_1models_1_1candidate_1_1_installation_candidate.html">InstallationCandidate</a>]</td>          <td class="paramname"><span class="paramname"><em>candidates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[<a class="el" href="classpip_1_1__internal_1_1utils_1_1hashes_1_1_hashes.html">Hashes</a>]</td>          <td class="paramname"><span class="paramname"><em>hashes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>project_name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Filter out candidates whose hashes aren't allowed, and return a new
list of candidates.

If at least one candidate has an allowed hash, then all candidates with
either an allowed hash or no hash specified are returned.  Otherwise,
the given candidates are returned.

Including the candidates with no hash specified when there is a match
allows a warning to be logged if there is a more preferred candidate
with no hash specified.  Returning all candidates in the case of no
matches lets pip report the hash of the candidate that would otherwise
have been installed (e.g. permitting the user to more easily update
their requirements file with the desired hash).
</pre> 
<p class="definition">Definition at line <a class="el" href="package__finder_8py_source.html#l00252">252</a> of file <a class="el" href="package__finder_8py_source.html">package_finder.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  256</span>) -&gt; List[InstallationCandidate]:</div>
<div class="line"><span class="lineno">  257</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral">    Filter out candidates whose hashes aren&#39;t allowed, and return a new</span></div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">    list of candidates.</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">    If at least one candidate has an allowed hash, then all candidates with</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">    either an allowed hash or no hash specified are returned.  Otherwise,</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">    the given candidates are returned.</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    Including the candidates with no hash specified when there is a match</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">    allows a warning to be logged if there is a more preferred candidate</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">    with no hash specified.  Returning all candidates in the case of no</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">    matches lets pip report the hash of the candidate that would otherwise</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">    have been installed (e.g. permitting the user to more easily update</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">    their requirements file with the desired hash).</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hashes:</div>
<div class="line"><span class="lineno">  273</span>        logger.debug(</div>
<div class="line"><span class="lineno">  274</span>            <span class="stringliteral">&quot;Given no hashes to check %s links for project %r: &quot;</span></div>
<div class="line"><span class="lineno">  275</span>            <span class="stringliteral">&quot;discarding no candidates&quot;</span>,</div>
<div class="line"><span class="lineno">  276</span>            len(candidates),</div>
<div class="line"><span class="lineno">  277</span>            project_name,</div>
<div class="line"><span class="lineno">  278</span>        )</div>
<div class="line"><span class="lineno">  279</span>        <span class="comment"># Make sure we&#39;re not returning back the given value.</span></div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">return</span> list(candidates)</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    matches_or_no_digest = []</div>
<div class="line"><span class="lineno">  283</span>    <span class="comment"># Collect the non-matches for logging purposes.</span></div>
<div class="line"><span class="lineno">  284</span>    non_matches = []</div>
<div class="line"><span class="lineno">  285</span>    match_count = 0</div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">for</span> candidate <span class="keywordflow">in</span> candidates:</div>
<div class="line"><span class="lineno">  287</span>        link = candidate.link</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> link.has_hash:</div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">elif</span> link.is_hash_allowed(hashes=hashes):</div>
<div class="line"><span class="lineno">  291</span>            match_count += 1</div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  293</span>            non_matches.append(candidate)</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        matches_or_no_digest.append(candidate)</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">if</span> match_count:</div>
<div class="line"><span class="lineno">  299</span>        filtered = matches_or_no_digest</div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  301</span>        <span class="comment"># Make sure we&#39;re not returning back the given value.</span></div>
<div class="line"><span class="lineno">  302</span>        filtered = list(candidates)</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">if</span> len(filtered) == len(candidates):</div>
<div class="line"><span class="lineno">  305</span>        discard_message = <span class="stringliteral">&quot;discarding no candidates&quot;</span></div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  307</span>        discard_message = <span class="stringliteral">&quot;discarding {} non-matches:\n  {}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  308</span>            len(non_matches),</div>
<div class="line"><span class="lineno">  309</span>            <span class="stringliteral">&quot;\n  &quot;</span>.join(str(candidate.link) <span class="keywordflow">for</span> candidate <span class="keywordflow">in</span> non_matches),</div>
<div class="line"><span class="lineno">  310</span>        )</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    logger.debug(</div>
<div class="line"><span class="lineno">  313</span>        <span class="stringliteral">&quot;Checked %s links for project %r against %s hashes &quot;</span></div>
<div class="line"><span class="lineno">  314</span>        <span class="stringliteral">&quot;(%s matches, %s no digest): %s&quot;</span>,</div>
<div class="line"><span class="lineno">  315</span>        len(candidates),</div>
<div class="line"><span class="lineno">  316</span>        project_name,</div>
<div class="line"><span class="lineno">  317</span>        hashes.digest_count,</div>
<div class="line"><span class="lineno">  318</span>        match_count,</div>
<div class="line"><span class="lineno">  319</span>        len(matches_or_no_digest) - match_count,</div>
<div class="line"><span class="lineno">  320</span>        discard_message,</div>
<div class="line"><span class="lineno">  321</span>    )</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">return</span> filtered</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span><span class="preprocessor">@dataclass</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="package__finder_8py_source.html#l00448">pip._internal.index.package_finder.CandidateEvaluator.get_applicable_candidates()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6e43cd6584e1508c9578cad30e0fdc2a" name="a6e43cd6584e1508c9578cad30e0fdc2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e43cd6584e1508c9578cad30e0fdc2a">&#9670;&#160;</a></span>BuildTag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pip._internal.index.package_finder.BuildTag = Union[Tuple[()], Tuple[int, str]]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="package__finder_8py_source.html#l00048">48</a> of file <a class="el" href="package__finder_8py_source.html">package_finder.py</a>.</p>

</div>
</div>
<a id="a8c4b6db75eb88d67a055ab321dd6ec30" name="a8c4b6db75eb88d67a055ab321dd6ec30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c4b6db75eb88d67a055ab321dd6ec30">&#9670;&#160;</a></span>CandidateSortingKey</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pip._internal.index.package_finder.CandidateSortingKey = Tuple[int, int, int, <a class="el" href="classpip_1_1__vendor_1_1packaging_1_1version_1_1___base_version.html">_BaseVersion</a>, Optional[int], <a class="el" href="#a6e43cd6584e1508c9578cad30e0fdc2a">BuildTag</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="package__finder_8py_source.html#l00049">49</a> of file <a class="el" href="package__finder_8py_source.html">package_finder.py</a>.</p>

</div>
</div>
<a id="a230f7eba264091230ab47832046fc2f5" name="a230f7eba264091230ab47832046fc2f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a230f7eba264091230ab47832046fc2f5">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pip._internal.index.package_finder.logger = getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="package__finder_8py_source.html#l00046">46</a> of file <a class="el" href="package__finder_8py_source.html">package_finder.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacepip.html">pip</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__internal.html">_internal</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__internal_1_1index.html">index</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__internal_1_1index_1_1package__finder.html">package_finder</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
