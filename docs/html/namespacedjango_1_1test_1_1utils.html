<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Read&amp;Watch: django.test.utils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Read&amp;Watch<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacedjango_1_1test_1_1utils.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">django.test.utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1___test_state.html">_TestState</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1_approximate.html">Approximate</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1_capture_queries_context.html">CaptureQueriesContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1_context_list.html">ContextList</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1ignore__warnings.html">ignore_warnings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1isolate__apps.html">isolate_apps</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1_logging_capture_mixin.html">LoggingCaptureMixin</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1modify__settings.html">modify_settings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1_null_time_keeper.html">NullTimeKeeper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1override__script__prefix.html">override_script_prefix</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1override__settings.html">override_settings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1override__system__checks.html">override_system_checks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1_test_context_decorator.html">TestContextDecorator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdjango_1_1test_1_1utils_1_1_time_keeper.html">TimeKeeper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa4333666a04294030cbe87cfa8729519" id="r_aa4333666a04294030cbe87cfa8729519"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4333666a04294030cbe87cfa8729519">instrumented_test_render</a> (self, context)</td></tr>
<tr class="separator:aa4333666a04294030cbe87cfa8729519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a7887cc43f3886d12e0968e7ee3c98" id="r_a49a7887cc43f3886d12e0968e7ee3c98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49a7887cc43f3886d12e0968e7ee3c98">setup_test_environment</a> (debug=None)</td></tr>
<tr class="separator:a49a7887cc43f3886d12e0968e7ee3c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f016e5b5225872be0fadf3987a85c5" id="r_af4f016e5b5225872be0fadf3987a85c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4f016e5b5225872be0fadf3987a85c5">teardown_test_environment</a> ()</td></tr>
<tr class="separator:af4f016e5b5225872be0fadf3987a85c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13dc786bbc40e18810a8f144de2f25e" id="r_ae13dc786bbc40e18810a8f144de2f25e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae13dc786bbc40e18810a8f144de2f25e">setup_databases</a> (verbosity, interactive, *, time_keeper=None, keepdb=False, debug_sql=False, parallel=0, aliases=None, serialized_aliases=None, **kwargs)</td></tr>
<tr class="separator:ae13dc786bbc40e18810a8f144de2f25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0d0fbd5d04d077f0aab5c1990f02b8" id="r_a7a0d0fbd5d04d077f0aab5c1990f02b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a0d0fbd5d04d077f0aab5c1990f02b8">iter_test_cases</a> (tests)</td></tr>
<tr class="separator:a7a0d0fbd5d04d077f0aab5c1990f02b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0656423cde72b76030e466d0b3e0cf" id="r_ada0656423cde72b76030e466d0b3e0cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada0656423cde72b76030e466d0b3e0cf">dependency_ordered</a> (test_databases, dependencies)</td></tr>
<tr class="separator:ada0656423cde72b76030e466d0b3e0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d8988cb7885b4fafebaf65200802f5" id="r_a91d8988cb7885b4fafebaf65200802f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91d8988cb7885b4fafebaf65200802f5">get_unique_databases_and_mirrors</a> (aliases=None)</td></tr>
<tr class="separator:a91d8988cb7885b4fafebaf65200802f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad0c762b7b02e279e68e5c2ca28489c" id="r_a0ad0c762b7b02e279e68e5c2ca28489c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ad0c762b7b02e279e68e5c2ca28489c">teardown_databases</a> (old_config, verbosity, parallel=0, keepdb=False)</td></tr>
<tr class="separator:a0ad0c762b7b02e279e68e5c2ca28489c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa7833f4994ee4d8ba3dd9ee2a4f248" id="r_a2aa7833f4994ee4d8ba3dd9ee2a4f248"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2aa7833f4994ee4d8ba3dd9ee2a4f248">get_runner</a> (settings, test_runner_class=None)</td></tr>
<tr class="separator:a2aa7833f4994ee4d8ba3dd9ee2a4f248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e353cda484630e7ce1fc349190b490" id="r_a98e353cda484630e7ce1fc349190b490"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98e353cda484630e7ce1fc349190b490">compare_xml</a> (want, got)</td></tr>
<tr class="separator:a98e353cda484630e7ce1fc349190b490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae233d1a19e885212def363319667d117" id="r_ae233d1a19e885212def363319667d117"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae233d1a19e885212def363319667d117">extend_sys_path</a> (*paths)</td></tr>
<tr class="separator:ae233d1a19e885212def363319667d117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8ef28d5c9ca590f99d5ac012c54e955" id="r_ad8ef28d5c9ca590f99d5ac012c54e955"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8ef28d5c9ca590f99d5ac012c54e955">isolate_lru_cache</a> (lru_cache_object)</td></tr>
<tr class="separator:ad8ef28d5c9ca590f99d5ac012c54e955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e0cad1a2f5127a7308cacc6dc50f52" id="r_a71e0cad1a2f5127a7308cacc6dc50f52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71e0cad1a2f5127a7308cacc6dc50f52">captured_output</a> (stream_name)</td></tr>
<tr class="separator:a71e0cad1a2f5127a7308cacc6dc50f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef6c9317b7365a5eb3e17aab3197341" id="r_aeef6c9317b7365a5eb3e17aab3197341"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeef6c9317b7365a5eb3e17aab3197341">captured_stdout</a> ()</td></tr>
<tr class="separator:aeef6c9317b7365a5eb3e17aab3197341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b59071cad531397de4714c1309e7ff2" id="r_a4b59071cad531397de4714c1309e7ff2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b59071cad531397de4714c1309e7ff2">captured_stderr</a> ()</td></tr>
<tr class="separator:a4b59071cad531397de4714c1309e7ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9209bdca47a6c99bcc848761dec36b" id="r_acd9209bdca47a6c99bcc848761dec36b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd9209bdca47a6c99bcc848761dec36b">captured_stdin</a> ()</td></tr>
<tr class="separator:acd9209bdca47a6c99bcc848761dec36b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83bbab56039bf0a57144fcf8e7198626" id="r_a83bbab56039bf0a57144fcf8e7198626"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83bbab56039bf0a57144fcf8e7198626">freeze_time</a> (t)</td></tr>
<tr class="separator:a83bbab56039bf0a57144fcf8e7198626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b921260b96dfcc14a3e2ce3098ae0a" id="r_a09b921260b96dfcc14a3e2ce3098ae0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09b921260b96dfcc14a3e2ce3098ae0a">require_jinja2</a> (test_func)</td></tr>
<tr class="separator:a09b921260b96dfcc14a3e2ce3098ae0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97edb544efd1cd887a32da4d6b2df0d" id="r_ab97edb544efd1cd887a32da4d6b2df0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab97edb544efd1cd887a32da4d6b2df0d">tag</a> (*tags)</td></tr>
<tr class="separator:ab97edb544efd1cd887a32da4d6b2df0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc075185046e9f955e39a51de748c0cb" id="r_acc075185046e9f955e39a51de748c0cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc075185046e9f955e39a51de748c0cb">register_lookup</a> (field, *lookups, lookup_name=None)</td></tr>
<tr class="separator:acc075185046e9f955e39a51de748c0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8032b453f31857b28ba7d6548a4ac9f3" id="r_a8032b453f31857b28ba7d6548a4ac9f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8032b453f31857b28ba7d6548a4ac9f3">garbage_collect</a> ()</td></tr>
<tr class="separator:a8032b453f31857b28ba7d6548a4ac9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac00fc9cb8c87893bc40df839bfee0220" id="r_ac00fc9cb8c87893bc40df839bfee0220"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac00fc9cb8c87893bc40df839bfee0220">jinja2</a> = None</td></tr>
<tr class="separator:ac00fc9cb8c87893bc40df839bfee0220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e4482678672d84a85d7f73f4e8d42c" id="r_a21e4482678672d84a85d7f73f4e8d42c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21e4482678672d84a85d7f73f4e8d42c">TZ_SUPPORT</a> = hasattr(time, &quot;tzset&quot;)</td></tr>
<tr class="separator:a21e4482678672d84a85d7f73f4e8d42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe2794d8d6ca57be8c95344953a89e1" id="r_afbe2794d8d6ca57be8c95344953a89e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbe2794d8d6ca57be8c95344953a89e1">requires_tz_support</a></td></tr>
<tr class="separator:afbe2794d8d6ca57be8c95344953a89e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a71e0cad1a2f5127a7308cacc6dc50f52" name="a71e0cad1a2f5127a7308cacc6dc50f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e0cad1a2f5127a7308cacc6dc50f52">&#9670;&#160;</a></span>captured_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.captured_output </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>stream_name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a context manager used by captured_stdout/stdin/stderr
that temporarily replaces the sys stream *stream_name* with a StringIO.

Note: This function and the following ``captured_std*`` are copied
      from CPython's ``test.support`` module.</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00785">785</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  785</span><span class="keyword">def </span>captured_output(stream_name):</div>
<div class="line"><span class="lineno">  786</span>    <span class="stringliteral">&quot;&quot;&quot;Return a context manager used by captured_stdout/stdin/stderr</span></div>
<div class="line"><span class="lineno">  787</span><span class="stringliteral">    that temporarily replaces the sys stream *stream_name* with a StringIO.</span></div>
<div class="line"><span class="lineno">  788</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  789</span><span class="stringliteral">    Note: This function and the following ``captured_std*`` are copied</span></div>
<div class="line"><span class="lineno">  790</span><span class="stringliteral">          from CPython&#39;s ``test.support`` module.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  791</span>    orig_stdout = getattr(sys, stream_name)</div>
<div class="line"><span class="lineno">  792</span>    setattr(sys, stream_name, StringIO())</div>
<div class="line"><span class="lineno">  793</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  794</span>        <span class="keywordflow">yield</span> getattr(sys, stream_name)</div>
<div class="line"><span class="lineno">  795</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  796</span>        setattr(sys, stream_name, orig_stdout)</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00809">captured_stderr()</a>, <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00819">captured_stdin()</a>, and <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00799">captured_stdout()</a>.</p>

</div>
</div>
<a id="a4b59071cad531397de4714c1309e7ff2" name="a4b59071cad531397de4714c1309e7ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b59071cad531397de4714c1309e7ff2">&#9670;&#160;</a></span>captured_stderr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.captured_stderr </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Capture the output of sys.stderr:

with captured_stderr() as stderr:
    print("hello", file=sys.stderr)
self.assertEqual(stderr.getvalue(), "hello\n")
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00809">809</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  809</span><span class="keyword">def </span>captured_stderr():</div>
<div class="line"><span class="lineno">  810</span>    <span class="stringliteral">&quot;&quot;&quot;Capture the output of sys.stderr:</span></div>
<div class="line"><span class="lineno">  811</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  812</span><span class="stringliteral">    with captured_stderr() as stderr:</span></div>
<div class="line"><span class="lineno">  813</span><span class="stringliteral">        print(&quot;hello&quot;, file=sys.stderr)</span></div>
<div class="line"><span class="lineno">  814</span><span class="stringliteral">    self.assertEqual(stderr.getvalue(), &quot;hello\n&quot;)</span></div>
<div class="line"><span class="lineno">  815</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  816</span>    <span class="keywordflow">return</span> captured_output(<span class="stringliteral">&quot;stderr&quot;</span>)</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00785">captured_output()</a>.</p>

</div>
</div>
<a id="acd9209bdca47a6c99bcc848761dec36b" name="acd9209bdca47a6c99bcc848761dec36b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd9209bdca47a6c99bcc848761dec36b">&#9670;&#160;</a></span>captured_stdin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.captured_stdin </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Capture the input to sys.stdin:

with captured_stdin() as stdin:
    stdin.write('hello\n')
    stdin.seek(0)
    # call test code that consumes from sys.stdin
    captured = input()
self.assertEqual(captured, "hello")
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00819">819</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  819</span><span class="keyword">def </span>captured_stdin():</div>
<div class="line"><span class="lineno">  820</span>    <span class="stringliteral">&quot;&quot;&quot;Capture the input to sys.stdin:</span></div>
<div class="line"><span class="lineno">  821</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  822</span><span class="stringliteral">    with captured_stdin() as stdin:</span></div>
<div class="line"><span class="lineno">  823</span><span class="stringliteral">        stdin.write(&#39;hello\n&#39;)</span></div>
<div class="line"><span class="lineno">  824</span><span class="stringliteral">        stdin.seek(0)</span></div>
<div class="line"><span class="lineno">  825</span><span class="stringliteral">        # call test code that consumes from sys.stdin</span></div>
<div class="line"><span class="lineno">  826</span><span class="stringliteral">        captured = input()</span></div>
<div class="line"><span class="lineno">  827</span><span class="stringliteral">    self.assertEqual(captured, &quot;hello&quot;)</span></div>
<div class="line"><span class="lineno">  828</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  829</span>    <span class="keywordflow">return</span> captured_output(<span class="stringliteral">&quot;stdin&quot;</span>)</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span><span class="preprocessor">@contextmanager</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00785">captured_output()</a>.</p>

</div>
</div>
<a id="aeef6c9317b7365a5eb3e17aab3197341" name="aeef6c9317b7365a5eb3e17aab3197341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeef6c9317b7365a5eb3e17aab3197341">&#9670;&#160;</a></span>captured_stdout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.captured_stdout </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Capture the output of sys.stdout:

with captured_stdout() as stdout:
    print("hello")
self.assertEqual(stdout.getvalue(), "hello\n")
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00799">799</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  799</span><span class="keyword">def </span>captured_stdout():</div>
<div class="line"><span class="lineno">  800</span>    <span class="stringliteral">&quot;&quot;&quot;Capture the output of sys.stdout:</span></div>
<div class="line"><span class="lineno">  801</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  802</span><span class="stringliteral">    with captured_stdout() as stdout:</span></div>
<div class="line"><span class="lineno">  803</span><span class="stringliteral">        print(&quot;hello&quot;)</span></div>
<div class="line"><span class="lineno">  804</span><span class="stringliteral">    self.assertEqual(stdout.getvalue(), &quot;hello\n&quot;)</span></div>
<div class="line"><span class="lineno">  805</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  806</span>    <span class="keywordflow">return</span> captured_output(<span class="stringliteral">&quot;stdout&quot;</span>)</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00785">captured_output()</a>.</p>

</div>
</div>
<a id="a98e353cda484630e7ce1fc349190b490" name="a98e353cda484630e7ce1fc349190b490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e353cda484630e7ce1fc349190b490">&#9670;&#160;</a></span>compare_xml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.compare_xml </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>want</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>got</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Try to do a 'xml-comparison' of want and got. Plain string comparison
doesn't always work because, for example, attribute ordering should not be
important. Ignore comment nodes, processing instructions, document type
node, and leading and trailing whitespaces.

Based on https://github.com/lxml/lxml/blob/master/src/lxml/doctestcompare.py
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00624">624</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  624</span><span class="keyword">def </span>compare_xml(want, got):</div>
<div class="line"><span class="lineno">  625</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral">    Try to do a &#39;xml-comparison&#39; of want and got. Plain string comparison</span></div>
<div class="line"><span class="lineno">  627</span><span class="stringliteral">    doesn&#39;t always work because, for example, attribute ordering should not be</span></div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral">    important. Ignore comment nodes, processing instructions, document type</span></div>
<div class="line"><span class="lineno">  629</span><span class="stringliteral">    node, and leading and trailing whitespaces.</span></div>
<div class="line"><span class="lineno">  630</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  631</span><span class="stringliteral">    Based on https://github.com/lxml/lxml/blob/master/src/lxml/doctestcompare.py</span></div>
<div class="line"><span class="lineno">  632</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  633</span>    _norm_whitespace_re = re.compile(<span class="stringliteral">r&quot;[ \t\n][ \t\n]+&quot;</span>)</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>    <span class="keyword">def </span>norm_whitespace(v):</div>
<div class="line"><span class="lineno">  636</span>        <span class="keywordflow">return</span> _norm_whitespace_re.sub(<span class="stringliteral">&quot; &quot;</span>, v)</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <span class="keyword">def </span>child_text(element):</div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>.join(</div>
<div class="line"><span class="lineno">  640</span>            c.data <span class="keywordflow">for</span> c <span class="keywordflow">in</span> element.childNodes <span class="keywordflow">if</span> c.nodeType == Node.TEXT_NODE</div>
<div class="line"><span class="lineno">  641</span>        )</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    <span class="keyword">def </span>children(element):</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordflow">return</span> [c <span class="keywordflow">for</span> c <span class="keywordflow">in</span> element.childNodes <span class="keywordflow">if</span> c.nodeType == Node.ELEMENT_NODE]</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    <span class="keyword">def </span>norm_child_text(element):</div>
<div class="line"><span class="lineno">  647</span>        <span class="keywordflow">return</span> norm_whitespace(child_text(element))</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>    <span class="keyword">def </span>attrs_dict(element):</div>
<div class="line"><span class="lineno">  650</span>        <span class="keywordflow">return</span> dict(element.attributes.items())</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="keyword">def </span>check_element(want_element, got_element):</div>
<div class="line"><span class="lineno">  653</span>        <span class="keywordflow">if</span> want_element.tagName != got_element.tagName:</div>
<div class="line"><span class="lineno">  654</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordflow">if</span> norm_child_text(want_element) != norm_child_text(got_element):</div>
<div class="line"><span class="lineno">  656</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">if</span> attrs_dict(want_element) != attrs_dict(got_element):</div>
<div class="line"><span class="lineno">  658</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  659</span>        want_children = children(want_element)</div>
<div class="line"><span class="lineno">  660</span>        got_children = children(got_element)</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">if</span> len(want_children) != len(got_children):</div>
<div class="line"><span class="lineno">  662</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  663</span>        <span class="keywordflow">return</span> all(</div>
<div class="line"><span class="lineno">  664</span>            check_element(want, got) <span class="keywordflow">for</span> want, got <span class="keywordflow">in</span> zip(want_children, got_children)</div>
<div class="line"><span class="lineno">  665</span>        )</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    <span class="keyword">def </span>first_node(document):</div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordflow">for</span> node <span class="keywordflow">in</span> document.childNodes:</div>
<div class="line"><span class="lineno">  669</span>            <span class="keywordflow">if</span> node.nodeType <span class="keywordflow">not</span> <span class="keywordflow">in</span> (</div>
<div class="line"><span class="lineno">  670</span>                Node.COMMENT_NODE,</div>
<div class="line"><span class="lineno">  671</span>                Node.DOCUMENT_TYPE_NODE,</div>
<div class="line"><span class="lineno">  672</span>                Node.PROCESSING_INSTRUCTION_NODE,</div>
<div class="line"><span class="lineno">  673</span>            ):</div>
<div class="line"><span class="lineno">  674</span>                <span class="keywordflow">return</span> node</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>    want = want.strip().replace(<span class="stringliteral">&quot;\\n&quot;</span>, <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  677</span>    got = got.strip().replace(<span class="stringliteral">&quot;\\n&quot;</span>, <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    <span class="comment"># If the string is not a complete xml document, we may need to add a</span></div>
<div class="line"><span class="lineno">  680</span>    <span class="comment"># root element. This allow us to compare fragments, like &quot;&lt;foo/&gt;&lt;bar/&gt;&quot;</span></div>
<div class="line"><span class="lineno">  681</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> want.startswith(<span class="stringliteral">&quot;&lt;?xml&quot;</span>):</div>
<div class="line"><span class="lineno">  682</span>        wrapper = <span class="stringliteral">&quot;&lt;root&gt;%s&lt;/root&gt;&quot;</span></div>
<div class="line"><span class="lineno">  683</span>        want = wrapper % want</div>
<div class="line"><span class="lineno">  684</span>        got = wrapper % got</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="comment"># Parse the want and got strings, and compare the parsings.</span></div>
<div class="line"><span class="lineno">  687</span>    want_root = first_node(parseString(want))</div>
<div class="line"><span class="lineno">  688</span>    got_root = first_node(parseString(got))</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">return</span> check_element(want_root, got_root)</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ada0656423cde72b76030e466d0b3e0cf" name="ada0656423cde72b76030e466d0b3e0cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada0656423cde72b76030e466d0b3e0cf">&#9670;&#160;</a></span>dependency_ordered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.dependency_ordered </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>test_databases</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dependencies</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reorder test_databases into an order that honors the dependencies
described in TEST[DEPENDENCIES].
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00260">260</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span><span class="keyword">def </span>dependency_ordered(test_databases, dependencies):</div>
<div class="line"><span class="lineno">  261</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">    Reorder test_databases into an order that honors the dependencies</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">    described in TEST[DEPENDENCIES].</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  265</span>    ordered_test_databases = []</div>
<div class="line"><span class="lineno">  266</span>    resolved_databases = set()</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    <span class="comment"># Maps db signature to dependencies of all its aliases</span></div>
<div class="line"><span class="lineno">  269</span>    dependencies_map = {}</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="comment"># Check that no database depends on its own alias</span></div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordflow">for</span> sig, (_, aliases) <span class="keywordflow">in</span> test_databases:</div>
<div class="line"><span class="lineno">  273</span>        all_deps = set()</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">for</span> alias <span class="keywordflow">in</span> aliases:</div>
<div class="line"><span class="lineno">  275</span>            all_deps.update(dependencies.get(alias, []))</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> all_deps.isdisjoint(aliases):</div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">raise</span> ImproperlyConfigured(</div>
<div class="line"><span class="lineno">  278</span>                <span class="stringliteral">&quot;Circular dependency: databases %r depend on each other, &quot;</span></div>
<div class="line"><span class="lineno">  279</span>                <span class="stringliteral">&quot;but are aliases.&quot;</span> % aliases</div>
<div class="line"><span class="lineno">  280</span>            )</div>
<div class="line"><span class="lineno">  281</span>        dependencies_map[sig] = all_deps</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">while</span> test_databases:</div>
<div class="line"><span class="lineno">  284</span>        changed = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  285</span>        deferred = []</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        <span class="comment"># Try to find a DB that has all its dependencies met</span></div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">for</span> signature, (db_name, aliases) <span class="keywordflow">in</span> test_databases:</div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">if</span> dependencies_map[signature].issubset(resolved_databases):</div>
<div class="line"><span class="lineno">  290</span>                resolved_databases.update(aliases)</div>
<div class="line"><span class="lineno">  291</span>                ordered_test_databases.append((signature, (db_name, aliases)))</div>
<div class="line"><span class="lineno">  292</span>                changed = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  294</span>                deferred.append((signature, (db_name, aliases)))</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> changed:</div>
<div class="line"><span class="lineno">  297</span>            <span class="keywordflow">raise</span> ImproperlyConfigured(<span class="stringliteral">&quot;Circular dependency in TEST[DEPENDENCIES]&quot;</span>)</div>
<div class="line"><span class="lineno">  298</span>        test_databases = deferred</div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">return</span> ordered_test_databases</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00302">get_unique_databases_and_mirrors()</a>.</p>

</div>
</div>
<a id="ae233d1a19e885212def363319667d117" name="ae233d1a19e885212def363319667d117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae233d1a19e885212def363319667d117">&#9670;&#160;</a></span>extend_sys_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.extend_sys_path </td>
          <td>(</td>
          <td class="paramtype">*</td>          <td class="paramname"><span class="paramname"><em>paths</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager to temporarily add paths to sys.path.</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00764">764</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  764</span><span class="keyword">def </span>extend_sys_path(*paths):</div>
<div class="line"><span class="lineno">  765</span>    <span class="stringliteral">&quot;&quot;&quot;Context manager to temporarily add paths to sys.path.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  766</span>    _orig_sys_path = sys.path[:]</div>
<div class="line"><span class="lineno">  767</span>    sys.path.extend(paths)</div>
<div class="line"><span class="lineno">  768</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  769</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  770</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  771</span>        sys.path = _orig_sys_path</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span><span class="preprocessor">@contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83bbab56039bf0a57144fcf8e7198626" name="a83bbab56039bf0a57144fcf8e7198626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83bbab56039bf0a57144fcf8e7198626">&#9670;&#160;</a></span>freeze_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.freeze_time </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager to temporarily freeze time.time(). This temporarily
modifies the time function of the time module. Modules which import the
time function directly (e.g. `from time import time`) won't be affected
This isn't meant as a public API, but helps reduce some repetitive code in
Django's test suite.
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00833">833</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  833</span><span class="keyword">def </span>freeze_time(t):</div>
<div class="line"><span class="lineno">  834</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  835</span><span class="stringliteral">    Context manager to temporarily freeze time.time(). This temporarily</span></div>
<div class="line"><span class="lineno">  836</span><span class="stringliteral">    modifies the time function of the time module. Modules which import the</span></div>
<div class="line"><span class="lineno">  837</span><span class="stringliteral">    time function directly (e.g. `from time import time`) won&#39;t be affected</span></div>
<div class="line"><span class="lineno">  838</span><span class="stringliteral">    This isn&#39;t meant as a public API, but helps reduce some repetitive code in</span></div>
<div class="line"><span class="lineno">  839</span><span class="stringliteral">    Django&#39;s test suite.</span></div>
<div class="line"><span class="lineno">  840</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  841</span>    _real_time = time.time</div>
<div class="line"><span class="lineno">  842</span>    time.time = <span class="keyword">lambda</span>: t</div>
<div class="line"><span class="lineno">  843</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  846</span>        time.time = _real_time</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8032b453f31857b28ba7d6548a4ac9f3" name="a8032b453f31857b28ba7d6548a4ac9f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8032b453f31857b28ba7d6548a4ac9f3">&#9670;&#160;</a></span>garbage_collect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.garbage_collect </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00990">990</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  990</span><span class="keyword">def </span>garbage_collect():</div>
<div class="line"><span class="lineno">  991</span>    gc.collect()</div>
<div class="line"><span class="lineno">  992</span>    <span class="keywordflow">if</span> PYPY:</div>
<div class="line"><span class="lineno">  993</span>        <span class="comment"># Collecting weakreferences can take two collections on PyPy.</span></div>
<div class="line"><span class="lineno">  994</span>        gc.collect()</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2aa7833f4994ee4d8ba3dd9ee2a4f248" name="a2aa7833f4994ee4d8ba3dd9ee2a4f248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa7833f4994ee4d8ba3dd9ee2a4f248">&#9670;&#160;</a></span>get_runner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.get_runner </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>test_runner_class</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00372">372</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  372</span><span class="keyword">def </span>get_runner(settings, test_runner_class=None):</div>
<div class="line"><span class="lineno">  373</span>    test_runner_class = test_runner_class <span class="keywordflow">or</span> settings.TEST_RUNNER</div>
<div class="line"><span class="lineno">  374</span>    test_path = test_runner_class.split(<span class="stringliteral">&quot;.&quot;</span>)</div>
<div class="line"><span class="lineno">  375</span>    <span class="comment"># Allow for relative paths</span></div>
<div class="line"><span class="lineno">  376</span>    <span class="keywordflow">if</span> len(test_path) &gt; 1:</div>
<div class="line"><span class="lineno">  377</span>        test_module_name = <span class="stringliteral">&quot;.&quot;</span>.join(test_path[:-1])</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  379</span>        test_module_name = <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><span class="lineno">  380</span>    test_module = __import__(test_module_name, {}, {}, test_path[-1])</div>
<div class="line"><span class="lineno">  381</span>    <span class="keywordflow">return</span> getattr(test_module, test_path[-1])</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a91d8988cb7885b4fafebaf65200802f5" name="a91d8988cb7885b4fafebaf65200802f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d8988cb7885b4fafebaf65200802f5">&#9670;&#160;</a></span>get_unique_databases_and_mirrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.get_unique_databases_and_mirrors </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>aliases</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Figure out which databases actually need to be created.

Deduplicate entries in DATABASES that correspond the same database or are
configured as test mirrors.

Return two values:
- test_databases: ordered mapping of signatures to (name, list of aliases)
                  where all aliases share the same underlying database.
- mirrored_aliases: mapping of mirror aliases to original aliases.
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00302">302</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  302</span><span class="keyword">def </span>get_unique_databases_and_mirrors(aliases=None):</div>
<div class="line"><span class="lineno">  303</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral">    Figure out which databases actually need to be created.</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">    Deduplicate entries in DATABASES that correspond the same database or are</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">    configured as test mirrors.</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">    Return two values:</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">    - test_databases: ordered mapping of signatures to (name, list of aliases)</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">                      where all aliases share the same underlying database.</span></div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">    - mirrored_aliases: mapping of mirror aliases to original aliases.</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordflow">if</span> aliases <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  315</span>        aliases = connections</div>
<div class="line"><span class="lineno">  316</span>    mirrored_aliases = {}</div>
<div class="line"><span class="lineno">  317</span>    test_databases = {}</div>
<div class="line"><span class="lineno">  318</span>    dependencies = {}</div>
<div class="line"><span class="lineno">  319</span>    default_sig = connections[DEFAULT_DB_ALIAS].creation.test_db_signature()</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">for</span> alias <span class="keywordflow">in</span> connections:</div>
<div class="line"><span class="lineno">  322</span>        connection = connections[alias]</div>
<div class="line"><span class="lineno">  323</span>        test_settings = connection.settings_dict[<span class="stringliteral">&quot;TEST&quot;</span>]</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">if</span> test_settings[<span class="stringliteral">&quot;MIRROR&quot;</span>]:</div>
<div class="line"><span class="lineno">  326</span>            <span class="comment"># If the database is marked as a test mirror, save the alias.</span></div>
<div class="line"><span class="lineno">  327</span>            mirrored_aliases[alias] = test_settings[<span class="stringliteral">&quot;MIRROR&quot;</span>]</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">elif</span> alias <span class="keywordflow">in</span> aliases:</div>
<div class="line"><span class="lineno">  329</span>            <span class="comment"># Store a tuple with DB parameters that uniquely identify it.</span></div>
<div class="line"><span class="lineno">  330</span>            <span class="comment"># If we have two aliases with the same values for that tuple,</span></div>
<div class="line"><span class="lineno">  331</span>            <span class="comment"># we only need to create the test database once.</span></div>
<div class="line"><span class="lineno">  332</span>            item = test_databases.setdefault(</div>
<div class="line"><span class="lineno">  333</span>                connection.creation.test_db_signature(),</div>
<div class="line"><span class="lineno">  334</span>                (connection.settings_dict[<span class="stringliteral">&quot;NAME&quot;</span>], []),</div>
<div class="line"><span class="lineno">  335</span>            )</div>
<div class="line"><span class="lineno">  336</span>            <span class="comment"># The default database must be the first because data migrations</span></div>
<div class="line"><span class="lineno">  337</span>            <span class="comment"># use the default alias by default.</span></div>
<div class="line"><span class="lineno">  338</span>            <span class="keywordflow">if</span> alias == DEFAULT_DB_ALIAS:</div>
<div class="line"><span class="lineno">  339</span>                item[1].insert(0, alias)</div>
<div class="line"><span class="lineno">  340</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  341</span>                item[1].append(alias)</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>            <span class="keywordflow">if</span> <span class="stringliteral">&quot;DEPENDENCIES&quot;</span> <span class="keywordflow">in</span> test_settings:</div>
<div class="line"><span class="lineno">  344</span>                dependencies[alias] = test_settings[<span class="stringliteral">&quot;DEPENDENCIES&quot;</span>]</div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  346</span>                <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  347</span>                    alias != DEFAULT_DB_ALIAS</div>
<div class="line"><span class="lineno">  348</span>                    <span class="keywordflow">and</span> connection.creation.test_db_signature() != default_sig</div>
<div class="line"><span class="lineno">  349</span>                ):</div>
<div class="line"><span class="lineno">  350</span>                    dependencies[alias] = test_settings.get(</div>
<div class="line"><span class="lineno">  351</span>                        <span class="stringliteral">&quot;DEPENDENCIES&quot;</span>, [DEFAULT_DB_ALIAS]</div>
<div class="line"><span class="lineno">  352</span>                    )</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    test_databases = dict(dependency_ordered(test_databases.items(), dependencies))</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">return</span> test_databases, mirrored_aliases</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00260">dependency_ordered()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00184">setup_databases()</a>.</p>

</div>
</div>
<a id="aa4333666a04294030cbe87cfa8729519" name="aa4333666a04294030cbe87cfa8729519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4333666a04294030cbe87cfa8729519">&#9670;&#160;</a></span>instrumented_test_render()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.instrumented_test_render </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">An instrumented Template render method, providing a signal that can be
intercepted by the test Client.
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00108">108</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span><span class="keyword">def </span>instrumented_test_render(self, context):</div>
<div class="line"><span class="lineno">  109</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    An instrumented Template render method, providing a signal that can be</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">    intercepted by the test Client.</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  113</span>    template_rendered.send(sender=self, template=self, context=context)</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> self.nodelist.render(context)</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8ef28d5c9ca590f99d5ac012c54e955" name="ad8ef28d5c9ca590f99d5ac012c54e955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8ef28d5c9ca590f99d5ac012c54e955">&#9670;&#160;</a></span>isolate_lru_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.isolate_lru_cache </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lru_cache_object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Clear the cache of an LRU cache object on entering and exiting.</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00775">775</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  775</span><span class="keyword">def </span>isolate_lru_cache(lru_cache_object):</div>
<div class="line"><span class="lineno">  776</span>    <span class="stringliteral">&quot;&quot;&quot;Clear the cache of an LRU cache object on entering and exiting.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  777</span>    lru_cache_object.cache_clear()</div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  779</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  780</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  781</span>        lru_cache_object.cache_clear()</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span><span class="preprocessor">@contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a0d0fbd5d04d077f0aab5c1990f02b8" name="a7a0d0fbd5d04d077f0aab5c1990f02b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a0d0fbd5d04d077f0aab5c1990f02b8">&#9670;&#160;</a></span>iter_test_cases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.iter_test_cases </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tests</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return an iterator over a test suite's unittest.TestCase objects.

The tests argument can also be an iterable of TestCase objects.
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00239">239</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  239</span><span class="keyword">def </span>iter_test_cases(tests):</div>
<div class="line"><span class="lineno">  240</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">    Return an iterator over a test suite&#39;s unittest.TestCase objects.</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">    The tests argument can also be an iterable of TestCase objects.</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">for</span> test <span class="keywordflow">in</span> tests:</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">if</span> isinstance(test, str):</div>
<div class="line"><span class="lineno">  247</span>            <span class="comment"># Prevent an unfriendly RecursionError that can happen with</span></div>
<div class="line"><span class="lineno">  248</span>            <span class="comment"># strings.</span></div>
<div class="line"><span class="lineno">  249</span>            <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  250</span>                f<span class="stringliteral">&quot;Test {test!r} must be a test case or test suite not string &quot;</span></div>
<div class="line"><span class="lineno">  251</span>                f<span class="stringliteral">&quot;(was found in {tests!r}).&quot;</span></div>
<div class="line"><span class="lineno">  252</span>            )</div>
<div class="line"><span class="lineno">  253</span>        <span class="keywordflow">if</span> isinstance(test, TestCase):</div>
<div class="line"><span class="lineno">  254</span>            <span class="keywordflow">yield</span> test</div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  256</span>            <span class="comment"># Otherwise, assume it is a test suite.</span></div>
<div class="line"><span class="lineno">  257</span>            <span class="keywordflow">yield</span> <span class="keyword">from</span> iter_test_cases(test)</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00239">iter_test_cases()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00239">iter_test_cases()</a>.</p>

</div>
</div>
<a id="acc075185046e9f955e39a51de748c0cb" name="acc075185046e9f955e39a51de748c0cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc075185046e9f955e39a51de748c0cb">&#9670;&#160;</a></span>register_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.register_lookup </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>field</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*</td>          <td class="paramname"><span class="paramname"><em>lookups</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lookup_name</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager to temporarily register lookups on a model field using
lookup_name (or the lookup's lookup_name if not provided).
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00976">976</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  976</span><span class="keyword">def </span>register_lookup(field, *lookups, lookup_name=None):</div>
<div class="line"><span class="lineno">  977</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  978</span><span class="stringliteral">    Context manager to temporarily register lookups on a model field using</span></div>
<div class="line"><span class="lineno">  979</span><span class="stringliteral">    lookup_name (or the lookup&#39;s lookup_name if not provided).</span></div>
<div class="line"><span class="lineno">  980</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  981</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  982</span>        <span class="keywordflow">for</span> lookup <span class="keywordflow">in</span> lookups:</div>
<div class="line"><span class="lineno">  983</span>            field.register_lookup(lookup, lookup_name)</div>
<div class="line"><span class="lineno">  984</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  985</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  986</span>        <span class="keywordflow">for</span> lookup <span class="keywordflow">in</span> lookups:</div>
<div class="line"><span class="lineno">  987</span>            field._unregister_lookup(lookup, lookup_name)</div>
<div class="line"><span class="lineno">  988</span> </div>
<div class="line"><span class="lineno">  989</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a09b921260b96dfcc14a3e2ce3098ae0a" name="a09b921260b96dfcc14a3e2ce3098ae0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09b921260b96dfcc14a3e2ce3098ae0a">&#9670;&#160;</a></span>require_jinja2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.require_jinja2 </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>test_func</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decorator to enable a Jinja2 template engine in addition to the regular
Django template engine for a test or skip it if Jinja2 isn't available.
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00849">849</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  849</span><span class="keyword">def </span>require_jinja2(test_func):</div>
<div class="line"><span class="lineno">  850</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  851</span><span class="stringliteral">    Decorator to enable a Jinja2 template engine in addition to the regular</span></div>
<div class="line"><span class="lineno">  852</span><span class="stringliteral">    Django template engine for a test or skip it if Jinja2 isn&#39;t available.</span></div>
<div class="line"><span class="lineno">  853</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  854</span>    test_func = skipIf(jinja2 <span class="keywordflow">is</span> <span class="keywordtype">None</span>, <span class="stringliteral">&quot;this test requires jinja2&quot;</span>)(test_func)</div>
<div class="line"><span class="lineno">  855</span>    <span class="keywordflow">return</span> override_settings(</div>
<div class="line"><span class="lineno">  856</span>        TEMPLATES=[</div>
<div class="line"><span class="lineno">  857</span>            {</div>
<div class="line"><span class="lineno">  858</span>                <span class="stringliteral">&quot;BACKEND&quot;</span>: <span class="stringliteral">&quot;django.template.backends.django.DjangoTemplates&quot;</span>,</div>
<div class="line"><span class="lineno">  859</span>                <span class="stringliteral">&quot;APP_DIRS&quot;</span>: <span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  860</span>            },</div>
<div class="line"><span class="lineno">  861</span>            {</div>
<div class="line"><span class="lineno">  862</span>                <span class="stringliteral">&quot;BACKEND&quot;</span>: <span class="stringliteral">&quot;django.template.backends.jinja2.Jinja2&quot;</span>,</div>
<div class="line"><span class="lineno">  863</span>                <span class="stringliteral">&quot;APP_DIRS&quot;</span>: <span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  864</span>                <span class="stringliteral">&quot;OPTIONS&quot;</span>: {<span class="stringliteral">&quot;keep_trailing_newline&quot;</span>: <span class="keyword">True</span>},</div>
<div class="line"><span class="lineno">  865</span>            },</div>
<div class="line"><span class="lineno">  866</span>        ]</div>
<div class="line"><span class="lineno">  867</span>    )(test_func)</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae13dc786bbc40e18810a8f144de2f25e" name="ae13dc786bbc40e18810a8f144de2f25e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae13dc786bbc40e18810a8f144de2f25e">&#9670;&#160;</a></span>setup_databases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.setup_databases </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbosity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>interactive</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>time_keeper</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>keepdb</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>debug_sql</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>parallel</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>aliases</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>serialized_aliases</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**</td>          <td class="paramname"><span class="paramname"><em>kwargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create the test databases.</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00173">173</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span>):</div>
<div class="line"><span class="lineno">  185</span>    <span class="stringliteral">&quot;&quot;&quot;Create the test databases.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> time_keeper <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  187</span>        time_keeper = NullTimeKeeper()</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    test_databases, mirrored_aliases = get_unique_databases_and_mirrors(aliases)</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    old_names = []</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">for</span> db_name, aliases <span class="keywordflow">in</span> test_databases.values():</div>
<div class="line"><span class="lineno">  194</span>        first_alias = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">for</span> alias <span class="keywordflow">in</span> aliases:</div>
<div class="line"><span class="lineno">  196</span>            connection = connections[alias]</div>
<div class="line"><span class="lineno">  197</span>            old_names.append((connection, db_name, first_alias <span class="keywordflow">is</span> <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>            <span class="comment"># Actually create the database for the first connection</span></div>
<div class="line"><span class="lineno">  200</span>            <span class="keywordflow">if</span> first_alias <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  201</span>                first_alias = alias</div>
<div class="line"><span class="lineno">  202</span>                <span class="keyword">with</span> time_keeper.timed(<span class="stringliteral">&quot;  Creating &#39;%s&#39;&quot;</span> % alias):</div>
<div class="line"><span class="lineno">  203</span>                    serialize_alias = (</div>
<div class="line"><span class="lineno">  204</span>                        serialized_aliases <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> alias <span class="keywordflow">in</span> serialized_aliases</div>
<div class="line"><span class="lineno">  205</span>                    )</div>
<div class="line"><span class="lineno">  206</span>                    connection.creation.create_test_db(</div>
<div class="line"><span class="lineno">  207</span>                        verbosity=verbosity,</div>
<div class="line"><span class="lineno">  208</span>                        autoclobber=<span class="keywordflow">not</span> interactive,</div>
<div class="line"><span class="lineno">  209</span>                        keepdb=keepdb,</div>
<div class="line"><span class="lineno">  210</span>                        serialize=serialize_alias,</div>
<div class="line"><span class="lineno">  211</span>                    )</div>
<div class="line"><span class="lineno">  212</span>                <span class="keywordflow">if</span> parallel &gt; 1:</div>
<div class="line"><span class="lineno">  213</span>                    <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(parallel):</div>
<div class="line"><span class="lineno">  214</span>                        <span class="keyword">with</span> time_keeper.timed(<span class="stringliteral">&quot;  Cloning &#39;%s&#39;&quot;</span> % alias):</div>
<div class="line"><span class="lineno">  215</span>                            connection.creation.clone_test_db(</div>
<div class="line"><span class="lineno">  216</span>                                suffix=str(index + 1),</div>
<div class="line"><span class="lineno">  217</span>                                verbosity=verbosity,</div>
<div class="line"><span class="lineno">  218</span>                                keepdb=keepdb,</div>
<div class="line"><span class="lineno">  219</span>                            )</div>
<div class="line"><span class="lineno">  220</span>            <span class="comment"># Configure all other connections as mirrors of the first one</span></div>
<div class="line"><span class="lineno">  221</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  222</span>                connections[alias].creation.set_as_test_mirror(</div>
<div class="line"><span class="lineno">  223</span>                    connections[first_alias].settings_dict</div>
<div class="line"><span class="lineno">  224</span>                )</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>    <span class="comment"># Configure the test mirrors.</span></div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">for</span> alias, mirror_alias <span class="keywordflow">in</span> mirrored_aliases.items():</div>
<div class="line"><span class="lineno">  228</span>        connections[alias].creation.set_as_test_mirror(</div>
<div class="line"><span class="lineno">  229</span>            connections[mirror_alias].settings_dict</div>
<div class="line"><span class="lineno">  230</span>        )</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">if</span> debug_sql:</div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">for</span> alias <span class="keywordflow">in</span> connections:</div>
<div class="line"><span class="lineno">  234</span>            connections[alias].force_debug_cursor = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">return</span> old_names</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00302">get_unique_databases_and_mirrors()</a>.</p>

</div>
</div>
<a id="a49a7887cc43f3886d12e0968e7ee3c98" name="a49a7887cc43f3886d12e0968e7ee3c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a7887cc43f3886d12e0968e7ee3c98">&#9670;&#160;</a></span>setup_test_environment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.setup_test_environment </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>debug</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform global pre-test setup, such as installing the instrumented template
renderer and setting the email backend to the locmem email backend.
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00121">121</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  121</span><span class="keyword">def </span>setup_test_environment(debug=None):</div>
<div class="line"><span class="lineno">  122</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">    Perform global pre-test setup, such as installing the instrumented template</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    renderer and setting the email backend to the locmem email backend.</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">if</span> hasattr(_TestState, <span class="stringliteral">&quot;saved_data&quot;</span>):</div>
<div class="line"><span class="lineno">  127</span>        <span class="comment"># Executing this function twice would overwrite the saved values.</span></div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  129</span>            <span class="stringliteral">&quot;setup_test_environment() was already called and can&#39;t be called &quot;</span></div>
<div class="line"><span class="lineno">  130</span>            <span class="stringliteral">&quot;again without first calling teardown_test_environment().&quot;</span></div>
<div class="line"><span class="lineno">  131</span>        )</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">if</span> debug <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  134</span>        debug = settings.DEBUG</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    saved_data = SimpleNamespace()</div>
<div class="line"><span class="lineno">  137</span>    _TestState.saved_data = saved_data</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    saved_data.allowed_hosts = settings.ALLOWED_HOSTS</div>
<div class="line"><span class="lineno">  140</span>    <span class="comment"># Add the default host of the test client.</span></div>
<div class="line"><span class="lineno">  141</span>    settings.ALLOWED_HOSTS = [*settings.ALLOWED_HOSTS, <span class="stringliteral">&quot;testserver&quot;</span>]</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    saved_data.debug = settings.DEBUG</div>
<div class="line"><span class="lineno">  144</span>    settings.DEBUG = debug</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>    saved_data.email_backend = settings.EMAIL_BACKEND</div>
<div class="line"><span class="lineno">  147</span>    settings.EMAIL_BACKEND = <span class="stringliteral">&quot;django.core.mail.backends.locmem.EmailBackend&quot;</span></div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    saved_data.template_render = Template._render</div>
<div class="line"><span class="lineno">  150</span>    Template._render = instrumented_test_render</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    mail.outbox = []</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    deactivate()</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab97edb544efd1cd887a32da4d6b2df0d" name="ab97edb544efd1cd887a32da4d6b2df0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97edb544efd1cd887a32da4d6b2df0d">&#9670;&#160;</a></span>tag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.tag </td>
          <td>(</td>
          <td class="paramtype">*</td>          <td class="paramname"><span class="paramname"><em>tags</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decorator to add tags to a test class or method.</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00962">962</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  962</span><span class="keyword">def </span>tag(*tags):</div>
<div class="line"><span class="lineno">  963</span>    <span class="stringliteral">&quot;&quot;&quot;Decorator to add tags to a test class or method.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>    <span class="keyword">def </span>decorator(obj):</div>
<div class="line"><span class="lineno">  966</span>        <span class="keywordflow">if</span> hasattr(obj, <span class="stringliteral">&quot;tags&quot;</span>):</div>
<div class="line"><span class="lineno">  967</span>            obj.tags = obj.tags.union(tags)</div>
<div class="line"><span class="lineno">  968</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  969</span>            setattr(obj, <span class="stringliteral">&quot;tags&quot;</span>, set(tags))</div>
<div class="line"><span class="lineno">  970</span>        <span class="keywordflow">return</span> obj</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>    <span class="keywordflow">return</span> decorator</div>
<div class="line"><span class="lineno">  973</span> </div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span><span class="preprocessor">@contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ad0c762b7b02e279e68e5c2ca28489c" name="a0ad0c762b7b02e279e68e5c2ca28489c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad0c762b7b02e279e68e5c2ca28489c">&#9670;&#160;</a></span>teardown_databases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.teardown_databases </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>old_config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbosity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>parallel</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>keepdb</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Destroy all the non-mirror databases.</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00358">358</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  358</span><span class="keyword">def </span>teardown_databases(old_config, verbosity, parallel=0, keepdb=False):</div>
<div class="line"><span class="lineno">  359</span>    <span class="stringliteral">&quot;&quot;&quot;Destroy all the non-mirror databases.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">for</span> connection, old_name, destroy <span class="keywordflow">in</span> old_config:</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">if</span> destroy:</div>
<div class="line"><span class="lineno">  362</span>            <span class="keywordflow">if</span> parallel &gt; 1:</div>
<div class="line"><span class="lineno">  363</span>                <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(parallel):</div>
<div class="line"><span class="lineno">  364</span>                    connection.creation.destroy_test_db(</div>
<div class="line"><span class="lineno">  365</span>                        suffix=str(index + 1),</div>
<div class="line"><span class="lineno">  366</span>                        verbosity=verbosity,</div>
<div class="line"><span class="lineno">  367</span>                        keepdb=keepdb,</div>
<div class="line"><span class="lineno">  368</span>                    )</div>
<div class="line"><span class="lineno">  369</span>            connection.creation.destroy_test_db(old_name, verbosity, keepdb)</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af4f016e5b5225872be0fadf3987a85c5" name="af4f016e5b5225872be0fadf3987a85c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f016e5b5225872be0fadf3987a85c5">&#9670;&#160;</a></span>teardown_test_environment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.teardown_test_environment </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform any global post-test teardown, such as restoring the original
template renderer and restoring the email sending functions.
</pre> 
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00157">157</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  157</span><span class="keyword">def </span>teardown_test_environment():</div>
<div class="line"><span class="lineno">  158</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral">    Perform any global post-test teardown, such as restoring the original</span></div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">    template renderer and restoring the email sending functions.</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  162</span>    saved_data = _TestState.saved_data</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    settings.ALLOWED_HOSTS = saved_data.allowed_hosts</div>
<div class="line"><span class="lineno">  165</span>    settings.DEBUG = saved_data.debug</div>
<div class="line"><span class="lineno">  166</span>    settings.EMAIL_BACKEND = saved_data.email_backend</div>
<div class="line"><span class="lineno">  167</span>    Template._render = saved_data.template_render</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    del _TestState.saved_data</div>
<div class="line"><span class="lineno">  170</span>    del mail.outbox</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac00fc9cb8c87893bc40df839bfee0220" name="ac00fc9cb8c87893bc40df839bfee0220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac00fc9cb8c87893bc40df839bfee0220">&#9670;&#160;</a></span>jinja2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.jinja2 = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00036">36</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>

</div>
</div>
<a id="afbe2794d8d6ca57be8c95344953a89e1" name="afbe2794d8d6ca57be8c95344953a89e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbe2794d8d6ca57be8c95344953a89e1">&#9670;&#160;</a></span>requires_tz_support</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.requires_tz_support</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  skipUnless(</div>
<div class="line"><span class="lineno">    2</span>    TZ_SUPPORT,</div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;This test relies on the ability to run a program in an arbitrary &quot;</span></div>
<div class="line"><span class="lineno">    4</span>    <span class="stringliteral">&quot;time zone, but your operating system isn&#39;t able to do that.&quot;</span>,</div>
<div class="line"><span class="lineno">    5</span>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00756">756</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>

</div>
</div>
<a id="a21e4482678672d84a85d7f73f4e8d42c" name="a21e4482678672d84a85d7f73f4e8d42c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21e4482678672d84a85d7f73f4e8d42c">&#9670;&#160;</a></span>TZ_SUPPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">django.test.utils.TZ_SUPPORT = hasattr(time, &quot;tzset&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html#l00058">58</a> of file <a class="el" href="_e_n_v_2_lib_2site-packages_2django_2test_2utils_8py_source.html">utils.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedjango.html">django</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1test.html">test</a></li><li class="navelem"><a class="el" href="namespacedjango_1_1test_1_1utils.html">utils</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
